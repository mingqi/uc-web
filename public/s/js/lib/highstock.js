(function(){function bt(e,t){var n;e||(e={});for(n in t)e[n]=t[n];return e}function wt(){var e,t=arguments,n,r={},i=function(e,t){var n,r;typeof e!="object"&&(e={});for(r in t)t.hasOwnProperty(r)&&(n=t[r],n&&typeof n=="object"&&Object.prototype.toString.call(n)!=="[object Array]"&&r!=="renderTo"&&typeof n.nodeType!="number"?e[r]=i(e[r]||{},n):e[r]=t[r]);return e};t[0]===!0&&(r=t[1],t=Array.prototype.slice.call(t,2)),n=t.length;for(e=0;e<n;e++)r=i(r,t[e]);return r}function Et(e,t){return parseInt(e,t||10)}function St(e){return typeof e=="string"}function xt(e){return e&&typeof e=="object"}function Tt(e){return Object.prototype.toString.call(e)==="[object Array]"}function Nt(e){return typeof e=="number"}function Ct(e){return r.log(e)/r.LN10}function kt(e){return r.pow(10,e)}function Lt(e,t){var n=e.length;while(n--)if(e[n]===t){e.splice(n,1);break}}function At(t){return t!==e&&t!==null}function Ot(e,t,n){var r,i;if(St(t))At(n)?e.setAttribute(t,n):e&&e.getAttribute&&(i=e.getAttribute(t));else if(At(t)&&xt(t))for(r in t)e.setAttribute(r,t[r]);return i}function Mt(e){return Tt(e)?e:[e]}function _t(){var t=arguments,n,r,i=t.length;for(n=0;n<i;n++){r=t[n];if(r!==e&&r!==null)return r}}function Dt(t,n){m&&!S&&n&&n.opacity!==e&&(n.filter="alpha(opacity="+n.opacity*100+")"),bt(t.style,n)}function Pt(e,n,r,i,s){var o=t.createElement(e);return n&&bt(o,n),s&&Dt(o,{padding:0,border:J,margin:0}),r&&Dt(o,r),i&&i.appendChild(o),o}function Ht(t,n){var r=function(){return e};return r.prototype=new t,bt(r.prototype,n),r}function Bt(e,t,n,r){var i=yt.numberFormat,s=O.lang,o=+e||0,u=t===-1?(o.toString().split(".")[1]||"").length:isNaN(t=f(t))?2:t,a=n===undefined?s.decimalPoint:n,l=r===undefined?s.thousandsSep:r,c=o<0?"-":"",h=String(Et(o=f(o).toFixed(u))),p=h.length>3?h.length%3:0;return i!==Bt?i(e,t,n,r):c+(p?h.substr(0,p)+l:"")+h.substr(p).replace(/(\d{3})(?=\d)/g,"$1"+l)+(u?a+f(o-h).toFixed(u).slice(2):"")}function jt(e,t){return(new Array((t||2)+1-String(e).length)).join(0)+e}function Ft(e,t,n){var r=e[t];e[t]=function(){var e=Array.prototype.slice.call(arguments);return e.unshift(r),n.apply(this,e)}}function It(e,t){var n=/f$/,r=/\.([0-9])/,i=O.lang,s;return n.test(e)?(s=e.match(r),s=s?s[1]:-1,t!==null&&(t=Bt(t,s,i.decimalPoint,e.indexOf(",")>-1?i.thousandsSep:""))):t=M(e,t),t}function qt(e,t){var n="{",r=!1,i,s,o,u,a,f=[],l,c;while((c=e.indexOf(n))!==-1){i=e.slice(0,c);if(r){s=i.split(":"),o=s.shift().split("."),a=o.length,l=t;for(u=0;u<a;u++)l=l[o[u]];s.length&&(l=It(s.join(":"),l)),f.push(l)}else f.push(i);e=e.slice(c+1),r=!r,n=r?"}":"{"}return f.push(e),f.join("")}function Rt(e){return r.pow(10,s(r.log(e)/r.LN10))}function Ut(e,t,n,r){var i,s;n=_t(n,1),i=e/n,t||(t=[1,2,2.5,5,10],r===!1&&(n===1?t=[1,2,5,10]:n<=.1&&(t=[1/n])));for(s=0;s<t.length;s++){e=t[s];if(i<=(t[s]+(t[s+1]||t[s]))/2)break}return e*=n,e}function zt(e,t){var n=e.length,r,i;for(i=0;i<n;i++)e[i].ss_i=i;e.sort(function(e,n){return r=t(e,n),r===0?e.ss_i-n.ss_i:r});for(i=0;i<n;i++)delete e[i].ss_i}function Wt(e){var t=e.length,n=e[0];while(t--)e[t]<n&&(n=e[t]);return n}function Xt(e){var t=e.length,n=e[0];while(t--)e[t]>n&&(n=e[t]);return n}function Vt(e,t){var n;for(n in e)e[n]&&e[n]!==t&&e[n].destroy&&e[n].destroy(),delete e[n]}function $t(e){A||(A=Pt(R)),e&&A.appendChild(e),A.innerHTML=""}function Jt(e){return parseFloat(e.toPrecision(14))}function Kt(e,t){_=_t(e,t.animation)}function vn(){var e=O.global.useUTC,t=e?"getUTC":"get",n=e?"setUTC":"set";rt=O.global.Date||window.Date,st=(e&&O.global.timezoneOffset||0)*6e4,it=e?rt.UTC:function(e,t,n,r,i,s){return(new rt(e,t,_t(n,1),_t(r,0),_t(i,0),_t(s,0))).getTime()},ot=t+"Minutes",ut=t+"Hours",at=t+"Day",ft=t+"Date",lt=t+"Month",ct=t+"FullYear",ht=n+"Minutes",pt=n+"Hours",dt=n+"Date",vt=n+"Month",mt=n+"FullYear"}function mn(e){return O=wt(!0,O,e),vn(),O}function gn(){return O}function Sn(){}function An(e,t,n,r){this.axis=e,this.pos=t,this.type=n||"",this.isNew=!0,!n&&!r&&this.addLabel()}function On(){this.init.apply(this,arguments)}function qn(){this.init.apply(this,arguments)}function Wn(e,t,n,r,i){var s=e.chart.inverted;this.axis=e,this.isNegative=n,this.options=t,this.x=r,this.total=null,this.points={},this.stack=i,this.alignOptions={align:t.align||(s?n?"left":"right":"center"),verticalAlign:t.verticalAlign||(s?"middle":n?"bottom":"top"),y:_t(t.y,s?4:n?14:-6),x:_t(t.x,s?n?-6:6:0)},this.textAlign=t.textAlign||(s?n?"right":"left":"center")}function wr(e){var t=e.options,n=t.navigator,r=n.enabled,i=t.scrollbar,s=i.enabled,o=r?n.height:0,u=s?i.height:0;this.handles=[],this.scrollbarButtons=[],this.elementsToDestroy=[],this.chart=e,this.setBaseSeries(),this.height=o,this.scrollbarHeight=u,this.scrollbarEnabled=s,this.navigatorEnabled=r,this.navigatorOptions=n,this.scrollbarOptions=i,this.outlineHeight=o+u,this.init()}function Er(e){this.init(e)}var e,t=document,n=window,r=Math,i=r.round,s=r.floor,o=r.ceil,u=r.max,a=r.min,f=r.abs,l=r.cos,c=r.sin,h=r.PI,p=h*2/360,d=navigator.userAgent,v=n.opera,m=/msie/i.test(d)&&!v,g=t.documentMode===8,y=/AppleWebKit/.test(d),b=/Firefox/.test(d),w=/(Mobile|Android|Windows Phone)/.test(d),E="http://www.w3.org/2000/svg",S=!!t.createElementNS&&!!t.createElementNS(E,"svg").createSVGRect,x=b&&parseInt(d.split("Firefox/")[1],10)<4,T=!S&&!m&&!!t.createElement("canvas").getContext,N,C,k={},L=0,A,O,M,_,D,P,H,B=function(){return e},j=[],F=0,I="Highstock",q="2.0.4",R="div",U="absolute",z="relative",W="hidden",X="highcharts-",V="visible",$="px",J="none",K="M",Q="L",G=/^[0-9]+$/,Y="",Z="hover",et="select",tt,nt="stroke-width",rt,it,st,ot,ut,at,ft,lt,ct,ht,pt,dt,vt,mt,gt={},yt;n.Highcharts?H(16,!0):yt=n.Highcharts={},M=function(e,t,n){if(!At(t)||isNaN(t))return"Invalid date";e=_t(e,"%Y-%m-%d %H:%M:%S");var r=new rt(t-st),s,o=r[ut](),u=r[at](),a=r[ft](),f=r[lt](),l=r[ct](),c=O.lang,h=c.weekdays,p=bt({a:h[u].substr(0,3),A:h[u],d:jt(a),e:a,b:c.shortMonths[f],B:c.months[f],m:jt(f+1),y:l.toString().substr(2,2),Y:l,H:jt(o),I:jt(o%12||12),l:o%12||12,M:jt(r[ot]()),p:o<12?"AM":"PM",P:o<12?"am":"pm",S:jt(r.getSeconds()),L:jt(i(t%1e3),3)},yt.dateFormats);for(s in p)while(e.indexOf("%"+s)!==-1)e=e.replace("%"+s,typeof p[s]=="function"?p[s](t):p[s]);return n?e.substr(0,1).toUpperCase()+e.substr(1):e},H=function(e,t){var r="Highcharts error #"+e+": www.highcharts.com/errors/"+e;if(t)throw r;n.console&&console.log(r)},P={millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5,month:26784e5,year:31556952e3},D={init:function(e,t,n){t=t||"";var r=e.shift,i=t.indexOf("C")>-1,s=i?7:3,o,u,a,f=t.split(" "),l=[].concat(n),c,h,p=function(e){a=e.length;while(a--)e[a]===K&&e.splice(a+1,0,e[a+1],e[a+2],e[a+1],e[a+2])};i&&(p(f),p(l)),e.isArea&&(c=f.splice(f.length-6,6),h=l.splice(l.length-6,6));if(r<=l.length/s&&f.length===l.length)while(r--)l=[].concat(l).splice(0,s).concat(l);e.shift=0;if(f.length){o=l.length;while(f.length<o)u=[].concat(f).splice(f.length-s,s),i&&(u[s-6]=u[s-2],u[s-5]=u[s-1]),f=f.concat(u)}return c&&(f=f.concat(c),l=l.concat(h)),[f,l]},step:function(e,t,n,r){var i=[],s=e.length,o;if(n===1)i=r;else if(s===t.length&&n<1)while(s--)o=parseFloat(e[s]),i[s]=isNaN(o)?e[s]:n*parseFloat(t[s]-o)+o;else i=t;return i}},function(r){n.HighchartsAdapter=n.HighchartsAdapter||r&&{init:function(t){var n=r.fx;r.extend(r.easing,{easeOutQuad:function(e,t,n,r,i){return-r*(t/=i)*(t-2)+n}}),r.each(["cur","_default","width","height","opacity"],function(t,i){var s=n.step,o;i==="cur"?s=n.prototype:i==="_default"&&r.Tween&&(s=r.Tween.propHooks[i],i="set"),o=s[i],o&&(s[i]=function(n){var r;n=t?n:this;if(n.prop==="align")return;return r=n.elem,r.attr?r.attr(n.prop,i==="cur"?e:n.now):o.apply(this,arguments)})}),Ft(r.cssHooks.opacity,"get",function(e,t,n){return t.attr?t.opacity||0:e.call(this,t,n)}),this.addAnimSetter("d",function(e){var n=e.elem,r;e.started||(r=t.init(n,n.d,n.toD),e.start=r[0],e.end=r[1],e.started=!0),n.attr("d",t.step(e.start,e.end,e.pos,n.toD))}),this.each=Array.prototype.forEach?function(e,t){return Array.prototype.forEach.call(e,t)}:function(e,t){var n,r=e.length;for(n=0;n<r;n++)if(t.call(e[n],e[n],n,e)===!1)return n},r.fn.highcharts=function(){var t="Chart",n=arguments,r,i,s;return this[0]&&(St(n[0])&&(t=n[0],n=Array.prototype.slice.call(n,1)),r=n[0],r!==e&&(r.chart=r.chart||{},r.chart.renderTo=this[0],s=new yt[t](r,n[1]),i=this),r===e&&(i=j[Ot(this[0],"data-highcharts-chart")])),i}},addAnimSetter:function(e,t){r.Tween?r.Tween.propHooks[e]={set:t}:r.fx.step[e]=t},getScript:r.getScript,inArray:r.inArray,adapterRun:function(e,t){return r(e)[t]()},grep:r.grep,map:function(e,t){var n=[],r=0,i=e.length;for(;r<i;r++)n[r]=t.call(e[r],e[r],r,e);return n},offset:function(e){return r(e).offset()},addEvent:function(e,t,n){r(e).bind(t,n)},removeEvent:function(e,n,i){var s=t.removeEventListener?"removeEventListener":"detachEvent";t[s]&&e&&!e[s]&&(e[s]=function(){}),r(e).unbind(n,i)},fireEvent:function(e,t,n,i){var s=r.Event(t),o="detached"+t,u;!m&&n&&(delete n.layerX,delete n.layerY,delete n.returnValue),bt(s,n),e[t]&&(e[o]=e[t],e[t]=null),r.each(["preventDefault","stopPropagation"],function(e,t){var n=s[t];s[t]=function(){try{n.call(s)}catch(e){t==="preventDefault"&&(u=!0)}}}),r(e).trigger(s),e[o]&&(e[t]=e[o],e[o]=null),i&&!s.isDefaultPrevented()&&!u&&i(s)},washMouseEvent:function(t){var n=t.originalEvent||t;return n.pageX===e&&(n.pageX=t.pageX,n.pageY=t.pageY),n},animate:function(t,n,i){var s=r(t);t.style||(t.style={}),n.d&&(t.toD=n.d,n.d=1),s.stop(),n.opacity!==e&&t.attr&&(n.opacity+="px"),t.hasAnim=1,s.animate(n,i)},stop:function(e){e.hasAnim&&r(e).stop()}}}(n.jQuery);var Qt=n.HighchartsAdapter,Gt=Qt||{};Qt&&Qt.init.call(Qt,D);var Yt=Gt.adapterRun,Zt=Gt.getScript,en=Gt.inArray,tn=Gt.each,nn=Gt.grep,rn=Gt.offset,sn=Gt.map,on=Gt.addEvent,un=Gt.removeEvent,an=Gt.fireEvent,fn=Gt.washMouseEvent,ln=Gt.animate,cn=Gt.stop,hn={enabled:!0,x:0,y:15,style:{color:"#606060",cursor:"default",fontSize:"11px"}};O={colors:["#7cb5ec","#434348","#90ed7d","#f7a35c","#8085e9","#f15c80","#e4d354","#8085e8","#8d4653","#91e8e1"],symbols:["circle","diamond","square","triangle","triangle-down"],lang:{loading:"Loading...",months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],weekdays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],decimalPoint:".",numericSymbols:["k","M","G","T","P","E"],resetZoom:"Reset zoom",resetZoomTitle:"Reset zoom level 1:1",thousandsSep:","},global:{useUTC:!0,canvasToolsURL:"http://code.highcharts.com/stock/2.0.4/modules/canvas-tools.js",VMLRadialGradientURL:"http://code.highcharts.com/stock/2.0.4/gfx/vml-radial-gradient.png"},chart:{borderColor:"#4572A7",borderRadius:0,defaultSeriesType:"line",ignoreHiddenSeries:!0,spacing:[10,10,15,10],backgroundColor:"#FFFFFF",plotBorderColor:"#C0C0C0",resetZoomButton:{theme:{zIndex:20},position:{align:"right",x:-10,y:10}}},title:{text:"Chart title",align:"center",margin:15,style:{color:"#333333",fontSize:"18px"}},subtitle:{text:"",align:"center",style:{color:"#555555"}},plotOptions:{line:{allowPointSelect:!1,showCheckbox:!1,animation:{duration:1e3},events:{},lineWidth:2,marker:{lineWidth:0,radius:4,lineColor:"#FFFFFF",states:{hover:{enabled:!0,lineWidthPlus:1,radiusPlus:2},select:{fillColor:"#FFFFFF",lineColor:"#000000",lineWidth:2}}},point:{events:{}},dataLabels:wt(hn,{align:"center",enabled:!1,formatter:function(){return this.y===null?"":Bt(this.y,-1)},verticalAlign:"bottom",y:0}),cropThreshold:300,pointRange:0,states:{hover:{lineWidthPlus:1,marker:{},halo:{size:10,opacity:.25}},select:{marker:{}}},stickyTracking:!0,turboThreshold:1e3}},labels:{style:{position:U,color:"#3E576F"}},legend:{enabled:!0,align:"center",layout:"horizontal",labelFormatter:function(){return this.name},borderColor:"#909090",borderRadius:0,navigation:{activeColor:"#274b6d",inactiveColor:"#CCC"},shadow:!1,itemStyle:{color:"#333333",fontSize:"12px",fontWeight:"bold"},itemHoverStyle:{color:"#000"},itemHiddenStyle:{color:"#CCC"},itemCheckboxStyle:{position:U,width:"13px",height:"13px"},symbolPadding:5,verticalAlign:"bottom",x:0,y:0,title:{style:{fontWeight:"bold"}}},loading:{labelStyle:{fontWeight:"bold",position:z,top:"45%"},style:{position:U,backgroundColor:"white",opacity:.5,textAlign:"center"}},tooltip:{enabled:!0,animation:S,backgroundColor:"rgba(249, 249, 249, .85)",borderWidth:1,borderRadius:3,dateTimeLabelFormats:{millisecond:"%A, %b %e, %H:%M:%S.%L",second:"%A, %b %e, %H:%M:%S",minute:"%A, %b %e, %H:%M",hour:"%A, %b %e, %H:%M",day:"%A, %b %e, %Y",week:"Week from %A, %b %e, %Y",month:"%B %Y",year:"%Y"},headerFormat:'<span style="font-size: 10px">{point.key}</span><br/>',pointFormat:'<span style="color:{series.color}">●</span> {series.name}: <b>{point.y}</b><br/>',shadow:!0,snap:w?25:10,style:{color:"#333333",cursor:"default",fontSize:"12px",padding:"8px",whiteSpace:"nowrap"}},credits:{enabled:!0,text:"Highcharts.com",href:"http://www.highcharts.com",position:{align:"right",x:-10,verticalAlign:"bottom",y:-5},style:{cursor:"pointer",color:"#909090",fontSize:"9px"}}};var pn=O.plotOptions,dn=pn.line;vn();var yn=/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]?(?:\.[0-9]+)?)\s*\)/,bn=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/,wn=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/,En=function(e){function i(e){e&&e.stops?r=sn(e.stops,function(e){return En(e[1])}):(n=yn.exec(e),n?t=[Et(n[1]),Et(n[2]),Et(n[3]),parseFloat(n[4],10)]:(n=bn.exec(e),n?t=[Et(n[1],16),Et(n[2],16),Et(n[3],16),1]:(n=wn.exec(e),n&&(t=[Et(n[1]),Et(n[2]),Et(n[3]),1]))))}function s(n){var i;return r?(i=wt(e),i.stops=[].concat(i.stops),tn(r,function(e,t){i.stops[t]=[i.stops[t][0],e.get(n)]})):t&&!isNaN(t[0])?n==="rgb"?i="rgb("+t[0]+","+t[1]+","+t[2]+")":n==="a"?i=t[3]:i="rgba("+t.join(",")+")":i=e,i}function o(e){if(r)tn(r,function(t){t.brighten(e)});else if(Nt(e)&&e!==0){var n;for(n=0;n<3;n++)t[n]+=Et(e*255),t[n]<0&&(t[n]=0),t[n]>255&&(t[n]=255)}return this}function u(e){return t[3]=e,this}var t=[],n,r;return i(e),{get:s,brighten:o,rgba:t,setOpacity:u}};Sn.prototype={opacity:1,textProps:["fontSize","fontWeight","fontFamily","color","lineHeight","width","textDecoration","textShadow","HcTextStroke"],init:function(e,n){var r=this;r.element=n==="span"?Pt(n):t.createElementNS(E,n),r.renderer=e},animate:function(e,t,n){var r=_t(t,_,!0);return cn(this),r?(r=wt(r,{}),n&&(r.complete=n),ln(this,e,r)):(this.attr(e),n&&n()),this},colorGradient:function(e,t,n){var r=this.renderer,i,s,o,u,a,f,l,c,h,p,d,v=[];e.linearGradient?s="linearGradient":e.radialGradient&&(s="radialGradient");if(s){o=e[s],u=r.gradients,f=e.stops,h=n.radialReference,Tt(o)&&(e[s]=o={x1:o[0],y1:o[1],x2:o[2],y2:o[3],gradientUnits:"userSpaceOnUse"}),s==="radialGradient"&&h&&!At(o.gradientUnits)&&(o=wt(o,{cx:h[0]-h[2]/2+o.cx*h[2],cy:h[1]-h[2]/2+o.cy*h[2],r:o.r*h[2],gradientUnits:"userSpaceOnUse"}));for(p in o)p!=="id"&&v.push(p,o[p]);for(p in f)v.push(f[p]);v=v.join(","),u[v]?d=u[v].attr("id"):(o.id=d=X+L++,u[v]=a=r.createElement(s).attr(o).add(r.defs),a.stops=[],tn(f,function(e){var t;e[1].indexOf("rgba")===0?(i=En(e[1]),l=i.get("rgb"),c=i.get("a")):(l=e[1],c=1),t=r.createElement("stop").attr({offset:e[0],"stop-color":l,"stop-opacity":c}).add(a),a.stops.push(t)})),n.setAttribute(t,"url("+r.url+"#"+d+")")}},attr:function(t,n){var r,i,s=this.element,o,u=this,a;typeof t=="string"&&n!==e&&(r=t,t={},t[r]=n);if(typeof t=="string")u=(this[t+"Getter"]||this._defaultGetter).call(this,t,s);else{for(r in t)i=t[r],a=!1,this.symbolName&&/^(x|y|width|height|r|start|end|innerR|anchorX|anchorY)/.test(r)&&(o||(this.symbolAttr(t),o=!0),a=!0),this.rotation&&(r==="x"||r==="y")&&(this.doTransform=!0),a||(this[r+"Setter"]||this._defaultSetter).call(this,i,r,s),this.shadows&&/^(width|height|visibility|x|y|d|transform|cx|cy|r)$/.test(r)&&this.updateShadows(r,i);this.doTransform&&(this.updateTransform(),this.doTransform=!1)}return u},updateShadows:function(e,t){var n=this.shadows,r=n.length;while(r--)n[r].setAttribute(e,e==="height"?u(t-(n[r].cutHeight||0),0):e==="d"?this.d:t)},addClass:function(e){var t=this.element,n=Ot(t,"class")||"";return n.indexOf(e)===-1&&Ot(t,"class",n+" "+e),this},symbolAttr:function(e){var t=this;tn(["x","y","r","start","end","width","height","innerR","anchorX","anchorY"],function(n){t[n]=_t(e[n],t[n])}),t.attr({d:t.renderer.symbols[t.symbolName](t.x,t.y,t.width,t.height,t)})},clip:function(e){return this.attr("clip-path",e?"url("+this.renderer.url+"#"+e.id+")":J)},crisp:function(e){var t=this,n,r={},o,u=e.strokeWidth||t.strokeWidth||0;o=i(u)%2/2,e.x=s(e.x||t.x||0)+o,e.y=s(e.y||t.y||0)+o,e.width=s((e.width||t.width||0)-2*o),e.height=s((e.height||t.height||0)-2*o),e.strokeWidth=u;for(n in e)t[n]!==e[n]&&(t[n]=r[n]=e[n]);return r},css:function(e){var t=this,n=t.styles,r={},i=t.element,s,o,u="",a,f=!n;e&&e.color&&(e.fill=e.color);if(n)for(o in e)e[o]!==n[o]&&(r[o]=e[o],f=!0);if(f){s=t.textWidth=e&&e.width&&i.nodeName.toLowerCase()==="text"&&Et(e.width),n&&(e=bt(n,r)),t.styles=e,s&&(T||!S&&t.renderer.forExport)&&delete e.width;if(m&&!S)Dt(t.element,e);else{a=function(e,t){return"-"+t.toLowerCase()};for(o in e)u+=o.replace(/([A-Z])/g,a)+":"+e[o]+";";Ot(i,"style",u)}s&&t.added&&t.renderer.buildText(t)}return t},on:function(e,t){var n=this,r=n.element;return C&&e==="click"?(r.ontouchstart=function(e){n.touchEventFired=rt.now(),e.preventDefault(),t.call(r,e)},r.onclick=function(e){(d.indexOf("Android")===-1||rt.now()-(n.touchEventFired||0)>1100)&&t.call(r,e)}):r["on"+e]=t,this},setRadialReference:function(e){return this.element.radialReference=e,this},translate:function(e,t){return this.attr({translateX:e,translateY:t})},invert:function(){var e=this;return e.inverted=!0,e.updateTransform(),e},updateTransform:function(){var e=this,t=e.translateX||0,n=e.translateY||0,r=e.scaleX,i=e.scaleY,s=e.inverted,o=e.rotation,u=e.element,a;s&&(t+=e.attr("width"),n+=e.attr("height")),a=["translate("+t+","+n+")"],s?a.push("rotate(90) scale(-1,1)"):o&&a.push("rotate("+o+" "+(u.getAttribute("x")||0)+" "+(u.getAttribute("y")||0)+")"),(At(r)||At(i))&&a.push("scale("+_t(r,1)+" "+_t(i,1)+")"),a.length&&u.setAttribute("transform",a.join(" "))},toFront:function(){var e=this.element;return e.parentNode.appendChild(e),this},align:function(e,t,n){var r,s,o,u,a={},f,l=this.renderer,c=l.alignedObjects;if(e){this.alignOptions=e,this.alignByTranslate=t;if(!n||St(n))this.alignTo=f=n||"renderer",Lt(c,this),c.push(this),n=null}else e=this.alignOptions,t=this.alignByTranslate,f=this.alignTo;n=_t(n,l[f],l),r=e.align,s=e.verticalAlign,o=(n.x||0)+(e.x||0),u=(n.y||0)+(e.y||0);if(r==="right"||r==="center")o+=(n.width-(e.width||0))/{right:1,center:2}[r];a[t?"translateX":"x"]=i(o);if(s==="bottom"||s==="middle")u+=(n.height-(e.height||0))/({bottom:1,middle:2}[s]||1);return a[t?"translateY":"y"]=i(u),this[this.placed?"animate":"attr"](a),this.placed=!0,this.alignAttr=a,this},getBBox:function(){var e=this,t=e.bBox,n=e.renderer,r,i,s=e.rotation,o=e.element,u=e.styles,a=s*p,h=e.textStr,d;if(h===""||G.test(h))d="num."+h.toString().length+(u?"|"+u.fontSize+"|"+u.fontFamily:"");d&&(t=n.cache[d]);if(!t){if(o.namespaceURI===E||n.forExport){try{t=o.getBBox?bt({},o.getBBox()):{width:o.offsetWidth,height:o.offsetHeight}}catch(v){}if(!t||t.width<0)t={width:0,height:0}}else t=e.htmlGetBBox();n.isSVG&&(r=t.width,i=t.height,m&&u&&u.fontSize==="11px"&&i.toPrecision(3)==="16.9"&&(t.height=i=14),s&&(t.width=f(i*c(a))+f(r*l(a)),t.height=f(i*l(a))+f(r*c(a)))),e.bBox=t,d&&(n.cache[d]=t)}return t},show:function(e){return e&&this.element.namespaceURI===E?this.element.removeAttribute("visibility"):this.attr({visibility:e?"inherit":V}),this},hide:function(){return this.attr({visibility:W})},fadeOut:function(e){var t=this;t.animate({opacity:0},{duration:e||150,complete:function(){t.attr({y:-9999})}})},add:function(e){var t=this.renderer,n=e||t,r=n.element||t.box,i,s=this.element,o=this.zIndex,u,a,f,l;e&&(this.parentGroup=e),this.parentInverted=e&&e.inverted,this.textStr!==undefined&&t.buildText(this),o&&(n.handleZ=!0,o=Et(o));if(n.handleZ){i=r.childNodes;for(f=0;f<i.length;f++){u=i[f],a=Ot(u,"zIndex");if(u!==s&&(Et(a)>o||!At(o)&&At(a))){r.insertBefore(s,u),l=!0;break}}}return l||r.appendChild(s),this.added=!0,this.onAdd&&this.onAdd(),this},safeRemoveChild:function(e){var t=e.parentNode;t&&t.removeChild(e)},destroy:function(){var e=this,t=e.element||{},n=e.shadows,r=e.renderer.isSVG&&t.nodeName==="SPAN"&&e.parentGroup,i,s,o;t.onclick=t.onmouseout=t.onmouseover=t.onmousemove=t.point=null,cn(e),e.clipPath&&(e.clipPath=e.clipPath.destroy());if(e.stops){for(o=0;o<e.stops.length;o++)e.stops[o]=e.stops[o].destroy();e.stops=null}e.safeRemoveChild(t),n&&tn(n,function(t){e.safeRemoveChild(t)});while(r&&r.div&&r.div.childNodes.length===0)i=r.parentGroup,e.safeRemoveChild(r.div),delete r.div,r=i;e.alignTo&&Lt(e.renderer.alignedObjects,e);for(s in e)delete e[s];return null},shadow:function(e,t,n){var r=[],i,s,o=this.element,a,f,l,c;if(e){f=_t(e.width,3),l=(e.opacity||.15)/f,c=this.parentInverted?"(-1,-1)":"("+_t(e.offsetX,1)+", "+_t(e.offsetY,1)+")";for(i=1;i<=f;i++)s=o.cloneNode(0),a=f*2+1-2*i,Ot(s,{isShadow:"true",stroke:e.color||"black","stroke-opacity":l*i,"stroke-width":a,transform:"translate"+c,fill:J}),n&&(Ot(s,"height",u(Ot(s,"height")-a,0)),s.cutHeight=a),t?t.element.appendChild(s):o.parentNode.insertBefore(s,o),r.push(s);this.shadows=r}return this},xGetter:function(e){return this.element.nodeName==="circle"&&(e={x:"cx",y:"cy"}[e]||e),this._defaultGetter(e)},_defaultGetter:function(e){var t=_t(this[e],this.element?this.element.getAttribute(e):null,0);return/^[\-0-9\.]+$/.test(t)&&(t=parseFloat(t)),t},dSetter:function(e,t,n){e&&e.join&&(e=e.join(" ")),/(NaN| {2}|^$)/.test(e)&&(e="M 0 0"),n.setAttribute(t,e),this[t]=e},dashstyleSetter:function(e){var t;e=e&&e.toLowerCase();if(e){e=e.replace("shortdashdotdot","3,1,1,1,1,1,").replace("shortdashdot","3,1,1,1").replace("shortdot","1,1,").replace("shortdash","3,1,").replace("longdash","8,3,").replace(/dot/g,"1,3,").replace("dash","4,3,").replace(/,$/,"").split(","),t=e.length;while(t--)e[t]=Et(e[t])*this["stroke-width"];e=e.join(",").replace("NaN","none"),this.element.setAttribute("stroke-dasharray",e)}},alignSetter:function(e){this.element.setAttribute("text-anchor",{left:"start",center:"middle",right:"end"}[e])},opacitySetter:function(e,t,n){this[t]=e,n.setAttribute(t,e)},titleSetter:function(e){var n=this.element.getElementsByTagName("title")[0];n||(n=t.createElementNS(E,"title"),this.element.appendChild(n)),n.textContent=_t(e,"").replace(/<[^>]*>/g,"")},textSetter:function(e){e!==this.textStr&&(delete this.bBox,this.textStr=e,this.added&&this.renderer.buildText(this))},fillSetter:function(e,t,n){typeof e=="string"?n.setAttribute(t,e):e&&this.colorGradient(e,t,n)},zIndexSetter:function(e,t,n){n.setAttribute(t,e),this[t]=e},_defaultSetter:function(e,t,n){n.setAttribute(t,e)}},Sn.prototype.yGetter=Sn.prototype.xGetter,Sn.prototype.translateXSetter=Sn.prototype.translateYSetter=Sn.prototype.rotationSetter=Sn.prototype.verticalAlignSetter=Sn.prototype.scaleXSetter=Sn.prototype.scaleYSetter=function(e,t){this[t]=e,this.doTransform=!0},Sn.prototype["stroke-widthSetter"]=Sn.prototype.strokeSetter=function(e,t,n){this[t]=e,this.stroke&&this["stroke-width"]?(this.strokeWidth=this["stroke-width"],Sn.prototype.fillSetter.call(this,this.stroke,"stroke",n),n.setAttribute("stroke-width",this["stroke-width"]),this.hasStroke=!0):t==="stroke-width"&&e===0&&this.hasStroke&&(n.removeAttribute("stroke"),this.hasStroke=!1)};var xn=function(){this.init.apply(this,arguments)};xn.prototype={Element:Sn,init:function(e,r,i,s,u){var a=this,f=location,l,c,h;l=a.createElement("svg").attr({version:"1.1"}).css(this.getStyle(s)),c=l.element,e.appendChild(c),e.innerHTML.indexOf("xmlns")===-1&&Ot(c,"xmlns",E),a.isSVG=!0,a.box=c,a.boxWrapper=l,a.alignedObjects=[],a.url=(b||y)&&t.getElementsByTagName("base").length?f.href.replace(/#.*?$/,"").replace(/([\('\)])/g,"\\$1").replace(/ /g,"%20"):"",h=this.createElement("desc").add(),h.element.appendChild(t.createTextNode("Created with "+I+" "+q)),a.defs=this.createElement("defs").add(),a.forExport=u,a.gradients={},a.cache={},a.setSize(r,i,!1);var p,d;b&&e.getBoundingClientRect&&(a.subPixelFix=p=function(){Dt(e,{left:0,top:0}),d=e.getBoundingClientRect(),Dt(e,{left:o(d.left)-d.left+$,top:o(d.top)-d.top+$})},p(),on(n,"resize",p))},getStyle:function(e){return this.style=bt({fontFamily:'"Lucida Grande", "Lucida Sans Unicode", Arial, Helvetica, sans-serif',fontSize:"12px"},e)},isHidden:function(){return!this.boxWrapper.getBBox().width},destroy:function(){var e=this,t=e.defs;return e.box=null,e.boxWrapper=e.boxWrapper.destroy(),Vt(e.gradients||{}),e.gradients=null,t&&(e.defs=t.destroy()),e.subPixelFix&&un(n,"resize",e.subPixelFix),e.alignedObjects=null,null},createElement:function(e){var t=new this.Element;return t.init(this,e),t},draw:function(){},buildText:function(e){var n=e.element,r=this,i=r.forExport,s=_t(e.textStr,"").toString(),o=s.indexOf("<")!==-1,u,a=n.childNodes,f,l,c=Ot(n,"x"),h=e.styles,p=e.textWidth,d=h&&h.lineHeight,v=h&&h.HcTextStroke,m=a.length,g=function(e){return d?Et(d):r.fontMetrics(/(px|em)$/.test(e&&e.style.fontSize)?e.style.fontSize:h&&h.fontSize||r.style.fontSize||12,e).h};while(m--)n.removeChild(a[m]);if(!o&&!v&&s.indexOf(" ")===-1){n.appendChild(t.createTextNode(s));return}f=/<.*style="([^"]+)".*>/,l=/<.*href="(http[^"]+)".*>/,p&&!e.added&&this.box.appendChild(n),o?u=s.replace(/<(b|strong)>/g,'<span style="font-weight:bold">').replace(/<(i|em)>/g,'<span style="font-style:italic">').replace(/<a/g,"<span").replace(/<\/(b|strong|i|em|a)>/g,"</span>").split(/<br.*?>/g):u=[s],u[u.length-1]===""&&u.pop(),tn(u,function(s,o){var u,a=0;s=s.replace(/<span/g,"|||<span").replace(/<\/span>/g,"</span>|||"),u=s.split("|||"),tn(u,function(s){if(s!==""||u.length===1){var d={},v=t.createElementNS(E,"tspan"),m;f.test(s)&&(m=s.match(f)[1].replace(/(;| |^)color([ :])/,"$1fill$2"),Ot(v,"style",m)),l.test(s)&&!i&&(Ot(v,"onclick",'location.href="'+s.match(l)[1]+'"'),Dt(v,{cursor:"pointer"})),s=(s.replace(/<(.|\n)*?>/g,"")||" ").replace(/&lt;/g,"<").replace(/&gt;/g,">");if(s!==" "){v.appendChild(t.createTextNode(s)),a?d.dx=0:o&&c!==null&&(d.x=c),Ot(v,d),n.appendChild(v),!a&&o&&(!S&&i&&Dt(v,{display:"block"}),Ot(v,"dy",g(v)));if(p){var y=s.replace(/([^\^])-/g,"$1- ").split(" "),b=u.length>1||y.length>1&&h.whiteSpace!=="nowrap",w,x,T=h.HcHeight,N=[],C=g(v),k=1,L;while(b&&(y.length||N.length))delete e.bBox,L=e.getBBox(),x=L.width,!S&&r.forExport&&(x=r.measureSpanWidth(v.firstChild.data,e.styles)),w=x>p,!w||y.length===1?(y=N,N=[],y.length&&(k++,T&&k*C>T?(y=["..."],e.attr("title",e.textStr)):(v=t.createElementNS(E,"tspan"),Ot(v,{dy:C,x:c}),m&&Ot(v,"style",m),n.appendChild(v))),x>p&&(p=x)):(v.removeChild(v.firstChild),N.unshift(y.pop())),y.length&&v.appendChild(t.createTextNode(y.join(" ").replace(/- /g,"-")))}a++}}})})},button:function(e,t,n,r,i,s,o,u,a){var f=this.label(e,t,n,a,null,null,null,null,"button"),l=0,c,h,p,d,v,g,y={x1:0,y1:0,x2:0,y2:1};return i=wt({"stroke-width":1,stroke:"#CCCCCC",fill:{linearGradient:y,stops:[[0,"#FEFEFE"],[1,"#F6F6F6"]]},r:2,padding:5,style:{color:"black"}},i),p=i.style,delete i.style,s=wt(i,{stroke:"#68A",fill:{linearGradient:y,stops:[[0,"#FFF"],[1,"#ACF"]]}},s),d=s.style,delete s.style,o=wt(i,{stroke:"#68A",fill:{linearGradient:y,stops:[[0,"#9BD"],[1,"#CDF"]]}},o),v=o.style,delete o.style,u=wt(i,{style:{color:"#CCC"}},u),g=u.style,delete u.style,on(f.element,m?"mouseover":"mouseenter",function(){l!==3&&f.attr(s).css(d)}),on(f.element,m?"mouseout":"mouseleave",function(){l!==3&&(c=[i,s,o][l],h=[p,d,v][l],f.attr(c).css(h))}),f.setState=function(e){f.state=l=e,e?e===2?f.attr(o).css(v):e===3&&f.attr(u).css(g):f.attr(i).css(p)},f.on("click",function(){l!==3&&r.call(f)}).attr(i).css(bt({cursor:"default"},p))},crispLine:function(e,t){return e[1]===e[4]&&(e[1]=e[4]=i(e[1])-t%2/2),e[2]===e[5]&&(e[2]=e[5]=i(e[2])+t%2/2),e},path:function(e){var t={fill:J};return Tt(e)?t.d=e:xt(e)&&bt(t,e),this.createElement("path").attr(t)},circle:function(e,t,n){var r=xt(e)?e:{x:e,y:t,r:n},i=this.createElement("circle");return i.xSetter=function(e){this.element.setAttribute("cx",e)},i.ySetter=function(e){this.element.setAttribute("cy",e)},i.attr(r)},arc:function(e,t,n,r,i,s){var o;return xt(e)&&(t=e.y,n=e.r,r=e.innerR,i=e.start,s=e.end,e=e.x),o=this.symbol("arc",e||0,t||0,n||0,n||0,{innerR:r||0,start:i||0,end:s||0}),o.r=n,o},rect:function(t,n,r,i,s,o){s=xt(t)?t.r:s;var a=this.createElement("rect"),f=xt(t)?t:t===e?{}:{x:t,y:n,width:u(r,0),height:u(i,0)};return o!==e&&(f.strokeWidth=o,f=a.crisp(f)),s&&(f.r=s),a.rSetter=function(e){Ot(this.element,{rx:e,ry:e})},a.attr(f)},setSize:function(e,t,n){var r=this,i=r.alignedObjects,s=i.length;r.width=e,r.height=t,r.boxWrapper[_t(n,!0)?"animate":"attr"]({width:e,height:t});while(s--)i[s].align()},g:function(e){var t=this.createElement("g");return At(e)?t.attr({"class":X+e}):t},image:function(e,t,n,r,i){var s={preserveAspectRatio:J},o;return arguments.length>1&&bt(s,{x:t,y:n,width:r,height:i}),o=this.createElement("image").attr(s),o.element.setAttributeNS?o.element.setAttributeNS("http://www.w3.org/1999/xlink","href",e):o.element.setAttribute("hc-svg-href",e),o},symbol:function(e,t,n,r,s,o){var u,a=this.symbols[e],f=a&&a(i(t),i(n),r,s,o),l,c=/^url\((.*?)\)$/,h,p,d;return f?(u=this.path(f),bt(u,{symbolName:e,x:t,y:n,width:r,height:s}),o&&bt(u,o)):c.test(e)&&(d=function(e,t){e.element&&(e.attr({width:t[0],height:t[1]}),e.alignByTranslate||e.translate(i((r-t[0])/2),i((s-t[1])/2)))},h=e.match(c)[1],p=k[h]||o&&o.width&&o.height&&[o.width,o.height],u=this.image(h).attr({x:t,y:n}),u.isImg=!0,p?d(u,p):(u.attr({width:0,height:0}),l=Pt("img",{onload:function(){d(u,k[h]=[this.width,this.height])},src:h}))),u},symbols:{circle:function(e,t,n,r){var i=.166*n;return[K,e+n/2,t,"C",e+n+i,t,e+n+i,t+r,e+n/2,t+r,"C",e-i,t+r,e-i,t,e+n/2,t,"Z"]},square:function(e,t,n,r){return[K,e,t,Q,e+n,t,e+n,t+r,e,t+r,"Z"]},triangle:function(e,t,n,r){return[K,e+n/2,t,Q,e+n,t+r,e,t+r,"Z"]},"triangle-down":function(e,t,n,r){return[K,e,t,Q,e+n,t,e+n/2,t+r,"Z"]},diamond:function(e,t,n,r){return[K,e+n/2,t,Q,e+n,t+r/2,e+n/2,t+r,e,t+r/2,"Z"]},arc:function(e,t,n,r,i){var s=i.start,o=i.r||n||r,u=i.end-.001,a=i.innerR,f=i.open,p=l(s),d=c(s),v=l(u),m=c(u),g=i.end-s<h?0:1;return[K,e+o*p,t+o*d,"A",o,o,0,g,1,e+o*v,t+o*m,f?K:Q,e+a*v,t+a*m,"A",a,a,0,g,0,e+a*p,t+a*d,f?"":"Z"]},callout:function(e,t,n,r,s){var o=6,u=6,f=a(s&&s.r||0,n,r),l=f+u,c=s&&s.anchorX,h=s&&s.anchorY,p,d=i(s.strokeWidth||0)%2/2;return e+=d,t+=d,p=["M",e+f,t,"L",e+n-f,t,"C",e+n,t,e+n,t,e+n,t+f,"L",e+n,t+r-f,"C",e+n,t+r,e+n,t+r,e+n-f,t+r,"L",e+f,t+r,"C",e,t+r,e,t+r,e,t+r-f,"L",e,t+f,"C",e,t,e,t,e+f,t],c&&c>n&&h>t+l&&h<t+r-l?p.splice(13,3,"L",e+n,h-u,e+n+o,h,e+n,h+u,e+n,t+r-f):c&&c<0&&h>t+l&&h<t+r-l?p.splice(33,3,"L",e,h+u,e-o,h,e,h-u,e,t+f):h&&h>r&&c>e+l&&c<e+n-l?p.splice(23,3,"L",c+u,t+r,c,t+r+o,c-u,t+r,e+f,t+r):h&&h<0&&c>e+l&&c<e+n-l&&p.splice(3,3,"L",c-u,t,c,t-o,c+u,t,n-f,t),p}},clipRect:function(e,t,n,r){var i,s=X+L++,o=this.createElement("clipPath").attr({id:s}).add(this.defs);return i=this.rect(e,t,n,r,0).add(o),i.id=s,i.clipPath=o,i},text:function(e,t,n,r){var i=this,s=T||!S&&i.forExport,o,u={};if(r&&!i.forExport)return i.html(e,t,n);u.x=Math.round(t||0),n&&(u.y=Math.round(n));if(e||e===0)u.text=e;return o=i.createElement("text").attr(u),s&&o.css({position:U}),r||(o.xSetter=function(e,t,n){var r=n.getElementsByTagName("tspan"),i,s=n.getAttribute(t),o;for(o=0;o<r.length;o++)i=r[o],i.getAttribute(t)===s&&i.setAttribute(t,e);n.setAttribute(t,e)}),o},fontMetrics:function(e,t){e=e||this.style.fontSize,t&&n.getComputedStyle&&(t=t.element||t,e=n.getComputedStyle(t,"").fontSize),e=/px/.test(e)?Et(e):/em/.test(e)?parseFloat(e)*12:12;var r=e<24?e+4:i(e*1.2),s=i(r*.8);return{h:r,b:s,f:e}},label:function(t,n,r,s,o,u,a,f,l){function k(){var e,t,n=p.element.style;v=(b===undefined||w===undefined||h.styles.textAlign)&&p.textStr&&p.getBBox(),h.width=(b||v.width||0)+2*g+y,h.height=(w||v.height||0)+2*g,N=g+c.fontMetrics(n&&n.fontSize,p).b,C&&(d||(e=i(-m*g),t=f?-N:0,h.box=d=s?c.symbol(s,e,t,h.width,h.height,T):c.rect(e,t,h.width,h.height,0,T[nt]),d.attr("fill",J).add(h)),d.isImg||d.attr(bt({width:i(h.width),height:i(h.height)},T)),T=null)}function L(){var t=h.styles,n=t&&t.textAlign,r=y+g*(1-m),i;i=f?0:N,At(b)&&v&&(n==="center"||n==="right")&&(r+={center:.5,right:1}[n]*(b-v.width));if(r!==p.x||i!==p.y)p.attr("x",r),i!==e&&p.attr("y",i);p.x=r,p.y=i}function A(e,t){d?d.attr(e,t):T[e]=t}var c=this,h=c.g(l),p=c.text("",0,0,a).attr({zIndex:1}),d,v,m=0,g=3,y=0,b,w,E,S,x=0,T={},N,C;h.onAdd=function(){p.add(h),h.attr({text:t||t===0?t:"",x:n,y:r}),d&&At(o)&&h.attr({anchorX:o,anchorY:u})},h.widthSetter=function(e){b=e},h.heightSetter=function(e){w=e},h.paddingSetter=function(e){At(e)&&e!==g&&(g=e,L())},h.paddingLeftSetter=function(e){At(e)&&e!==y&&(y=e,L())},h.alignSetter=function(e){m={left:0,center:.5,right:1}[e]},h.textSetter=function(t){t!==e&&p.textSetter(t),k(),L()},h["stroke-widthSetter"]=function(e,t){e&&(C=!0),x=e%2/2,A(t,e)},h.strokeSetter=h.fillSetter=h.rSetter=function(e,t){t==="fill"&&e&&(C=!0),A(t,e)},h.anchorXSetter=function(e,t){o=e,A(t,e+x-E)},h.anchorYSetter=function(e,t){u=e,A(t,e-S)},h.xSetter=function(e){h.x=e,m&&(e-=m*((b||v.width)+g)),E=i(e),h.attr("translateX",E)},h.ySetter=function(e){S=h.y=i(e),h.attr("translateY",S)};var O=h.css;return bt(h,{css:function(t){if(t){var n={};t=wt(t),tn(h.textProps,function(r){t[r]!==e&&(n[r]=t[r],delete t[r])}),p.css(n)}return O.call(h,t)},getBBox:function(){return{width:v.width+2*g,height:v.height+2*g,x:v.x-g,y:v.y-g}},shadow:function(e){return d&&d.shadow(e),h},destroy:function(){un(h.element,"mouseenter"),un(h.element,"mouseleave"),p&&(p=p.destroy()),d&&(d=d.destroy()),Sn.prototype.destroy.call(h),h=c=k=L=A=null}})}},N=xn,bt(Sn.prototype,{htmlCss:function(e){var t=this,n=t.element,r=e&&n.tagName==="SPAN"&&e.width;return r&&(delete e.width,t.textWidth=r,t.updateTransform()),t.styles=bt(t.styles,e),Dt(t.element,e),t},htmlGetBBox:function(){var e=this,t=e.element,n=e.bBox;return n||(t.nodeName==="text"&&(t.style.position=U),n=e.bBox={x:t.offsetLeft,y:t.offsetTop,width:t.offsetWidth,height:t.offsetHeight}),n},htmlUpdateTransform:function(){if(!this.added){this.alignOnAdd=!0;return}var e=this,t=e.renderer,n=e.element,r=e.translateX||0,i=e.translateY||0,s=e.x||0,o=e.y||0,u=e.textAlign||"left",a={left:0,center:.5,right:1}[u],f=e.shadows;Dt(n,{marginLeft:r,marginTop:i}),f&&tn(f,function(e){Dt(e,{marginLeft:r+1,marginTop:i+1})}),e.inverted&&tn(n.childNodes,function(e){t.invertChild(e,n)});if(n.tagName==="SPAN"){var l,c=e.rotation,h,p=Et(e.textWidth),d=[c,u,n.innerHTML,e.textWidth].join(",");d!==e.cTT&&(h=t.fontMetrics(n.style.fontSize).b,At(c)&&e.setSpanRotation(c,a,h),l=_t(e.elemWidth,n.offsetWidth),l>p&&/[ \-]/.test(n.textContent||n.innerText)&&(Dt(n,{width:p+$,display:"block",whiteSpace:"normal"}),l=p),e.getSpanCorrection(l,h,a,c,u)),Dt(n,{left:s+(e.xCorr||0)+$,top:o+(e.yCorr||0)+$}),y&&(h=n.offsetHeight),e.cTT=d}},setSpanRotation:function(e,t,n){var r={},i=m?"-ms-transform":y?"-webkit-transform":b?"MozTransform":v?"-o-transform":"";r[i]=r.transform="rotate("+e+"deg)",r[i+(b?"Origin":"-origin")]=r.transformOrigin=t*100+"% "+n+"px",Dt(this.element,r)},getSpanCorrection:function(e,t,n){this.xCorr=-e*n,this.yCorr=-t}}),bt(xn.prototype,{html:function(e,t,n){var r=this.createElement("span"),s=r.element,o=r.renderer;return r.textSetter=function(e){e!==s.innerHTML&&delete this.bBox,s.innerHTML=this.textStr=e},r.xSetter=r.ySetter=r.alignSetter=r.rotationSetter=function(e,t){t==="align"&&(t="textAlign"),r[t]=e,r.htmlUpdateTransform()},r.attr({text:e,x:i(t),y:i(n)}).css({position:U,whiteSpace:"nowrap",fontFamily:this.style.fontFamily,fontSize:this.style.fontSize}),r.css=r.htmlCss,o.isSVG&&(r.add=function(e){var t,n=o.box.parentNode,i,u=[];this.parentGroup=e;if(e){t=e.div;if(!t){i=e;while(i)u.push(i),i=i.parentGroup;tn(u.reverse(),function(e){var r;t=e.div=e.div||Pt(R,{className:Ot(e.element,"class")},{position:U,left:(e.translateX||0)+$,top:(e.translateY||0)+$},t||n),r=t.style,bt(e,{translateXSetter:function(t,n){r.left=t+$,e[n]=t,e.doTransform=!0},translateYSetter:function(t,n){r.top=t+$,e[n]=t,e.doTransform=!0},visibilitySetter:function(e,t){r[t]=e}})})}}else t=n;return t.appendChild(s),r.added=!0,r.alignOnAdd&&r.htmlUpdateTransform(),r}),r}});var Tn,Nn;if(!S&&!T){Nn={init:function(e,t){var n=this,r=["<",t,' filled="f" stroked="f"'],i=["position: ",U,";"],s=t===R;(t==="shape"||s)&&i.push("left:0;top:0;width:1px;height:1px;"),i.push("visibility: ",s?W:V),r.push(' style="',i.join(""),'"/>'),t&&(r=s||t==="span"||t==="img"?r.join(""):e.prepVML(r),n.element=Pt(r)),n.renderer=e},add:function(e){var t=this,n=t.renderer,r=t.element,i=n.box,s=e&&e.inverted,o=e?e.element||e:i;return s&&n.invertChild(r,o),o.appendChild(r),t.added=!0,t.alignOnAdd&&!t.deferUpdateTransform&&t.updateTransform(),t.onAdd&&t.onAdd(),t},updateTransform:Sn.prototype.htmlUpdateTransform,setSpanRotation:function(){var e=this.rotation,t=l(e*p),n=c(e*p);Dt(this.element,{filter:e?["progid:DXImageTransform.Microsoft.Matrix(M11=",t,", M12=",-n,", M21=",n,", M22=",t,", sizingMethod='auto expand')"].join(""):J})},getSpanCorrection:function(e,t,n,r,i){var s=r?l(r*p):1,o=r?c(r*p):0,u=_t(this.elemHeight,this.element.offsetHeight),a,f=i&&i!=="left";this.xCorr=s<0&&-e,this.yCorr=o<0&&-u,a=s*o<0,this.xCorr+=o*t*(a?1-n:n),this.yCorr-=s*t*(r?a?n:1-n:1),f&&(this.xCorr-=e*n*(s<0?-1:1),r&&(this.yCorr-=u*n*(o<0?-1:1)),Dt(this.element,{textAlign:i}))},pathToVML:function(e){var t=e.length,n=[];while(t--)Nt(e[t])?n[t]=i(e[t]*10)-5:e[t]==="Z"?n[t]="x":(n[t]=e[t],e.isArc&&(e[t]==="wa"||e[t]==="at")&&(n[t+5]===n[t+7]&&(n[t+7]+=e[t+7]>e[t+5]?1:-1),n[t+6]===n[t+8]&&(n[t+8]+=e[t+8]>e[t+6]?1:-1)));return n.join(" ")||"x"},clip:function(e){var t=this,n,r;return e?(n=e.members,Lt(n,t),n.push(t),t.destroyClip=function(){Lt(n,t)},r=e.getCSS(t)):(t.destroyClip&&t.destroyClip(),r={clip:g?"inherit":"rect(auto)"}),t.css(r)},css:Sn.prototype.htmlCss,safeRemoveChild:function(e){e.parentNode&&$t(e)},destroy:function(){return this.destroyClip&&this.destroyClip(),Sn.prototype.destroy.apply(this)},on:function(e,t){return this.element["on"+e]=function(){var e=n.event;e.target=e.srcElement,t(e)},this},cutOffPath:function(e,t){var n;e=e.split(/[ ,]/),n=e.length;if(n===9||n===11)e[n-4]=e[n-2]=Et(e[n-2])-10*t;return e.join(" ")},shadow:function(e,t,n){var r=[],i,s=this.element,o=this.renderer,u,a=s.style,f,l=s.path,c,h,p,d;l&&typeof l.value!="string"&&(l="x"),h=l;if(e){p=_t(e.width,3),d=(e.opacity||.15)/p;for(i=1;i<=3;i++)c=p*2+1-2*i,n&&(h=this.cutOffPath(l.value,c+.5)),f=['<shape isShadow="true" strokeweight="',c,'" filled="false" path="',h,'" coordsize="10 10" style="',s.style.cssText,'" />'],u=Pt(o.prepVML(f),null,{left:Et(a.left)+_t(e.offsetX,1),top:Et(a.top)+_t(e.offsetY,1)}),n&&(u.cutOff=c+1),f=['<stroke color="',e.color||"black",'" opacity="',d*i,'"/>'],Pt(o.prepVML(f),null,null,u),t?t.element.appendChild(u):s.parentNode.insertBefore(u,s),r.push(u);this.shadows=r}return this},updateShadows:B,setAttr:function(e,t){g?this.element[e]=t:this.element.setAttribute(e,t)},classSetter:function(e){this.element.className=e},dashstyleSetter:function(e,t,n){var r=n.getElementsByTagName("stroke")[0]||Pt(this.renderer.prepVML(["<stroke/>"]),null,null,n);r[t]=e||"solid",this[t]=e},dSetter:function(e,t,n){var r,i=this.shadows;e=e||[],this.d=e.join&&e.join(" "),n.path=e=this.pathToVML(e);if(i){r=i.length;while(r--)i[r].path=i[r].cutOff?this.cutOffPath(e,i[r].cutOff):e}this.setAttr(t,e)},fillSetter:function(e,t,n){var r=n.nodeName;r==="SPAN"?n.style.color=e:r!=="IMG"&&(n.filled=e!==J,this.setAttr("fillcolor",this.renderer.color(e,n,t,this)))},opacitySetter:B,rotationSetter:function(e,t,n){var r=n.style;this[t]=r[t]=e,r.left=-i(c(e*p)+1)+$,r.top=i(l(e*p))+$},strokeSetter:function(e,t,n){this.setAttr("strokecolor",this.renderer.color(e,n,t))},"stroke-widthSetter":function(e,t,n){n.stroked=!!e,this[t]=e,Nt(e)&&(e+=$),this.setAttr("strokeweight",e)},titleSetter:function(e,t){this.setAttr(t,e)},visibilitySetter:function(e,t,n){e==="inherit"&&(e=V),this.shadows&&tn(this.shadows,function(n){n.style[t]=e}),n.nodeName==="DIV"&&(e=e===W?"-999em":0,g||(n.style[t]=e?V:W),t="top"),n.style[t]=e},xSetter:function(e,t,n){this[t]=e,t==="x"?t="left":t==="y"&&(t="top"),this.updateClipping?(this[t]=e,this.updateClipping()):n.style[t]=e},zIndexSetter:function(e,t,n){n.style[t]=e}},yt.VMLElement=Nn=Ht(Sn,Nn),Nn.prototype.ySetter=Nn.prototype.widthSetter=Nn.prototype.heightSetter=Nn.prototype.xSetter;var Cn={Element:Nn,isIE8:d.indexOf("MSIE 8.0")>-1,init:function(e,n,r,i){var s=this,o,u,a;s.alignedObjects=[],o=s.createElement(R).css(bt(this.getStyle(i),{position:z})),u=o.element,e.appendChild(o.element),s.isVML=!0,s.box=u,s.boxWrapper=o,s.cache={},s.setSize(n,r,!1);if(!t.namespaces.hcv){t.namespaces.add("hcv","urn:schemas-microsoft-com:vml"),a="hcv\\:fill, hcv\\:path, hcv\\:shape, hcv\\:stroke{ behavior:url(#default#VML); display: inline-block; } ";try{t.createStyleSheet().cssText=a}catch(f){t.styleSheets[0].cssText+=a}}},isHidden:function(){return!this.box.offsetWidth},clipRect:function(e,t,n,r){var s=this.createElement(),o=xt(e);return bt(s,{members:[],left:(o?e.x:e)+1,top:(o?e.y:t)+1,width:(o?e.width:n)-1,height:(o?e.height:r)-1,getCSS:function(e){var t=e.element,n=t.nodeName,r=n==="shape",s=e.inverted,o=this,u=o.top-(r?t.offsetTop:0),a=o.left,f=a+o.width,l=u+o.height,c={clip:"rect("+i(s?a:u)+"px,"+i(s?l:f)+"px,"+i(s?f:l)+"px,"+i(s?u:a)+"px)"};return!s&&g&&n==="DIV"&&bt(c,{width:f+$,height:l+$}),c},updateClipping:function(){tn(s.members,function(e){e.element&&e.css(s.getCSS(e))})}})},color:function(e,t,n,i){var s=this,o,u=/^rgba/,a,f,l=J;e&&e.linearGradient?f="gradient":e&&e.radialGradient&&(f="pattern");if(f){var c,p,d=e.linearGradient||e.radialGradient,v,m,g,y,b,w,E,S,x="",T=e.stops,N,C,k=[],L=function(){a=['<fill colors="'+k.join(",")+'" opacity="',w,'" o:opacity2="',b,'" type="',f,'" ',x,'focus="100%" method="any" />'],Pt(s.prepVML(a),null,null,t)};N=T[0],C=T[T.length-1],N[0]>0&&T.unshift([0,N[1]]),C[0]<1&&T.push([1,C[1]]),tn(T,function(e,t){u.test(e[1])?(o=En(e[1]),c=o.get("rgb"),p=o.get("a")):(c=e[1],p=1),k.push(e[0]*100+"% "+c),t?(w=p,E=c):(b=p,S=c)});if(n==="fill")if(f==="gradient")v=d.x1||d[0]||0,m=d.y1||d[1]||0,g=d.x2||d[2]||0,y=d.y2||d[3]||0,x='angle="'+(90-r.atan((y-m)/(g-v))*180/h)+'"',L();else{var A=d.r,M=A*2,_=A*2,D=d.cx,P=d.cy,H=t.radialReference,B,j=function(){H&&(B=i.getBBox(),D+=(H[0]-B.x)/B.width-.5,P+=(H[1]-B.y)/B.height-.5,M*=H[2]/B.width,_*=H[2]/B.height),x='src="'+O.global.VMLRadialGradientURL+'" '+'size="'+M+","+_+'" '+'origin="0.5,0.5" '+'position="'+D+","+P+'" '+'color2="'+S+'" ',L()};i.added?j():i.onAdd=j,l=E}else l=c}else if(u.test(e)&&t.tagName!=="IMG")o=En(e),a=["<",n,' opacity="',o.get("a"),'"/>'],Pt(this.prepVML(a),null,null,t),l=o.get("rgb");else{var F=t.getElementsByTagName(n);F.length&&(F[0].opacity=1,F[0].type="solid"),l=e}return l},prepVML:function(e){var t="display:inline-block;behavior:url(#default#VML);",n=this.isIE8;return e=e.join(""),n?(e=e.replace("/>",' xmlns="urn:schemas-microsoft-com:vml" />'),e.indexOf('style="')===-1?e=e.replace("/>",' style="'+t+'" />'):e=e.replace('style="','style="'+t)):e=e.replace("<","<hcv:"),e},text:xn.prototype.html,path:function(e){var t={coordsize:"10 10"};return Tt(e)?t.d=e:xt(e)&&bt(t,e),this.createElement("shape").attr(t)},circle:function(e,t,n){var r=this.symbol("circle");return xt(e)&&(n=e.r,t=e.y,e=e.x),r.isCircle=!0,r.r=n,r.attr({x:e,y:t})},g:function(e){var t,n;return e&&(n={className:X+e,"class":X+e}),t=this.createElement(R).attr(n),t},image:function(e,t,n,r,i){var s=this.createElement("img").attr({src:e});return arguments.length>1&&s.attr({x:t,y:n,width:r,height:i}),s},createElement:function(e){return e==="rect"?this.symbol(e):xn.prototype.createElement.call(this,e)},invertChild:function(e,t){var n=this,r=t.style,i=e.tagName==="IMG"&&e.style;Dt(e,{flip:"x",left:Et(r.width)-(i?Et(i.top):1),top:Et(r.height)-(i?Et(i.left):1),rotation:-90}),tn(e.childNodes,function(t){n.invertChild(t,e)})},symbols:{arc:function(e,t,n,r,i){var s=i.start,o=i.end,u=i.r||n||r,a=i.innerR,f=l(s),h=c(s),p=l(o),d=c(o),v;return o-s===0?["x"]:(v=["wa",e-u,t-u,e+u,t+u,e+u*f,t+u*h,e+u*p,t+u*d],i.open&&!a&&v.push("e",K,e,t),v.push("at",e-a,t-a,e+a,t+a,e+a*p,t+a*d,e+a*f,t+a*h,"x","e"),v.isArc=!0,v)},circle:function(e,t,n,r,i){return i&&(n=r=2*i.r),i&&i.isCircle&&(e-=n/2,t-=r/2),["wa",e,t,e+n,t+r,e+n,t+r/2,e+n,t+r/2,"e"]},rect:function(e,t,n,r,i){return xn.prototype.symbols[!At(i)||!i.r?"square":"callout"].call(0,e,t,n,r,i)}}};yt.VMLRenderer=Tn=function(){this.init.apply(this,arguments)},Tn.prototype=wt(xn.prototype,Cn),N=Tn}xn.prototype.measureSpanWidth=function(e,n){var r=t.createElement("span"),i,s=t.createTextNode(e);return r.appendChild(s),Dt(r,n),this.box.appendChild(r),i=r.offsetWidth,$t(r),i};var kn,Ln;T&&(yt.CanVGRenderer=kn=function(){E="http://www.w3.org/1999/xhtml"},kn.prototype.symbols={},Ln=function(){function t(){var t=e.length,n;for(n=0;n<t;n++)e[n]();e=[]}var e=[];return{push:function(n,r){e.length===0&&Zt(r,t),e.push(n)}}}(),N=kn),An.prototype={addLabel:function(){var e=this,t=e.axis,n=t.options,r=t.chart,s=t.horiz,o=t.categories,a=t.names,f=e.pos,c=n.labels,h=c.rotation,d,v=t.tickPositions,m=s&&o&&!c.step&&!c.staggerLines&&!c.rotation&&r.plotWidth/v.length||!s&&(r.margin[3]||r.chartWidth*.33),g=f===v[0],y=f===v[v.length-1],b,w,E=o?_t(o[f],a[f],f):f,S=e.label,x=v.info,T;t.isDatetimeAxis&&x&&(T=n.dateTimeLabelFormats[x.higherRanks[f]||x.unitName]),e.isFirst=g,e.isLast=y,d=t.labelFormatter.call({axis:t,chart:r,isFirst:g,isLast:y,dateTimeLabelFormat:T,value:t.isLog?Jt(kt(E)):E}),b=m&&{width:u(1,i(m-2*(c.padding||10)))+$},At(S)?S&&S.attr({text:d}).css(b):(w={align:t.labelAlign},Nt(h)&&(w.rotation=h),m&&c.ellipsis&&(b.HcHeight=t.len/v.length),e.label=S=At(d)&&c.enabled?r.renderer.text(d,0,0,c.useHTML).attr(w).css(bt(b,c.style)).add(t.labelGroup):null,t.tickBaseline=r.renderer.fontMetrics(c.style.fontSize,S).b,h&&t.side===2&&(t.tickBaseline*=l(h*p))),e.yOffset=S?_t(c.y,t.tickBaseline+(t.side===2?8:-(S.getBBox().height/2))):0},getLabelSize:function(){var e=this.label,t=this.axis;return e?e.getBBox()[t.horiz?"height":"width"]:0},getLabelSides:function(){var e=this.label.getBBox(),t=this.axis,n=t.horiz,r=t.options,i=r.labels,s=n?e.width:e.height,o=n?i.x-s*{left:0,center:.5,right:1}[t.labelAlign]:0,u=n?s+o:s;return[o,u]},handleOverflow:function(t,n){var r=!0,i=this.axis,s=this.isFirst,o=this.isLast,u=i.horiz,a=u?n.x:n.y,f=i.reversed,l=i.tickPositions,c=this.getLabelSides(),h=c[0],p=c[1],d,v,m,g,y=this.label.line,b=y||0,w=i.labelEdge,E=i.justifyLabels&&(s||o),S;w[b]===e||a+h>w[b]?w[b]=a+p:E||(r=!1);if(E){S=i.justifyToPlot,d=S?i.pos:0,v=S?d+i.len:i.chart.chartWidth;do t+=s?1:-1,m=i.ticks[l[t]];while(l[t]&&(!m||!m.label||m.label.line!==y));g=m&&m.label.xy&&m.label.xy.x+m.getLabelSides()[s?0:1],s&&!f||o&&f?a+h<d&&(a=d-h,m&&a+p>g&&(r=!1)):a+p>v&&(a=v-p,m&&a+h<g&&(r=!1)),n.x=a}return r},getPosition:function(e,t,n,r){var i=this.axis,s=i.chart,o=r&&s.oldChartHeight||s.chartHeight;return{x:e?i.translate(t+n,null,null,r)+i.transB:i.left+i.offset+(i.opposite?(r&&s.oldChartWidth||s.chartWidth)-i.right-i.left:0),y:e?o-i.bottom+i.offset-(i.opposite?i.height:0):o-i.translate(t+n,null,null,r)-i.transB}},getLabelPosition:function(e,t,n,r,i,s,o,u){var a=this.axis,f=a.transA,l=a.reversed,c=a.staggerLines;return e=e+i.x-(s&&r?s*f*(l?-1:1):0),t=t+this.yOffset-(s&&!r?s*f*(l?1:-1):0),c&&(n.line=o/(u||1)%c,t+=n.line*(a.labelOffset/c)),{x:e,y:t}},getMarkPath:function(e,t,n,r,i,s){return s.crispLine([K,e,t,Q,e+(i?0:-n),t+(i?n:0)],r)},render:function(t,n,r){var i=this,s=i.axis,o=s.options,u=s.chart,a=u.renderer,f=s.horiz,l=i.type,c=i.label,h=i.pos,p=o.labels,d=i.gridLine,v=l?l+"Grid":"grid",m=l?l+"Tick":"tick",g=o[v+"LineWidth"],y=o[v+"LineColor"],b=o[v+"LineDashStyle"],w=o[m+"Length"],E=o[m+"Width"]||0,S=o[m+"Color"],x=o[m+"Position"],T,N=i.mark,C,k=p.step,L,A=!0,O=s.tickmarkOffset,M=i.getPosition(f,h,O,n),_=M.x,D=M.y,P=f&&_===s.pos+s.len||!f&&D===s.pos?-1:1;r=_t(r,1),this.isActive=!0,g&&(T=s.getPlotLinePath(h+O,g*P,n,!0),d===e&&(L={stroke:y,"stroke-width":g},b&&(L.dashstyle=b),l||(L.zIndex=1),n&&(L.opacity=0),i.gridLine=d=g?a.path(T).attr(L).add(s.gridGroup):null),!n&&d&&T&&d[i.isNew?"attr":"animate"]({d:T,opacity:r})),E&&w&&(x==="inside"&&(w=-w),s.opposite&&(w=-w),C=i.getMarkPath(_,D,w,E*P,f,a),N?N.animate({d:C,opacity:r}):i.mark=a.path(C).attr({stroke:S,"stroke-width":E,opacity:r}).add(s.axisGroup)),c&&!isNaN(_)&&(c.xy=M=i.getLabelPosition(_,D,c,f,p,O,t,k),i.isFirst&&!i.isLast&&!_t(o.showFirstLabel,1)||i.isLast&&!i.isFirst&&!_t(o.showLastLabel,1)?A=!1:!s.isRadial&&!p.step&&!p.rotation&&!n&&r!==0&&(A=i.handleOverflow(t,M)),k&&t%k&&(A=!1),A&&!isNaN(M.y)?(M.opacity=r,c[i.isNew?"attr":"animate"](M),i.isNew=!1):c.attr("y",-9999))},destroy:function(){Vt(this,this.axis)}},yt.PlotLineOrBand=function(e,t){this.axis=e,t&&(this.options=t,this.id=t.id)},yt.PlotLineOrBand.prototype={render:function(){var e=this,t=e.axis,n=t.horiz,r=(t.pointRange||0)/2,i=e.options,s=i.label,o=e.label,f=i.width,l=i.to,c=i.from,h=At(c)&&At(l),p=i.value,d=i.dashStyle,v=e.svgElem,m=[],g,y,b,w,E,S,x=i.color,T=i.zIndex,N=i.events,C={},k=t.chart.renderer;t.isLog&&(c=Ct(c),l=Ct(l),p=Ct(p));if(f)m=t.getPlotLinePath(p,f),C={stroke:x,"stroke-width":f},d&&(C.dashstyle=d);else{if(!h)return;c=u(c,t.min-r),l=a(l,t.max+r),m=t.getPlotBandPath(c,l,i),x&&(C.fill=x),i.borderWidth&&(C.stroke=i.borderColor,C["stroke-width"]=i.borderWidth)}At(T)&&(C.zIndex=T);if(v)m?v.animate({d:m},null,v.onGetPath):(v.hide(),v.onGetPath=function(){v.show()},o&&(e.label=o=o.destroy()));else if(m&&m.length){e.svgElem=v=k.path(m).attr(C).add();if(N){g=function(t){v.on(t,function(n){N[t].apply(e,[n])})};for(y in N)g(y)}}return s&&At(s.text)&&m&&m.length&&t.width>0&&t.height>0?(s=wt({align:n&&h&&"center",x:n?!h&&4:10,verticalAlign:!n&&h&&"middle",y:n?h?16:10:h?6:-4,rotation:n&&!h&&90},s),o||(C={align:s.textAlign||s.align,rotation:s.rotation},At(T)&&(C.zIndex=T),e.label=o=k.text(s.text,0,0,s.useHTML).attr(C).css(s.style).add()),b=[m[1],m[4],h?m[6]:m[1]],w=[m[2],m[5],h?m[7]:m[2]],E=Wt(b),S=Wt(w),o.align(s,!1,{x:E,y:S,width:Xt(b)-E,height:Xt(w)-S}),o.show()):o&&o.hide(),e},destroy:function(){Lt(this.axis.plotLinesAndBands,this),delete this.axis,Vt(this)}},tt={getPlotBandPath:function(e,t){var n=this.getPlotLinePath(t),r=this.getPlotLinePath(e);return r&&n?r.push(n[4],n[5],n[1],n[2]):r=null,r},addPlotBand:function(e){return this.addPlotBandOrLine(e,"plotBands")},addPlotLine:function(e){return this.addPlotBandOrLine(e,"plotLines")},addPlotBandOrLine:function(e,t){var n=(new yt.PlotLineOrBand(this,e)).render(),r=this.userOptions;return n&&(t&&(r[t]=r[t]||[],r[t].push(e)),this.plotLinesAndBands.push(n)),n},removePlotBandOrLine:function(e){var t=this.plotLinesAndBands,n=this.options,r=this.userOptions,i=t.length;while(i--)t[i].id===e&&t[i].destroy();tn([n.plotLines||[],r.plotLines||[],n.plotBands||[],r.plotBands||[]],function(t){i=t.length;while(i--)t[i].id===e&&Lt(t,t[i])})}},On.prototype={defaultOptions:{dateTimeLabelFormats:{millisecond:"%H:%M:%S.%L",second:"%H:%M:%S",minute:"%H:%M",hour:"%H:%M",day:"%e. %b",week:"%e. %b",month:"%b '%y",year:"%Y"},endOnTick:!1,gridLineColor:"#C0C0C0",labels:hn,lineColor:"#C0D0E0",lineWidth:1,minPadding:.01,maxPadding:.01,minorGridLineColor:"#E0E0E0",minorGridLineWidth:1,minorTickColor:"#A0A0A0",minorTickLength:2,minorTickPosition:"outside",startOfWeek:1,startOnTick:!1,tickColor:"#C0D0E0",tickLength:10,tickmarkPlacement:"between",tickPixelInterval:100,tickPosition:"outside",tickWidth:1,title:{align:"middle",style:{color:"#707070"}},type:"linear"},defaultYAxisOptions:{endOnTick:!0,gridLineWidth:1,tickPixelInterval:72,showLastLabel:!0,labels:{x:-8,y:3},lineWidth:0,maxPadding:.05,minPadding:.05,startOnTick:!0,tickWidth:0,title:{rotation:270,text:"Values"},stackLabels:{enabled:!1,formatter:function(){return Bt(this.total,-1)},style:hn.style}},defaultLeftAxisOptions:{labels:{x:-15,y:null},title:{rotation:270}},defaultRightAxisOptions:{labels:{x:15,y:null},title:{rotation:90}},defaultBottomAxisOptions:{labels:{x:0,y:null},title:{rotation:0}},defaultTopAxisOptions:{labels:{x:0,y:-15},title:{rotation:0}},init:function(t,n){var r=n.isX,i=this;i.horiz=t.inverted?!r:r,i.isXAxis=r,i.coll=r?"xAxis":"yAxis",i.opposite=n.opposite,i.side=n.side||(i.horiz?i.opposite?0:2:i.opposite?1:3),i.setOptions(n);var s=this.options,o=s.type,u=o==="datetime";i.labelFormatter=s.labels.formatter||i.defaultLabelFormatter,i.userOptions=n,i.minPixelPadding=0,i.chart=t,i.reversed=s.reversed,i.zoomEnabled=s.zoomEnabled!==!1,i.categories=s.categories||o==="category",i.names=[],i.isLog=o==="logarithmic",i.isDatetimeAxis=u,i.isLinked=At(s.linkedTo),i.tickmarkOffset=i.categories&&s.tickmarkPlacement==="between"&&_t(s.tickInterval,1)===1?.5:0,i.ticks={},i.labelEdge=[],i.minorTicks={},i.plotLinesAndBands=[],i.alternateBands={},i.len=0,i.minRange=i.userMinRange=s.minRange||s.maxZoom,i.range=s.range,i.offset=s.offset||0,i.stacks={},i.oldStacks={},i.max=null,i.min=null,i.crosshair=_t(s.crosshair,Mt(t.options.tooltip.crosshairs)[r?0:1],!1);var a,f=i.options.events;en(i,t.axes)===-1&&(r&&!this.isColorAxis?t.axes.splice(t.xAxis.length,0,i):t.axes.push(i),t[i.coll].push(i)),i.series=i.series||[],t.inverted&&r&&i.reversed===e&&(i.reversed=!0),i.removePlotBand=i.removePlotBandOrLine,i.removePlotLine=i.removePlotBandOrLine;for(a in f)on(i,a,f[a]);i.isLog&&(i.val2lin=Ct,i.lin2val=kt)},setOptions:function(e){this.options=wt(this.defaultOptions,this.isXAxis?{}:this.defaultYAxisOptions,[this.defaultTopAxisOptions,this.defaultRightAxisOptions,this.defaultBottomAxisOptions,this.defaultLeftAxisOptions][this.side],wt(O[this.coll],e))},defaultLabelFormatter:function(){var t=this.axis,n=this.value,r=t.categories,i=this.dateTimeLabelFormat,s=O.lang.numericSymbols,o=s&&s.length,u,a,l=t.options.labels.format,c=t.isLog?n:t.tickInterval;if(l)a=qt(l,this);else if(r)a=n;else if(i)a=M(i,n);else if(o&&c>=1e3)while(o--&&a===e)u=Math.pow(1e3,o+1),c>=u&&s[o]!==null&&(a=Bt(n/u,-1)+s[o]);return a===e&&(f(n)>=1e4?a=Bt(n,0):a=Bt(n,-1,e,"")),a},getSeriesExtremes:function(){var e=this,t=e.chart;e.hasVisibleSeries=!1,e.dataMin=e.dataMax=e.ignoreMinPadding=e.ignoreMaxPadding=null,e.buildStacks&&e.buildStacks(),tn(e.series,function(n){if(n.visible||!t.options.chart.ignoreHiddenSeries){var r=n.options,i,s=r.threshold,o,f;e.hasVisibleSeries=!0,e.isLog&&s<=0&&(s=null),e.isXAxis?(i=n.xData,i.length&&(e.dataMin=a(_t(e.dataMin,i[0]),Wt(i)),e.dataMax=u(_t(e.dataMax,i[0]),Xt(i)))):(n.getExtremes(),f=n.dataMax,o=n.dataMin,At(o)&&At(f)&&(e.dataMin=a(_t(e.dataMin,o),o),e.dataMax=u(_t(e.dataMax,f),f)),At(s)&&(e.dataMin>=s?(e.dataMin=s,e.ignoreMinPadding=!0):e.dataMax<s&&(e.dataMax=s,e.ignoreMaxPadding=!0)))}})},translate:function(e,t,n,r,i,s){var o=this,u=1,a=0,f=r?o.oldTransA:o.transA,l=r?o.oldMin:o.min,c,h=o.minPixelPadding,p=(o.options.ordinal||o.isLog&&i)&&o.lin2val;return f||(f=o.transA),n&&(u*=-1,a=o.len),o.reversed&&(u*=-1,a-=u*(o.sector||o.len)),t?(e=e*u+a,e-=h,c=e/f+l,p&&(c=o.lin2val(c))):(p&&(e=o.val2lin(e)),s==="between"&&(s=.5),c=u*(e-l)*f+a+u*h+(Nt(s)?f*s*o.pointRange:0)),c},toPixels:function(e,t){return this.translate(e,!1,!this.horiz,null,!0)+(t?0:this.pos)},toValue:function(e,t){return this.translate(e-(t?0:this.pos),!0,!this.horiz,null,!0)},getPlotLinePath:function(e,t,n,r,s){var o=this,u=o.chart,a=o.left,f=o.top,l,c,h,p,d=n&&u.oldChartHeight||u.chartHeight,v=n&&u.oldChartWidth||u.chartWidth,m,g=o.transB;s=_t(s,o.translate(e,null,null,n)),l=h=i(s+g),c=p=i(d-s-g);if(isNaN(s))m=!0;else if(o.horiz){c=f,p=d-o.bottom;if(l<a||l>a+o.width)m=!0}else{l=a,h=v-o.right;if(c<f||c>f+o.height)m=!0}return m&&!r?null:u.renderer.crispLine([K,l,c,Q,h,p],t||1)},getLinearTickPositions:function(e,t,n){var r,i,u=Jt(s(t/e)*e),a=Jt(o(n/e)*e),f=[];if(t===n&&Nt(t))return[t];r=u;while(r<=a){f.push(r),r=Jt(r+e);if(r===i)break;i=r}return f},getMinorTickPositions:function(){var e=this,t=e.options,n=e.tickPositions,r=e.minorTickInterval,i=[],s,o,u;if(e.isLog){u=n.length;for(o=1;o<u;o++)i=i.concat(e.getLogTickPositions(r,n[o-1],n[o],!0))}else if(e.isDatetimeAxis&&t.minorTickInterval==="auto")i=i.concat(e.getTimeTicks(e.normalizeTimeTickInterval(r),e.min,e.max,t.startOfWeek)),i[0]<e.min&&i.shift();else for(s=e.min+(n[0]-e.min)%r;s<=e.max;s+=r)i.push(s);return i},adjustForMinRange:function(){var t=this,n=t.options,r=t.min,i=t.max,s,o=t.dataMax-t.dataMin>=t.minRange,u,f,l,c,h,p,d;t.isXAxis&&t.minRange===e&&!t.isLog&&(At(n.min)||At(n.max)?t.minRange=null:(tn(t.series,function(t){c=t.xData,h=t.xIncrement?1:c.length-1;for(f=h;f>0;f--){l=c[f]-c[f-1];if(u===e||l<u)u=l}}),t.minRange=a(u*5,t.dataMax-t.dataMin)));if(i-r<t.minRange){var v=t.minRange;s=(v-i+r)/2,p=[r-s,_t(n.min,r-s)],o&&(p[2]=t.dataMin),r=Xt(p),d=[r+v,_t(n.max,r+v)],o&&(d[2]=t.dataMax),i=Wt(d),i-r<v&&(p[0]=i-v,p[1]=_t(n.min,i-v),r=Xt(p))}t.min=r,t.max=i},setAxisTranslation:function(e){var t=this,n=t.max-t.min,r=t.axisPointRange||0,i,s=0,o=0,f=t.linkedParent,l,c=!!t.categories,h=t.transA;if(t.isXAxis||c||r)f?(s=f.minPointOffset,o=f.pointRangePadding):tn(t.series,function(e){var f=c?1:t.isXAxis?e.pointRange:t.axisPointRange||0,l=e.options.pointPlacement,h=e.closestPointRange;f>n&&(f=0),r=u(r,f),s=u(s,St(l)?0:f/2),o=u(o,l==="on"?0:f),!e.noSharedTooltip&&At(h)&&(i=At(i)?a(i,h):h)}),l=t.ordinalSlope&&i?t.ordinalSlope/i:1,t.minPointOffset=s*=l,t.pointRangePadding=o*=l,t.pointRange=a(r,n),t.closestPointRange=i;e&&(t.oldTransA=h),t.translationSlope=t.transA=h=t.len/(n+o||1),t.transB=t.horiz?t.left:t.bottom,t.minPixelPadding=h*s},setTickPositions:function(e){var t=this,n=t.chart,r=t.options,i=r.startOnTick,s=r.endOnTick,o=t.isLog,l=t.isDatetimeAxis,c=t.isXAxis,h=t.isLinked,p=t.options.tickPositioner,d=r.maxPadding,v=r.minPadding,m,g,y=r.tickInterval,b=r.minTickInterval,w=r.tickPixelInterval,E,S,x=t.categories;h?(t.linkedParent=n[t.coll][r.linkedTo],g=t.linkedParent.getExtremes(),t.min=_t(g.min,g.dataMin),t.max=_t(g.max,g.dataMax),r.type!==t.linkedParent.options.type&&H(11,1)):(t.min=_t(t.userMin,r.min,t.dataMin),t.max=_t(t.userMax,r.max,t.dataMax)),o&&(!e&&a(t.min,_t(t.dataMin,t.min))<=0&&H(10,1),t.min=Jt(Ct(t.min)),t.max=Jt(Ct(t.max))),t.range&&At(t.max)&&(t.userMin=t.min=u(t.min,t.max-t.range),t.userMax=t.max,t.range=null),t.beforePadding&&t.beforePadding(),t.adjustForMinRange(),!x&&!t.axisPointRange&&!t.usePercentage&&!h&&At(t.min)&&At(t.max)&&(m=t.max-t.min,m&&(!At(r.min)&&!At(t.userMin)&&v&&(t.dataMin<0||!t.ignoreMinPadding)&&(t.min-=m*v),!At(r.max)&&!At(t.userMax)&&d&&(t.dataMax>0||!t.ignoreMaxPadding)&&(t.max+=m*d))),Nt(r.floor)&&(t.min=u(t.min,r.floor)),Nt(r.ceiling)&&(t.max=a(t.max,r.ceiling)),t.min===t.max||t.min===undefined||t.max===undefined?t.tickInterval=1:h&&!y&&w===t.linkedParent.options.tickPixelInterval?t.tickInterval=t.linkedParent.tickInterval:(t.tickInterval=_t(y,x?1:(t.max-t.min)*w/u(t.len,w)),!At(y)&&t.len<w&&!this.isRadial&&!this.isLog&&!x&&i&&s&&(S=!0,t.tickInterval/=4)),c&&!e&&tn(t.series,function(e){e.processData(t.min!==t.oldMin||t.max!==t.oldMax)}),t.setAxisTranslation(!0),t.beforeSetTickPositions&&t.beforeSetTickPositions(),t.postProcessTickInterval&&(t.tickInterval=t.postProcessTickInterval(t.tickInterval)),t.pointRange&&(t.tickInterval=u(t.pointRange,t.tickInterval)),!y&&t.tickInterval<b&&(t.tickInterval=b),!l&&!o&&(y||(t.tickInterval=Ut(t.tickInterval,null,Rt(t.tickInterval),_t(r.allowDecimals,!(t.tickInterval>1&&t.tickInterval<5&&t.max>1e3&&t.max<9999))))),t.minorTickInterval=r.minorTickInterval==="auto"&&t.tickInterval?t.tickInterval/5:r.minorTickInterval,t.tickPositions=E=r.tickPositions?[].concat(r.tickPositions):p&&p.apply(t,[t.min,t.max]),E||(!t.ordinalPositions&&(t.max-t.min)/t.tickInterval>u(2*t.len,200)&&H(19,!0),l?E=t.getTimeTicks(t.normalizeTimeTickInterval(t.tickInterval,r.units),t.min,t.max,r.startOfWeek,t.ordinalPositions,t.closestPointRange,!0):o?E=t.getLogTickPositions(t.tickInterval,t.min,t.max):E=t.getLinearTickPositions(t.tickInterval,t.min,t.max),S&&E.splice(1,E.length-2),t.tickPositions=E);if(!h){var T=E[0],N=E[E.length-1],C=t.minPointOffset||0,k;i?t.min=T:t.min-C>T&&E.shift(),s?t.max=N:t.max+C<N&&E.pop(),E.length===0&&At(T)&&E.push((N+T)/2),E.length===1&&(k=f(t.max)>1e13?1:.001,t.min-=k,t.max+=k)}},setMaxTicks:function(){var e=this.chart,t=e.maxTicks||{},n=this.tickPositions,r=this._maxTicksKey=[this.coll,this.pos,this.len].join("-");!this.isLinked&&!this.isDatetimeAxis&&n&&n.length>(t[r]||0)&&this.options.alignTicks!==!1&&(t[r]=n.length),e.maxTicks=t},adjustTickAmount:function(){var t=this,n=t.chart,r=t._maxTicksKey,i=t.tickPositions,s=n.maxTicks;if(s&&s[r]&&!t.isDatetimeAxis&&!t.categories&&!t.isLinked&&t.options.alignTicks!==!1&&this.min!==e){var o=t.tickAmount,u=i.length,a;t.tickAmount=a=s[r];if(u<a){while(i.length<a)i.push(Jt(i[i.length-1]+t.tickInterval));t.transA*=(u-1)/(a-1),t.max=i[i.length-1]}At(o)&&a!==o&&(t.isDirty=!0)}},setScale:function(){var e=this,t=e.stacks,n,r,i,s;e.oldMin=e.min,e.oldMax=e.max,e.oldAxisLength=e.len,e.setAxisSize(),s=e.len!==e.oldAxisLength,tn(e.series,function(e){if(e.isDirtyData||e.isDirty||e.xAxis.isDirty)i=!0});if(s||i||e.isLinked||e.forceRedraw||e.userMin!==e.oldUserMin||e.userMax!==e.oldUserMax){if(!e.isXAxis)for(n in t)for(r in t[n])t[n][r].total=null,t[n][r].cum=0;e.forceRedraw=!1,e.getSeriesExtremes(),e.setTickPositions(),e.oldUserMin=e.userMin,e.oldUserMax=e.userMax,e.isDirty||(e.isDirty=s||e.min!==e.oldMin||e.max!==e.oldMax)}else if(!e.isXAxis){e.oldStacks&&(t=e.stacks=e.oldStacks);for(n in t)for(r in t[n])t[n][r].cum=t[n][r].total}e.setMaxTicks()},setExtremes:function(e,t,n,r,i){var s=this,o=s.chart;n=_t(n,!0),i=bt(i,{min:e,max:t}),an(s,"setExtremes",i,function(){s.userMin=e,s.userMax=t,s.eventArgs=i,s.isDirtyExtremes=!0,n&&o.redraw(r)})},zoom:function(t,n){var r=this.dataMin,i=this.dataMax,s=this.options;return this.allowZoomOutside||(At(r)&&t<=a(r,_t(s.min,r))&&(t=e),At(i)&&n>=u(i,_t(s.max,i))&&(n=e)),this.displayBtn=t!==e||n!==e,this.setExtremes(t,n,!1,e,{trigger:"zoom"}),!0},setAxisSize:function(){var e=this.chart,t=this.options,n=t.offsetLeft||0,r=t.offsetRight||0,i=this.horiz,s=_t(t.width,e.plotWidth-n+r),o=_t(t.height,e.plotHeight),a=_t(t.top,e.plotTop),f=_t(t.left,e.plotLeft+n),l=/%$/;l.test(o)&&(o=parseInt(o,10)/100*e.plotHeight),l.test(a)&&(a=parseInt(a,10)/100*e.plotHeight+e.plotTop),this.left=f,this.top=a,this.width=s,this.height=o,this.bottom=e.chartHeight-o-a,this.right=e.chartWidth-s-f,this.len=u(i?s:o,0),this.pos=i?f:a},getExtremes:function(){var e=this,t=e.isLog;return{min:t?Jt(kt(e.min)):e.min,max:t?Jt(kt(e.max)):e.max,dataMin:e.dataMin,dataMax:e.dataMax,userMin:e.userMin,userMax:e.userMax}},getThreshold:function(e){var t=this,n=t.isLog,r=n?kt(t.min):t.min,i=n?kt(t.max):t.max;return r>e||e===null?e=r:i<e&&(e=i),t.translate(e,0,1,0,1)},autoLabelAlign:function(e){var t,n=(_t(e,0)-this.side*90+720)%360;return n>15&&n<165?t="right":n>195&&n<345?t="left":t="center",t},getOffset:function(){var t=this,n=t.chart,r=n.renderer,i=t.options,o=t.tickPositions,a=t.ticks,f=t.horiz,l=t.side,c=n.inverted?[1,0,3,2][l]:l,h,p,d=0,v,m=0,g=i.title,y=i.labels,b=0,w,E=n.axisOffset,S=n.clipOffset,x=[-1,1,1,-1][l],T,N,C=1,k=_t(y.maxStaggerLines,5),L,A,O,M,_,D,P,H,B;t.hasData=h=t.hasVisibleSeries||At(t.min)&&At(t.max)&&!!o,t.showAxis=p=h||_t(i.showEmpty,!0),t.staggerLines=t.horiz&&y.staggerLines,t.axisGroup||(t.gridGroup=r.g("grid").attr({zIndex:i.gridZIndex||1}).add(),t.axisGroup=r.g("axis").attr({zIndex:i.zIndex||2}).add(),t.labelGroup=r.g("axis-labels").attr({zIndex:y.zIndex||7}).addClass(X+t.coll.toLowerCase()+"-labels").add());if(h||t.isLinked){t.labelAlign=_t(y.align||t.autoLabelAlign(y.rotation)),tn(o,function(e){a[e]?a[e].addLabel():a[e]=new An(t,e)});if(t.horiz&&!t.staggerLines&&k&&!y.rotation){L=t.reversed?[].concat(o).reverse():o;while(C<k){A=[],O=!1;for(N=0;N<L.length;N++)M=L[N],_=a[M].label&&a[M].label.getBBox(),P=_?_.width:0,H=N%C,P&&(D=t.translate(M),A[H]!==e&&D<A[H]&&(O=!0),A[H]=D+P);if(!O)break;C++}C>1&&(t.staggerLines=C)}tn(o,function(e){if(l===0||l===2||{1:"left",3:"right"}[l]===t.labelAlign)b=u(a[e].getLabelSize(),b)}),t.staggerLines&&(b*=t.staggerLines,t.labelOffset=b)}else for(T in a)a[T].destroy(),delete a[T];g&&g.text&&g.enabled!==!1&&(t.axisTitle||(t.axisTitle=r.text(g.text,0,0,g.useHTML).attr({zIndex:7,rotation:g.rotation||0,align:g.textAlign||{low:"left",middle:"center",high:"right"}[g.align]}).addClass(X+this.coll.toLowerCase()+"-title").css(g.style).add(t.axisGroup),t.axisTitle.isNew=!0),p&&(d=t.axisTitle.getBBox()[f?"height":"width"],v=g.offset,m=At(v)?0:_t(g.margin,f?5:10)),t.axisTitle[p?"show":"hide"]()),t.offset=x*_t(i.offset,E[l]),B=l===2?t.tickBaseline:0,w=b+m+(b&&x*(f?_t(y.y,t.tickBaseline+8):y.x)-B),t.axisTitleMargin=_t(v,w),E[l]=u(E[l],t.axisTitleMargin+d+x*t.offset,w),S[c]=u(S[c],s(i.lineWidth/2)*2)},getLinePath:function(e){var t=this.chart,n=this.opposite,r=this.offset,i=this.horiz,s=this.left+(n?this.width:0)+r,o=t.chartHeight-this.bottom-(n?this.height:0)+r;return n&&(e*=-1),t.renderer.crispLine([K,i?this.left:s,i?o:this.top,Q,i?t.chartWidth-this.right:s,i?o:t.chartHeight-this.bottom],e)},getTitlePosition:function(){var e=this.horiz,t=this.left,n=this.top,r=this.len,i=this.options.title,s=e?t:n,o=this.opposite,u=this.offset,a=Et(i.style.fontSize||12),f={low:s+(e?0:r),middle:s+r/2,high:s+(e?r:0)}[i.align],l=(e?n+this.height:t)+(e?1:-1)*(o?-1:1)*this.axisTitleMargin+(this.side===2?a:0);return{x:e?f:l+(o?this.width:0)+u+(i.x||0),y:e?l-(o?this.height:0)+u:f+(i.y||0)}},render:function(){var t=this,n=t.horiz,r=t.reversed,i=t.chart,s=i.renderer,o=t.options,u=t.isLog,a=t.isLinked,f=t.tickPositions,l,c=t.axisTitle,h=t.ticks,p=t.minorTicks,d=t.alternateBands,v=o.stackLabels,m=o.alternateGridColor,g=t.tickmarkOffset,y=o.lineWidth,b,w=i.hasRendered,E=w&&At(t.oldMin)&&!isNaN(t.oldMin),S=t.hasData,x=t.showAxis,T,N=o.labels.overflow,C=t.justifyLabels=n&&N!==!1,k;t.labelEdge.length=0,t.justifyToPlot=N==="justify",tn([h,p,d],function(e){var t;for(t in e)e[t].isActive=!1});if(S||a)t.minorTickInterval&&!t.categories&&tn(t.getMinorTickPositions(),function(e){p[e]||(p[e]=new An(t,e,"minor")),E&&p[e].isNew&&p[e].render(null,!0),p[e].render(null,!1,1)}),f.length&&(l=f.slice(),(n&&r||!n&&!r)&&l.reverse(),C&&(l=l.slice(1).concat([l[0]])),tn(l,function(e,n){C&&(n=n===l.length-1?0:n+1);if(!a||e>=t.min&&e<=t.max)h[e]||(h[e]=new An(t,e)),E&&h[e].isNew&&h[e].render(n,!0,.1),h[e].render(n)}),g&&t.min===0&&(h[-1]||(h[-1]=new An(t,-1,null,!0)),h[-1].render(-1))),m&&tn(f,function(n,r){r%2===0&&n<t.max&&(d[n]||(d[n]=new yt.PlotLineOrBand(t)),T=n+g,k=f[r+1]!==e?f[r+1]+g:t.max,d[n].options={from:u?kt(T):T,to:u?kt(k):k,color:m},d[n].render(),d[n].isActive=!0)}),t._addedPlotLB||(tn((o.plotLines||[]).concat(o.plotBands||[]),function(e){t.addPlotBandOrLine(e)}),t._addedPlotLB=!0);tn([h,p,d],function(e){var t,n,r=[],s=_?_.duration||500:0,o=function(){n=r.length;while(n--)e[r[n]]&&!e[r[n]].isActive&&(e[r[n]].destroy(),delete e[r[n]])};for(t in e)e[t].isActive||(e[t].render(t,!1,0),e[t].isActive=!1,r.push(t));e===d||!i.hasRendered||!s?o():s&&setTimeout(o,s)}),y&&(b=t.getLinePath(y),t.axisLine?t.axisLine.animate({d:b}):t.axisLine=s.path(b).attr({stroke:o.lineColor,"stroke-width":y,zIndex:7}).add(t.axisGroup),t.axisLine[x?"show":"hide"]()),c&&x&&(c[c.isNew?"attr":"animate"](t.getTitlePosition()),c.isNew=!1),v&&v.enabled&&t.renderStackTotals(),t.isDirty=!1},redraw:function(){this.render(),tn(this.plotLinesAndBands,function(e){e.render()}),tn(this.series,function(e){e.isDirty=!0})},destroy:function(e){var t=this,n=t.stacks,r,i=t.plotLinesAndBands,s;e||un(t);for(r in n)Vt(n[r]),n[r]=null;tn([t.ticks,t.minorTicks,t.alternateBands],function(e){Vt(e)}),s=i.length;while(s--)i[s].destroy();tn(["stackTotalGroup","axisLine","axisTitle","axisGroup","cross","gridGroup","labelGroup"],function(e){t[e]&&(t[e]=t[e].destroy())}),this.cross&&this.cross.destroy()},drawCrosshair:function(e,t){if(!this.crosshair)return;if((At(t)||!_t(this.crosshair.snap,!0))===!1){this.hideCrosshair();return}var n,r=this.crosshair,i=r.animation,s;_t(r.snap,!0)?At(t)&&(s=this.chart.inverted!=this.horiz?t.plotX:this.len-t.plotY):s=this.horiz?e.chartX-this.pos:this.len-e.chartY+this.pos,this.isRadial?n=this.getPlotLinePath(this.isXAxis?t.x:_t(t.stackY,t.y)):n=this.getPlotLinePath(null,null,null,null,s);if(n===null){this.hideCrosshair();return}if(this.cross)this.cross.attr({visibility:V})[i?"animate":"attr"]({d:n},i);else{var o={"stroke-width":r.width||1,stroke:r.color||"#C0C0C0",zIndex:r.zIndex||2};r.dashStyle&&(o.dashstyle=r.dashStyle),this.cross=this.chart.renderer.path(n).attr(o).add()}},hideCrosshair:function(){this.cross&&this.cross.hide()}},bt(On.prototype,tt),On.prototype.getTimeTicks=function(e,t,n,r){var i=[],o,u={},a=O.global.useUTC,f,l=new rt(t-st),c=e.unitRange,h=e.count;if(At(t)){c>=P.second&&(l.setMilliseconds(0),l.setSeconds(c>=P.minute?0:h*s(l.getSeconds()/h))),c>=P.minute&&l[ht](c>=P.hour?0:h*s(l[ot]()/h)),c>=P.hour&&l[pt](c>=P.day?0:h*s(l[ut]()/h)),c>=P.day&&l[dt](c>=P.month?1:h*s(l[ft]()/h)),c>=P.month&&(l[vt](c>=P.year?0:h*s(l[lt]()/h)),f=l[ct]()),c>=P.year&&(f-=f%h,l[mt](f)),c===P.week&&l[dt](l[ft]()-l[at]()+_t(r,1)),o=1,st&&(l=new rt(l.getTime()+st)),f=l[ct]();var p=l.getTime(),d=l[lt](),v=l[ft](),m=(P.day+(a?st:l.getTimezoneOffset()*60*1e3))%P.day;while(p<n)i.push(p),c===P.year?p=it(f+o*h,0):c===P.month?p=it(f,d+o*h):!!a||c!==P.day&&c!==P.week?p+=c*h:p=it(f,d,v+o*h*(c===P.day?1:7)),o++;i.push(p),tn(nn(i,function(e){return c<=P.hour&&e%P.day===m}),function(e){u[e]="day"})}return i.info=bt(e,{higherRanks:u,totalRange:c*h}),i},On.prototype.normalizeTimeTickInterval=function(e,t){var n=t||[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1,2]],["week",[1,2]],["month",[1,2,3,4,6]],["year",null]],r=n[n.length-1],i=P[r[0]],s=r[1],o,a;for(a=0;a<n.length;a++){r=n[a],i=P[r[0]],s=r[1];if(n[a+1]){var f=(i*s[s.length-1]+P[n[a+1][0]])/2;if(e<=f)break}}return i===P.year&&e<5*i&&(s=[1,2,5]),o=Ut(e/i,s,r[0]==="year"?u(Rt(e/i),1):1),{unitRange:i,count:o,unitName:r[0]}},On.prototype.getLogTickPositions=function(t,n,r,o){var u=this,a=u.options,f=u.len,l=[];o||(u._minorAutoInterval=null);if(t>=.5)t=i(t),l=u.getLinearTickPositions(t,n,r);else if(t>=.08){var c=s(n),h,p,d,v,m,g,y;t>.3?h=[1,2,4]:t>.15?h=[1,2,4,6,8]:h=[1,2,3,4,5,6,7,8,9];for(p=c;p<r+1&&!y;p++){v=h.length;for(d=0;d<v&&!y;d++)m=Ct(kt(p)*h[d]),m>n&&(!o||g<=r)&&g!==e&&l.push(g),g>r&&(y=!0),g=m}}else{var b=kt(n),w=kt(r),E=a[o?"minorTickInterval":"tickInterval"],S=E==="auto"?null:E,x=a.tickPixelInterval/(o?5:1),T=o?f/u.tickPositions.length:f;t=_t(S,u._minorAutoInterval,(w-b)*x/(T||1)),t=Ut(t,null,Rt(t)),l=sn(u.getLinearTickPositions(t,b,w),Ct),o||(u._minorAutoInterval=t/5)}return o||(u.tickInterval=t),l};var Mn=yt.Tooltip=function(){this.init.apply(this,arguments)};Mn.prototype={init:function(e,t){var n=t.borderWidth,r=t.style,i=Et(r.padding);this.chart=e,this.options=t,this.crosshairs=[],this.now={x:0,y:0},this.isHidden=!0,this.label=e.renderer.label("",0,0,t.shape||"callout",null,null,t.useHTML,null,"tooltip").attr({padding:i,fill:t.backgroundColor,"stroke-width":n,r:t.borderRadius,zIndex:8}).css(r).css({padding:0}).add().attr({y:-9999}),T||this.label.shadow(t.shadow),this.shared=t.shared},destroy:function(){this.label&&(this.label=this.label.destroy()),clearTimeout(this.hideTimer),clearTimeout(this.tooltipTimeout)},move:function(t,n,r,i){var s=this,o=s.now,u=s.options.animation!==!1&&!s.isHidden&&(f(t-o.x)>1||f(n-o.y)>1),a=s.followPointer||s.len>1;bt(o,{x:u?(2*o.x+t)/3:t,y:u?(o.y+n)/2:n,anchorX:a?e:u?(2*o.anchorX+r)/3:r,anchorY:a?e:u?(o.anchorY+i)/2:i}),s.label.attr(o),u&&(clearTimeout(this.tooltipTimeout),this.tooltipTimeout=setTimeout(function(){s&&s.move(t,n,r,i)},32))},hide:function(e){var t=this,n;clearTimeout(this.hideTimer),this.isHidden||(n=this.chart.hoverPoints,this.hideTimer=setTimeout(function(){t.label.fadeOut(),t.isHidden=!0},_t(e,this.options.hideDelay,500)),n&&tn(n,function(e){e.setState()}),this.chart.hoverPoints=null)},getAnchor:function(t,n){var r,s=this.chart,o=s.inverted,u=s.plotTop,a=0,f=0,l;return t=Mt(t),r=t[0].tooltipPos,this.followPointer&&n&&(n.chartX===e&&(n=s.pointer.normalize(n)),r=[n.chartX-s.plotLeft,n.chartY-u]),r||(tn(t,function(e){l=e.series.yAxis,a+=e.plotX,f+=(e.plotLow?(e.plotLow+e.plotHigh)/2:e.plotY)+(!o&&l?l.top-u:0)}),a/=t.length,f/=t.length,r=[o?s.plotWidth-f:a,this.shared&&!o&&t.length>1&&n?n.chartY-u:o?s.plotHeight-a:f]),sn(r,i)},getPosition:function(e,t,n){var r=this.chart,i=this.distance,s={},o,u=["y",r.chartHeight,t,n.plotY+r.plotTop],a=["x",r.chartWidth,e,n.plotX+r.plotLeft],f=n.ttBelow||r.inverted&&!n.negative||!r.inverted&&n.negative,l=function(e,t,n,r){var o=n<r-i,u=r+i+n<t,a=r-i-n,l=r+i;if(f&&u)s[e]=l;else if(!f&&o)s[e]=a;else if(o)s[e]=a;else{if(!u)return!1;s[e]=l}},c=function(e,t,n,r){if(r<i||r>t-i)return!1;r<n/2?s[e]=1:r>t-n/2?s[e]=t-n-2:s[e]=r-n/2},h=function(e){var t=u;u=a,a=t,o=e},p=function(){l.apply(0,u)!==!1?c.apply(0,a)===!1&&!o&&(h(!0),p()):o?s.x=s.y=0:(h(!0),p())};return(r.inverted||this.len>1)&&h(),p(),s},defaultFormatter:function(e){var t=this.points||Mt(this),n=t[0].series,r;return r=[e.tooltipHeaderFormatter(t[0])],tn(t,function(e){n=e.series,r.push(n.tooltipFormatter&&n.tooltipFormatter(e)||e.point.tooltipFormatter(n.tooltipOptions.pointFormat))}),r.push(e.options.footerFormat||""),r.join("")},refresh:function(e,t){var n=this,r=n.chart,i=n.label,s=n.options,o,u,a,f={},l,c=[],h=s.formatter||n.defaultFormatter,p=r.hoverPoints,d,v=n.shared,m;clearTimeout(this.hideTimer),n.followPointer=Mt(e)[0].series.tooltipOptions.followPointer,a=n.getAnchor(e,t),o=a[0],u=a[1],v&&(!e.series||!e.series.noSharedTooltip)?(r.hoverPoints=e,p&&tn(p,function(e){e.setState()}),tn(e,function(e){e.setState(Z),c.push(e.getLabelConfig())}),f={x:e[0].category,y:e[0].y},f.points=c,this.len=c.length,e=e[0]):f=e.getLabelConfig(),l=h.call(f,n),m=e.series,this.distance=_t(m.tooltipOptions.distance,16),l===!1?this.hide():(n.isHidden&&(cn(i),i.attr("opacity",1).show()),i.attr({text:l}),d=s.borderColor||e.color||m.color||"#606060",i.attr({stroke:d}),n.updatePosition({plotX:o,plotY:u,negative:e.negative,ttBelow:e.ttBelow}),this.isHidden=!1),an(r,"tooltipRefresh",{text:l,x:o+r.plotLeft,y:u+r.plotTop,borderColor:d})},updatePosition:function(e){var t=this.chart,n=this.label,r=(this.options.positioner||this.getPosition).call(this,n.width,n.height,e);this.move(i(r.x),i(r.y),e.plotX+t.plotLeft,e.plotY+t.plotTop)},tooltipHeaderFormatter:function(e){var t=e.series,n=t.tooltipOptions,r=n.dateTimeLabelFormats,i=n.xDateFormat,s=t.xAxis,o=s&&s.options.type==="datetime"&&Nt(e.key),u=n.headerFormat,a=s&&s.closestPointRange,f;if(o&&!i){if(a){for(f in P)if(P[f]>=a||P[f]<=P.day&&e.key%P[f]>0){i=r[f];break}}else i=r.day;i=i||r.year}return o&&i&&(u=u.replace("{point.key}","{point.key:"+i+"}")),qt(u,{point:e,series:t})}};var _n;C=t.documentElement.ontouchstart!==e;var Dn=yt.Pointer=function(e,t){this.init(e,t)};Dn.prototype={init:function(e,t){var n=t.chart,r=n.events,i=T?"":n.zoomType,s=e.inverted,o,u;this.options=t,this.chart=e,this.zoomX=o=/x/.test(i),this.zoomY=u=/y/.test(i),this.zoomHor=o&&!s||u&&s,this.zoomVert=u&&!s||o&&s,this.hasZoom=o||u,this.runChartClick=r&&!!r.click,this.pinchDown=[],this.lastValidTouch={},yt.Tooltip&&t.tooltip.enabled&&(e.tooltip=new Mn(e,t.tooltip),this.followTouchMove=t.tooltip.followTouchMove),this.setDOMEvents()},normalize:function(t,n){var r,s,o;return t=t||window.event,t=fn(t),t.target||(t.target=t.srcElement),o=t.touches?t.touches.length?t.touches.item(0):t.changedTouches[0]:t,n||(this.chartPosition=n=rn(this.chart.container)),o.pageX===e?(r=u(t.x,t.clientX-n.left),s=t.y):(r=o.pageX-n.left,s=o.pageY-n.top),bt(t,{chartX:i(r),chartY:i(s)})},getCoordinates:function(e){var t={xAxis:[],yAxis:[]};return tn(this.chart.axes,function(n){t[n.isXAxis?"xAxis":"yAxis"].push({axis:n,value:n.toValue(e[n.horiz?"chartX":"chartY"])})}),t},getIndex:function(e){var t=this.chart;return t.inverted?t.plotHeight+t.plotTop-e.chartY:e.chartX-t.plotLeft},runPointActions:function(e){var n=this,r=n.chart,i=r.series,s=r.tooltip,o,u,l,c=r.hoverPoint,h=r.hoverSeries,p,d,v=r.chartWidth,m=n.getIndex(e),g;if(s&&n.options.tooltip.shared&&(!h||!h.noSharedTooltip)){l=[],p=i.length;for(d=0;d<p;d++)i[d].visible&&i[d].options.enableMouseTracking!==!1&&!i[d].noSharedTooltip&&i[d].singularTooltips!==!0&&i[d].tooltipPoints.length&&(u=i[d].tooltipPoints[m],u&&u.series&&(u._dist=f(m-u.clientX),v=a(v,u._dist),l.push(u)));p=l.length;while(p--)l[p]._dist>v&&l.splice(p,1);l.length&&l[0].clientX!==n.hoverX&&(s.refresh(l,e),n.hoverX=l[0].clientX)}o=h&&h.tooltipOptions.followPointer,h&&h.tracker&&!o?(u=h.tooltipPoints[m],u&&u!==c&&u.onMouseOver(e)):s&&o&&!s.isHidden&&(g=s.getAnchor([{}],e),s.updatePosition({plotX:g[0],plotY:g[1]})),s&&!n._onDocumentMouseMove&&(n._onDocumentMouseMove=function(e){j[_n]&&j[_n].pointer.onDocumentMouseMove(e)},on(t,"mousemove",n._onDocumentMouseMove)),tn(r.axes,function(t){t.drawCrosshair(e,_t(u,c))})},reset:function(n,r){var i=this,s=i.chart,o=s.hoverSeries,u=s.hoverPoint,a=s.tooltip,f=a&&a.shared?s.hoverPoints:u;n=n&&a&&f,n&&Mt(f)[0].plotX===e&&(n=!1),n?(a.refresh(f),u&&u.setState(u.state,!0)):(u&&u.onMouseOut(),o&&o.onMouseOut(),a&&a.hide(r),i._onDocumentMouseMove&&(un(t,"mousemove",i._onDocumentMouseMove),i._onDocumentMouseMove=null),tn(s.axes,function(e){e.hideCrosshair()}),i.hoverX=null)},scaleGroups:function(e,t){var n=this.chart,r;tn(n.series,function(i){r=e||i.getPlotBox(),i.xAxis&&i.xAxis.zoomEnabled&&(i.group.attr(r),i.markerGroup&&(i.markerGroup.attr(r),i.markerGroup.clip(t?n.clipRect:null)),i.dataLabelsGroup&&i.dataLabelsGroup.attr(r))}),n.clipRect.attr(t||n.clipBox)},dragStart:function(e){var t=this.chart;t.mouseIsDown=e.type,t.cancelClick=!1,t.mouseDownX=this.mouseDownX=e.chartX,t.mouseDownY=this.mouseDownY=e.chartY},drag:function(e){var t=this.chart,n=t.options.chart,r=e.chartX,i=e.chartY,s=this.zoomHor,o=this.zoomVert,u=t.plotLeft,a=t.plotTop,l=t.plotWidth,c=t.plotHeight,h,p,d=this.mouseDownX,v=this.mouseDownY,m=n.panKey&&e[n.panKey+"Key"];r<u?r=u:r>u+l&&(r=u+l),i<a?i=a:i>a+c&&(i=a+c),this.hasDragged=Math.sqrt(Math.pow(d-r,2)+Math.pow(v-i,2)),this.hasDragged>10&&(h=t.isInsidePlot(d-u,v-a),t.hasCartesianSeries&&(this.zoomX||this.zoomY)&&h&&!m&&(this.selectionMarker||(this.selectionMarker=t.renderer.rect(u,a,s?1:l,o?1:c,0).attr({fill:n.selectionMarkerFill||"rgba(69,114,167,0.25)",zIndex:7}).add())),this.selectionMarker&&s&&(p=r-d,this.selectionMarker.attr({width:f(p),x:(p>0?0:p)+d})),this.selectionMarker&&o&&(p=i-v,this.selectionMarker.attr({height:f(p),y:(p>0?0:p)+v})),h&&!this.selectionMarker&&n.panning&&t.pan(e,n.panning))},drop:function(e){var t=this.chart,n=this.hasPinched;if(this.selectionMarker){var r={xAxis:[],yAxis:[],originalEvent:e.originalEvent||e},i=this.selectionMarker,s=i.attr?i.attr("x"):i.x,o=i.attr?i.attr("y"):i.y,f=i.attr?i.attr("width"):i.width,l=i.attr?i.attr("height"):i.height,c;if(this.hasDragged||n)tn(t.axes,function(t){if(t.zoomEnabled){var n=t.horiz,i=e.type==="touchend"?t.minPixelPadding:0,h=t.toValue((n?s:o)+i),p=t.toValue((n?s+f:o+l)-i);!isNaN(h)&&!isNaN(p)&&(r[t.coll].push({axis:t,min:a(h,p),max:u(h,p)}),c=!0)}}),c&&an(t,"selection",r,function(e){t.zoom(bt(e,n?{animation:!1}:null))});this.selectionMarker=this.selectionMarker.destroy(),n&&this.scaleGroups()}t&&(Dt(t.container,{cursor:t._cursor}),t.cancelClick=this.hasDragged>10,t.mouseIsDown=this.hasDragged=this.hasPinched=!1,this.pinchDown=[])},onContainerMouseDown:function(e){e=this.normalize(e),e.preventDefault&&e.preventDefault(),this.dragStart(e)},onDocumentMouseUp:function(e){j[_n]&&j[_n].pointer.drop(e)},onDocumentMouseMove:function(e){var t=this.chart,n=this.chartPosition,r=t.hoverSeries;e=this.normalize(e,n),n&&r&&!this.inClass(e.target,"highcharts-tracker")&&!t.isInsidePlot(e.chartX-t.plotLeft,e.chartY-t.plotTop)&&this.reset()},onContainerMouseLeave:function(){var e=j[_n];e&&(e.pointer.reset(),e.pointer.chartPosition=null)},onContainerMouseMove:function(e){var t=this.chart;_n=t.index,e=this.normalize(e),e.returnValue=!1,t.mouseIsDown==="mousedown"&&this.drag(e),(this.inClass(e.target,"highcharts-tracker")||t.isInsidePlot(e.chartX-t.plotLeft,e.chartY-t.plotTop))&&!t.openMenu&&this.runPointActions(e)},inClass:function(e,t){var n;while(e){n=Ot(e,"class");if(n){if(n.indexOf(t)!==-1)return!0;if(n.indexOf(X+"container")!==-1)return!1}e=e.parentNode}},onTrackerMouseOut:function(e){var t=this.chart.hoverSeries,n=e.relatedTarget||e.toElement,r=n&&n.point&&n.point.series;t&&!t.options.stickyTracking&&!this.inClass(n,X+"tooltip")&&r!==t&&t.onMouseOut()},onContainerClick:function(e){var t=this.chart,n=t.hoverPoint,r=t.plotLeft,i=t.plotTop;e=this.normalize(e),e.cancelBubble=!0,t.cancelClick||(n&&this.inClass(e.target,X+"tracker")?(an(n.series,"click",bt(e,{point:n})),t.hoverPoint&&n.firePointEvent("click",e)):(bt(e,this.getCoordinates(e)),t.isInsidePlot(e.chartX-r,e.chartY-i)&&an(t,"click",e)))},setDOMEvents:function(){var e=this,n=e.chart.container;n.onmousedown=function(t){e.onContainerMouseDown(t)},n.onmousemove=function(t){e.onContainerMouseMove(t)},n.onclick=function(t){e.onContainerClick(t)},on(n,"mouseleave",e.onContainerMouseLeave),F===1&&on(t,"mouseup",e.onDocumentMouseUp),C&&(n.ontouchstart=function(t){e.onContainerTouchStart(t)},n.ontouchmove=function(t){e.onContainerTouchMove(t)},F===1&&on(t,"touchend",e.onDocumentTouchEnd))},destroy:function(){var e;un(this.chart.container,"mouseleave",this.onContainerMouseLeave),F||(un(t,"mouseup",this.onDocumentMouseUp),un(t,"touchend",this.onDocumentTouchEnd)),clearInterval(this.tooltipTimeout);for(e in this)this[e]=null}},bt(yt.Pointer.prototype,{pinchTranslate:function(e,t,n,r,i,s){(this.zoomHor||this.pinchHor)&&this.pinchTranslateDirection(!0,e,t,n,r,i,s),(this.zoomVert||this.pinchVert)&&this.pinchTranslateDirection(!1,e,t,n,r,i,s)},pinchTranslateDirection:function(e,t,n,r,i,s,o,u){var a=this.chart,l=e?"x":"y",c=e?"X":"Y",h="chart"+c,p=e?"width":"height",d=a["plot"+(e?"Left":"Top")],v,m,g,y=u||1,b=a.inverted,w=a.bounds[e?"h":"v"],E=t.length===1,S=t[0][h],x=n[0][h],T=!E&&t[1][h],N=!E&&n[1][h],C,k,L,A=function(){!E&&f(S-T)>20&&(y=u||f(x-N)/f(S-T)),g=(d-x)/y+S,v=a["plot"+(e?"Width":"Height")]/y};A(),m=g,m<w.min?(m=w.min,C=!0):m+v>w.max&&(m=w.max-v,C=!0),C?(x-=.8*(x-o[l][0]),E||(N-=.8*(N-o[l][1])),A()):o[l]=[x,N],b||(s[l]=g-d,s[p]=v),L=b?e?"scaleY":"scaleX":"scale"+c,k=b?1/y:y,i[p]=v,i[l]=m,r[L]=y,r["translate"+c]=k*d+(x-k*S)},pinch:function(e){var t=this,n=t.chart,r=t.pinchDown,i=t.followTouchMove,s=e.touches,o=s.length,f=t.lastValidTouch,l=t.hasZoom,c=t.selectionMarker,h={},p=o===1&&(t.inClass(e.target,X+"tracker")&&n.runTrackerClick||t.runChartClick),d={};(l||i)&&!p&&e.preventDefault(),sn(s,function(e){return t.normalize(e)}),e.type==="touchstart"?(tn(s,function(e,t){r[t]={chartX:e.chartX,chartY:e.chartY}}),f.x=[r[0].chartX,r[1]&&r[1].chartX],f.y=[r[0].chartY,r[1]&&r[1].chartY],tn(n.axes,function(e){if(e.zoomEnabled){var t=n.bounds[e.horiz?"h":"v"],r=e.minPixelPadding,i=e.toPixels(_t(e.options.min,e.dataMin)),s=e.toPixels(_t(e.options.max,e.dataMax)),o=a(i,s),f=u(i,s);t.min=a(e.pos,o-r),t.max=u(e.pos+e.len,f+r)}}),t.res=!0):r.length&&(c||(t.selectionMarker=c=bt({destroy:B},n.plotBox)),t.pinchTranslate(r,s,h,c,d,f),t.hasPinched=l,t.scaleGroups(h,d),!l&&i&&o===1?this.runPointActions(t.normalize(e)):t.res&&(t.res=!1,this.reset(!1,0)))},onContainerTouchStart:function(e){var t=this.chart;_n=t.index,e.touches.length===1?(e=this.normalize(e),t.isInsidePlot(e.chartX-t.plotLeft,e.chartY-t.plotTop)?(this.runPointActions(e),this.pinch(e)):this.reset()):e.touches.length===2&&this.pinch(e)},onContainerTouchMove:function(e){(e.touches.length===1||e.touches.length===2)&&this.pinch(e)},onDocumentTouchEnd:function(e){j[_n]&&j[_n].pointer.drop(e)}});if(n.PointerEvent||n.MSPointerEvent){var Pn={},Hn=!!n.PointerEvent,Bn=function(){var e,t=[];t.item=function(e){return this[e]};for(e in Pn)Pn.hasOwnProperty(e)&&t.push({pageX:Pn[e].pageX,pageY:Pn[e].pageY,target:Pn[e].target});return t},jn=function(e,t,n,r){var i;e=e.originalEvent||e,(e.pointerType==="touch"||e.pointerType===e.MSPOINTER_TYPE_TOUCH)&&j[_n]&&(r(e),i=j[_n].pointer,i[t]({type:n,target:e.currentTarget,preventDefault:B,touches:Bn()}))};bt(Dn.prototype,{onContainerPointerDown:function(e){jn(e,"onContainerTouchStart","touchstart",function(e){Pn[e.pointerId]={pageX:e.pageX,pageY:e.pageY,target:e.currentTarget}})},onContainerPointerMove:function(e){jn(e,"onContainerTouchMove","touchmove",function(e){Pn[e.pointerId]={pageX:e.pageX,pageY:e.pageY},Pn[e.pointerId].target||(Pn[e.pointerId].target=e.currentTarget)})},onDocumentPointerUp:function(e){jn(e,"onContainerTouchEnd","touchend",function(e){delete Pn[e.pointerId]})},batchMSEvents:function(e){e(this.chart.container,Hn?"pointerdown":"MSPointerDown",this.onContainerPointerDown),e(this.chart.container,Hn?"pointermove":"MSPointerMove",this.onContainerPointerMove),e(t,Hn?"pointerup":"MSPointerUp",this.onDocumentPointerUp)}}),Ft(Dn.prototype,"init",function(e,t,n){e.call(this,t,n),(this.hasZoom||this.followTouchMove)&&Dt(t.container,{"-ms-touch-action":J,"touch-action":J})}),Ft(Dn.prototype,"setDOMEvents",function(e){e.apply(this),(this.hasZoom||this.followTouchMove)&&this.batchMSEvents(on)}),Ft(Dn.prototype,"destroy",function(e){this.batchMSEvents(un),e.call(this)})}var Fn=yt.Legend=function(e,t){this.init(e,t)};Fn.prototype={init:function(e,t){var n=this,r=t.itemStyle,i=_t(t.padding,8),s=t.itemMarginTop||0;this.options=t;if(!t.enabled)return;n.itemStyle=r,n.itemHiddenStyle=wt(r,t.itemHiddenStyle),n.itemMarginTop=s,n.padding=i,n.initialItemX=i,n.initialItemY=i-5,n.maxItemWidth=0,n.chart=e,n.itemHeight=0,n.lastLineHeight=0,n.symbolWidth=_t(t.symbolWidth,16),n.pages=[],n.render(),on(n.chart,"endResize",function(){n.positionCheckboxes()})},colorizeItem:function(t,n){var r=this,i=r.options,s=t.legendItem,o=t.legendLine,u=t.legendSymbol,a=r.itemHiddenStyle.color,f=n?i.itemStyle.color:a,l=n?t.legendColor||t.color||"#CCC":a,c=t.options&&t.options.marker,h={fill:l},p,d;s&&s.css({fill:f,color:f}),o&&o.attr({stroke:l});if(u){if(c&&u.isMarker){h.stroke=l,c=t.convertAttribs(c);for(p in c)d=c[p],d!==e&&(h[p]=d)}u.attr(h)}},positionItem:function(e){var t=this,n=t.options,r=n.symbolPadding,i=!n.rtl,s=e._legendItemPos,o=s[0],u=s[1],a=e.checkbox;e.legendGroup&&e.legendGroup.translate(i?o:t.legendWidth-o-2*r-4,u),a&&(a.x=o,a.y=u)},destroyItem:function(e){var t=e.checkbox;tn(["legendItem","legendLine","legendSymbol","legendGroup"],function(t){e[t]&&(e[t]=e[t].destroy())}),t&&$t(e.checkbox)},destroy:function(){var e=this,t=e.group,n=e.box;n&&(e.box=n.destroy()),t&&(e.group=t.destroy())},positionCheckboxes:function(e){var t=this.group.alignAttr,n,r=this.clipHeight||this.legendHeight;t&&(n=t.translateY,tn(this.allItems,function(i){var s=i.checkbox,o;s&&(o=n+s.y+(e||0)+3,Dt(s,{left:t.translateX+i.checkboxOffset+s.x-20+$,top:o+$,display:o>n-6&&o<n+r-6?"":J}))}))},renderTitle:function(){var e=this.options,t=this.padding,n=e.title,r=0,i;n.text&&(this.title||(this.title=this.chart.renderer.label(n.text,t-3,t-4,null,null,null,null,null,"legend-title").attr({zIndex:1}).css(n.style).add(this.group)),i=this.title.getBBox(),r=i.height,this.offsetWidth=i.width,this.contentGroup.attr({translateY:r})),this.titleHeight=r},renderItem:function(e){var t=this,n=t.chart,r=n.renderer,s=t.options,o=s.layout==="horizontal",a=t.symbolWidth,f=s.symbolPadding,l=t.itemStyle,c=t.itemHiddenStyle,h=t.padding,p=o?_t(s.itemDistance,20):0,d=!s.rtl,v,m=s.width,g=s.itemMarginBottom||0,y=t.itemMarginTop,b=t.initialItemX,w,E,S=e.legendItem,x=e.series&&e.series.drawLegendSymbol?e.series:e,T=x.options,N=t.createCheckboxForItem&&T&&T.showCheckbox,C=s.useHTML;S||(e.legendGroup=r.g("legend-item").attr({zIndex:1}).add(t.scrollGroup),e.legendItem=S=r.text(s.labelFormat?qt(s.labelFormat,e):s.labelFormatter.call(e),d?a+f:-f,t.baseline||0,C).css(wt(e.visible?l:c)).attr({align:d?"left":"right",zIndex:2}).add(e.legendGroup),t.baseline||(t.baseline=r.fontMetrics(l.fontSize,S).f+3+y,S.attr("y",t.baseline)),x.drawLegendSymbol(t,e),t.setItemEvents&&t.setItemEvents(e,S,C,l,c),t.colorizeItem(e,e.visible),N&&t.createCheckboxForItem(e)),w=S.getBBox(),E=e.checkboxOffset=s.itemWidth||e.legendItemWidth||a+f+w.width+p+(N?20:0),t.itemHeight=v=i(e.legendItemHeight||w.height),o&&t.itemX-b+E>(m||n.chartWidth-2*h-b-s.x)&&(t.itemX=b,t.itemY+=y+t.lastLineHeight+g,t.lastLineHeight=0),t.maxItemWidth=u(t.maxItemWidth,E),t.lastItemY=y+t.itemY+g,t.lastLineHeight=u(v,t.lastLineHeight),e._legendItemPos=[t.itemX,t.itemY],o?t.itemX+=E:(t.itemY+=y+v+g,t.lastLineHeight=v),t.offsetWidth=m||u((o?t.itemX-b-p:E)+h,t.offsetWidth)},getAllItems:function(){var t=[];return tn(this.chart.series,function(n){var r=n.options;if(!_t(r.showInLegend,At(r.linkedTo)?!1:e,!0))return;t=t.concat(n.legendItems||(r.legendType==="point"?n.data:n))}),t},render:function(){var e=this,t=e.chart,n=t.renderer,r=e.group,i,s,o,u,a=e.box,f=e.options,l=e.padding,c=f.borderWidth,h=f.backgroundColor;e.itemX=e.initialItemX,e.itemY=e.initialItemY,e.offsetWidth=0,e.lastItemY=0,r||(e.group=r=n.g("legend").attr({zIndex:7}).add(),e.contentGroup=n.g().attr({zIndex:1}).add(r),e.scrollGroup=n.g().add(e.contentGroup)),e.renderTitle(),i=e.getAllItems(),zt(i,function(e,t){return(e.options&&e.options.legendIndex||0)-(t.options&&t.options.legendIndex||0)}),f.reversed&&i.reverse(),e.allItems=i,e.display=s=!!i.length,tn(i,function(t){e.renderItem(t)}),o=f.width||e.offsetWidth,u=e.lastItemY+e.lastLineHeight+e.titleHeight,u=e.handleOverflow(u);if(c||h)o+=l,u+=l,a?o>0&&u>0&&(a[a.isNew?"attr":"animate"](a.crisp({width:o,height:u})),a.isNew=!1):(e.box=a=n.rect(0,0,o,u,f.borderRadius,c||0).attr({stroke:f.borderColor,"stroke-width":c||0,fill:h||J}).add(r).shadow(f.shadow),a.isNew=!0),a[s?"show":"hide"]();e.legendWidth=o,e.legendHeight=u,tn(i,function(t){e.positionItem(t)}),s&&r.align(bt({width:o,height:u},f),!0,"spacingBox"),t.isResizing||this.positionCheckboxes()},handleOverflow:function(e){var t=this,n=this.chart,r=n.renderer,s=this.options,o=s.y,f=s.verticalAlign==="top",l=n.spacingBox.height+(f?-o:o)-this.padding,c=s.maxHeight,h,p=this.clipRect,d=s.navigation,v=_t(d.animation,!0),m=d.arrowSize||12,g=this.nav,y=this.pages,b,w=this.allItems;return s.layout==="horizontal"&&(l/=2),c&&(l=a(l,c)),y.length=0,e>l&&!s.useHTML?(this.clipHeight=h=u(l-20-this.titleHeight-this.padding,0),this.currentPage=_t(this.currentPage,1),this.fullHeight=e,tn(w,function(e,t){var n=e._legendItemPos[1],r=i(e.legendItem.getBBox().height),s=y.length;if(!s||n-y[s-1]>h&&(b||n)!==y[s-1])y.push(b||n),s++;t===w.length-1&&n+r-y[s-1]>h&&y.push(n),n!==b&&(b=n)}),p||(p=t.clipRect=r.clipRect(0,this.padding,9999,0),t.contentGroup.clip(p)),p.attr({height:h}),g||(this.nav=g=r.g().attr({zIndex:1}).add(this.group),this.up=r.symbol("triangle",0,0,m,m).on("click",function(){t.scroll(-1,v)}).add(g),this.pager=r.text("",15,10).css(d.style).add(g),this.down=r.symbol("triangle-down",0,0,m,m).on("click",function(){t.scroll(1,v)}).add(g)),t.scroll(0),e=l):g&&(p.attr({height:n.chartHeight}),g.hide(),this.scrollGroup.attr({translateY:1}),this.clipHeight=0),e},scroll:function(t,n){var r=this.pages,i=r.length,s=this.currentPage+t,o=this.clipHeight,u=this.options.navigation,a=u.activeColor,f=u.inactiveColor,l=this.pager,c=this.padding,h;s>i&&(s=i),s>0&&(n!==e&&Kt(n,this.chart),this.nav.attr({translateX:c,translateY:o+this.padding+7+this.titleHeight,visibility:V}),this.up.attr({fill:s===1?f:a}).css({cursor:s===1?"default":"pointer"}),l.attr({text:s+"/"+i}),this.down.attr({x:18+this.pager.getBBox().width,fill:s===i?f:a}).css({cursor:s===i?"default":"pointer"}),h=-r[s-1]+this.initialItemY,this.scrollGroup.animate({translateY:h}),this.currentPage=s,this.positionCheckboxes(h))}};var In=yt.LegendSymbolMixin={drawRectangle:function(e,t){var n=e.options.symbolHeight||12;t.legendSymbol=this.chart.renderer.rect(0,e.baseline-5-n/2,e.symbolWidth,n,e.options.symbolRadius||0).attr({zIndex:3}).add(t.legendGroup)},drawLineMarker:function(e){var t=this.options,n=t.marker,r,s=e.options,o,u=e.symbolWidth,a=this.chart.renderer,f=this.legendGroup,l=e.baseline-i(a.fontMetrics(s.itemStyle.fontSize,this.legendItem).b*.3),c;t.lineWidth&&(c={"stroke-width":t.lineWidth},t.dashStyle&&(c.dashstyle=t.dashStyle),this.legendLine=a.path([K,0,l,Q,u,l]).attr(c).add(f)),n&&n.enabled!==!1&&(r=n.radius,this.legendSymbol=o=a.symbol(this.symbol,u/2-r,l-r,2*r,2*r).add(f),o.isMarker=!0)}};(/Trident\/7\.0/.test(d)||b)&&Ft(Fn.prototype,"positionItem",function(e,t){var n=this,r=function(){t._legendItemPos&&e.call(n,t)};r(),setTimeout(r)}),qn.prototype={init:function(e,t){var n,r=e.series;e.series=null,n=wt(O,e),n.series=e.series=r,this.userOptions=e;var i=n.chart;this.margin=this.splashArray("margin",i),this.spacing=this.splashArray("spacing",i);var s=i.events;this.bounds={h:{},v:{}},this.callback=t,this.isResizing=0,this.options=n,this.axes=[],this.series=[],this.hasCartesianSeries=i.showAxes;var o=this,u;o.index=j.length,j.push(o),F++,i.reflow!==!1&&on(o,"load",function(){o.initReflow()});if(s)for(u in s)on(o,u,s[u]);o.xAxis=[],o.yAxis=[],o.animation=T?!1:_t(i.animation,!0),o.pointCount=o.colorCounter=o.symbolCounter=0,o.firstRender()},initSeries:function(e){var t=this,n=t.options.chart,r=e.type||n.type||n.defaultSeriesType,i,s=gt[r];return s||H(17,!0),i=new s,i.init(this,e),i},isInsidePlot:function(e,t,n){var r=n?t:e,i=n?e:t;return r>=0&&r<=this.plotWidth&&i>=0&&i<=this.plotHeight},adjustTickAmounts:function(){this.options.chart.alignTicks!==!1&&tn(this.axes,function(e){e.adjustTickAmount()}),this.maxTicks=null},redraw:function(e){var t=this,n=t.axes,r=t.series,i=t.pointer,s=t.legend,o=t.isDirtyLegend,u,a,f=t.hasCartesianSeries,l=t.isDirtyBox,c=r.length,h=c,p,d=t.renderer,v=d.isHidden(),m=[];Kt(e,t),v&&t.cloneRenderTo(),t.layOutTitles();while(h--){p=r[h];if(p.options.stacking){u=!0;if(p.isDirty){a=!0;break}}}if(a){h=c;while(h--)p=r[h],p.options.stacking&&(p.isDirty=!0)}tn(r,function(e){e.isDirty&&e.options.legendType==="point"&&(o=!0)}),o&&s.options.enabled&&(s.render(),t.isDirtyLegend=!1),u&&t.getStacks(),f&&(t.isResizing||(t.maxTicks=null,tn(n,function(e){e.setScale()})),t.adjustTickAmounts()),t.getMargins(),f&&(tn(n,function(e){e.isDirty&&(l=!0)}),tn(n,function(e){e.isDirtyExtremes&&(e.isDirtyExtremes=!1,m.push(function(){an(e,"afterSetExtremes",bt(e.eventArgs,e.getExtremes())),delete e.eventArgs})),(l||u)&&e.redraw()})),l&&t.drawChartBox(),tn(r,function(e){e.isDirty&&e.visible&&(!e.isCartesian||e.xAxis)&&e.redraw()}),i&&i.reset(!0),d.draw(),an(t,"redraw"),v&&t.cloneRenderTo(!0),tn(m,function(e){e.call()})},get:function(e){var t=this,n=t.axes,r=t.series,i,s,o;for(i=0;i<n.length;i++)if(n[i].options.id===e)return n[i];for(i=0;i<r.length;i++)if(r[i].options.id===e)return r[i];for(i=0;i<r.length;i++){o=r[i].points||[];for(s=0;s<o.length;s++)if(o[s].id===e)return o[s]}return null},getAxes:function(){var e=this,t=this.options,n=t.xAxis=Mt(t.xAxis||{}),r=t.yAxis=Mt(t.yAxis||{}),i,s;tn(n,function(e,t){e.index=t,e.isX=!0}),tn(r,function(e,t){e.index=t}),i=n.concat(r),tn(i,function(t){s=new On(e,t)}),e.adjustTickAmounts()},getSelectedPoints:function(){var e=[];return tn(this.series,function(t){e=e.concat(nn(t.points||[],function(e){return e.selected}))}),e},getSelectedSeries:function(){return nn(this.series,function(e){return e.selected})},getStacks:function(){var e=this;tn(e.yAxis,function(e){e.stacks&&e.hasVisibleSeries&&(e.oldStacks=e.stacks)}),tn(e.series,function(t){t.options.stacking&&(t.visible===!0||e.options.chart.ignoreHiddenSeries===!1)&&(t.stackKey=t.type+_t(t.options.stack,""))})},setTitle:function(e,t,n){var r=this,i=r.options,s,o;s=i.title=wt(i.title,e),o=i.subtitle=wt(i.subtitle,t),tn([["title",e,s],["subtitle",t,o]],function(e){var t=e[0],n=r[t],i=e[1],s=e[2];n&&i&&(r[t]=n=n.destroy()),s&&s.text&&!n&&(r[t]=r.renderer.text(s.text,0,0,s.useHTML).attr({align:s.align,"class":X+t,zIndex:s.zIndex||4}).css(s.style).add())}),r.layOutTitles(n)},layOutTitles:function(e){var t=0,n=this.title,r=this.subtitle,i=this.options,s=i.title,u=i.subtitle,a,f=this.renderer,l=this.spacingBox.width-44;n&&(n.css({width:(s.width||l)+$}).align(bt({y:f.fontMetrics(s.style.fontSize,n).b-3},s),!1,"spacingBox"),!s.floating&&!s.verticalAlign&&(t=n.getBBox().height)),r&&(r.css({width:(u.width||l)+$}).align(bt({y:t+(s.margin-13)+f.fontMetrics(s.style.fontSize,r).b},u),!1,"spacingBox"),!u.floating&&!u.verticalAlign&&(t=o(t+r.getBBox().height))),a=this.titleOffset!==t,this.titleOffset=t,!this.isDirtyBox&&a&&(this.isDirtyBox=a,this.hasRendered&&_t(e,!0)&&this.isDirtyBox&&this.redraw())},getChartSize:function(){var e=this,t=e.options.chart,n=t.width,r=t.height,i=e.renderToClone||e.renderTo;At(n)||(e.containerWidth=Yt(i,"width")),At(r)||(e.containerHeight=Yt(i,"height")),e.chartWidth=u(0,n||e.containerWidth||600),e.chartHeight=u(0,_t(r,e.containerHeight>19?e.containerHeight:400))},cloneRenderTo:function(e){var n=this.renderToClone,r=this.container;e?n&&(this.renderTo.appendChild(r),$t(n),delete this.renderToClone):(r&&r.parentNode===this.renderTo&&this.renderTo.removeChild(r),this.renderToClone=n=this.renderTo.cloneNode(0),Dt(n,{position:U,top:"-9999px",display:"block"}),n.style.setProperty&&n.style.setProperty("display","block","important"),t.body.appendChild(n),r&&n.appendChild(r))},getContainer:function(){var e=this,n,r=e.options.chart,i,s,o,u="data-highcharts-chart",a,f;e.renderTo=o=r.renderTo,f=X+L++,St(o)&&(e.renderTo=o=t.getElementById(o)),o||H(13,!0),a=Et(Ot(o,u)),!isNaN(a)&&j[a]&&j[a].hasRendered&&j[a].destroy(),Ot(o,u,e.index),o.innerHTML="",!r.skipClone&&!o.offsetWidth&&e.cloneRenderTo(),e.getChartSize(),i=e.chartWidth,s=e.chartHeight,e.container=n=Pt(R,{className:X+"container"+(r.className?" "+r.className:""),id:f},bt({position:z,overflow:W,width:i+$,height:s+$,textAlign:"left",lineHeight:"normal",zIndex:0,"-webkit-tap-highlight-color":"rgba(0,0,0,0)"},r.style),e.renderToClone||o),e._cursor=n.style.cursor,e.renderer=r.forExport?new xn(n,i,s,r.style,!0):new N(n,i,s,r.style),T&&e.renderer.create(e,n,i,s)},getMargins:function(){var e=this,t=e.spacing,n,r=e.legend,i=e.margin,s=e.options.legend,o=_t(s.margin,20),a=s.x,f=s.y,l=s.align,c=s.verticalAlign,h=e.titleOffset;e.resetMargins(),n=e.axisOffset,h&&!At(i[0])&&(e.plotTop=u(e.plotTop,h+e.options.title.margin+t[0])),r.display&&!s.floating&&(l==="right"?At(i[1])||(e.marginRight=u(e.marginRight,r.legendWidth-a+o+t[1])):l==="left"?At(i[3])||(e.plotLeft=u(e.plotLeft,r.legendWidth+a+o+t[3])):c==="top"?At(i[0])||(e.plotTop=u(e.plotTop,r.legendHeight+f+o+t[0])):c==="bottom"&&(At(i[2])||(e.marginBottom=u(e.marginBottom,r.legendHeight-f+o+t[2])))),e.extraBottomMargin&&(e.marginBottom+=e.extraBottomMargin),e.extraTopMargin&&(e.plotTop+=e.extraTopMargin),e.hasCartesianSeries&&tn(e.axes,function(e){e.getOffset()}),At(i[3])||(e.plotLeft+=n[3]),At(i[0])||(e.plotTop+=n[0]),At(i[2])||(e.marginBottom+=n[2]),At(i[1])||(e.marginRight+=n[1]),e.setChartSize()},reflow:function(e){var r=this,i=r.options.chart,s=r.renderTo,o=i.width||Yt(s,"width"),u=i.height||Yt(s,"height"),a=e?e.target:n,f=function(){r.container&&(r.setSize(o,u,!1),r.hasUserSize=null)};if(!r.hasUserSize&&o&&u&&(a===n||a===t)){if(o!==r.containerWidth||u!==r.containerHeight)clearTimeout(r.reflowTimeout),e?r.reflowTimeout=setTimeout(f,100):f();r.containerWidth=o,r.containerHeight=u}},initReflow:function(){var e=this,t=function(t){e.reflow(t)};on(n,"resize",t),on(e,"destroy",function(){un(n,"resize",t)})},setSize:function(e,t,n){var r=this,s,o,a;r.isResizing+=1,a=function(){r&&an(r,"endResize",null,function(){r.isResizing-=1})},Kt(n,r),r.oldChartHeight=r.chartHeight,r.oldChartWidth=r.chartWidth,At(e)&&(r.chartWidth=s=u(0,i(e)),r.hasUserSize=!!s),At(t)&&(r.chartHeight=o=u(0,i(t))),(_?ln:Dt)(r.container,{width:s+$,height:o+$},_),r.setChartSize(!0),r.renderer.setSize(s,o,n),r.maxTicks=null,tn(r.axes,function(e){e.isDirty=!0,e.setScale()}),tn(r.series,function(e){e.isDirty=!0}),r.isDirtyLegend=!0,r.isDirtyBox=!0,r.layOutTitles(),r.getMargins(),r.redraw(n),r.oldChartHeight=null,an(r,"resize"),_===!1?a():setTimeout(a,_&&_.duration||500)},setChartSize:function(e){var t=this,n=t.inverted,r=t.renderer,a=t.chartWidth,f=t.chartHeight,l=t.options.chart,c=t.spacing,h=t.clipOffset,p,d,v,m,g,y,b;t.plotLeft=v=i(t.plotLeft),t.plotTop=m=i(t.plotTop),t.plotWidth=g=u(0,i(a-v-t.marginRight)),t.plotHeight=y=u(0,i(f-m-t.marginBottom)),t.plotSizeX=n?y:g,t.plotSizeY=n?g:y,t.plotBorderWidth=l.plotBorderWidth||0,t.spacingBox=r.spacingBox={x:c[3],y:c[0],width:a-c[3]-c[1],height:f-c[0]-c[2]},t.plotBox=r.plotBox={x:v,y:m,width:g,height:y},b=2*s(t.plotBorderWidth/2),p=o(u(b,h[3])/2),d=o(u(b,h[0])/2),t.clipBox={x:p,y:d,width:s(t.plotSizeX-u(b,h[1])/2-p),height:u(0,s(t.plotSizeY-u(b,h[2])/2-d))},e||tn(t.axes,function(e){e.setAxisSize(),e.setAxisTranslation()})},resetMargins:function(){var e=this,t=e.spacing,n=e.margin;e.plotTop=_t(n[0],t[0]),e.marginRight=_t(n[1],t[1]),e.marginBottom=_t(n[2],t[2]),e.plotLeft=_t(n[3],t[3]),e.axisOffset=[0,0,0,0],e.clipOffset=[0,0,0,0]},drawChartBox:function(){var e=this,t=e.options.chart,n=e.renderer,r=e.chartWidth,i=e.chartHeight,s=e.chartBackground,o=e.plotBackground,u=e.plotBorder,a=e.plotBGImage,f=t.borderWidth||0,l=t.backgroundColor,c=t.plotBackgroundColor,h=t.plotBackgroundImage,p=t.plotBorderWidth||0,d,v,m=e.plotLeft,g=e.plotTop,y=e.plotWidth,b=e.plotHeight,w=e.plotBox,E=e.clipRect,S=e.clipBox;d=f+(t.shadow?8:0);if(f||l)s?s.animate(s.crisp({width:r-d,height:i-d})):(v={fill:l||J},f&&(v.stroke=t.borderColor,v["stroke-width"]=f),e.chartBackground=n.rect(d/2,d/2,r-d,i-d,t.borderRadius,f).attr(v).addClass(X+"background").add().shadow(t.shadow));c&&(o?o.animate(w):e.plotBackground=n.rect(m,g,y,b,0).attr({fill:c}).add().shadow(t.plotShadow)),h&&(a?a.animate(w):e.plotBGImage=n.image(h,m,g,y,b).add()),E?E.animate({width:S.width,height:S.height}):e.clipRect=n.clipRect(S),p&&(u?u.animate(u.crisp({x:m,y:g,width:y,height:b,strokeWidth:-p})):e.plotBorder=n.rect(m,g,y,b,0,-p).attr({stroke:t.plotBorderColor,"stroke-width":p,fill:J,zIndex:1}).add()),e.isDirtyBox=!1},propFromSeries:function(){var e=this,t=e.options.chart,n,r=e.options.series,i,s;tn(["inverted","angular","polar"],function(o){n=gt[t.type||t.defaultSeriesType],s=e[o]||t[o]||n&&n.prototype[o],i=r&&r.length;while(!s&&i--)n=gt[r[i].type],n&&n.prototype[o]&&(s=!0);e[o]=s})},linkSeries:function(){var e=this,t=e.series;tn(t,function(e){e.linkedSeries.length=0}),tn(t,function(t){var n=t.options.linkedTo;St(n)&&(n===":previous"?n=e.series[t.index-1]:n=e.get(n),n&&(n.linkedSeries.push(t),t.linkedParent=n))})},renderSeries:function(){tn(this.series,function(e){e.translate(),e.setTooltipPoints&&e.setTooltipPoints(),e.render()})},renderLabels:function(){var e=this,t=e.options.labels;t.items&&tn(t.items,function(n){var r=bt(t.style,n.style),i=Et(r.left)+e.plotLeft,s=Et(r.top)+e.plotTop+12;delete r.left,delete r.top,e.renderer.text(n.html,i,s).attr({zIndex:2}).css(r).add()})},render:function(){var e=this,t=e.axes,n=e.renderer,r=e.options;e.setTitle(),e.legend=new Fn(e,r.legend),e.getStacks(),tn(t,function(e){e.setScale()}),e.getMargins(),e.maxTicks=null,tn(t,function(e){e.setTickPositions(!0),e.setMaxTicks()}),e.adjustTickAmounts(),e.getMargins(),e.drawChartBox(),e.hasCartesianSeries&&tn(t,function(e){e.render()}),e.seriesGroup||(e.seriesGroup=n.g("series-group").attr({zIndex:3}).add()),e.renderSeries(),e.renderLabels(),e.showCredits(r.credits),e.hasRendered=!0},showCredits:function(e){e.enabled&&!this.credits&&(this.credits=this.renderer.text(e.text,0,0).on("click",function(){e.href&&(location.href=e.href)}).attr({align:e.position.align,zIndex:8}).css(e.style).add().align(e.position))},destroy:function(){var t=this,n=t.axes,r=t.series,i=t.container,s,o=i&&i.parentNode;an(t,"destroy"),j[t.index]=e,F--,t.renderTo.removeAttribute("data-highcharts-chart"),un(t),s=n.length;while(s--)n[s]=n[s].destroy();s=r.length;while(s--)r[s]=r[s].destroy();tn(["title","subtitle","chartBackground","plotBackground","plotBGImage","plotBorder","seriesGroup","clipRect","credits","pointer","scroller","rangeSelector","legend","resetZoomButton","tooltip","renderer"],function(e){var n=t[e];n&&n.destroy&&(t[e]=n.destroy())}),i&&(i.innerHTML="",un(i),o&&$t(i));for(s in t)delete t[s]},isReadyToRender:function(){var e=this;return!S&&n==n.top&&t.readyState!=="complete"||T&&!n.canvg?(T?Ln.push(function(){e.firstRender()},e.options.global.canvasToolsURL):t.attachEvent("onreadystatechange",function(){t.detachEvent("onreadystatechange",e.firstRender),t.readyState==="complete"&&e.firstRender()}),!1):!0},firstRender:function(){var e=this,t=e.options,n=e.callback;if(!e.isReadyToRender())return;e.getContainer(),an(e,"init"),e.resetMargins(),e.setChartSize(),e.propFromSeries(),e.getAxes(),tn(t.series||[],function(t){e.initSeries(t)}),e.linkSeries(),an(e,"beforeRender"),yt.Pointer&&(e.pointer=new Dn(e,t)),e.render(),e.renderer.draw(),n&&n.apply(e,[e]),tn(e.callbacks,function(t){t.apply(e,[e])}),e.cloneRenderTo(!0),an(e,"load")},splashArray:function(e,t){var n=t[e],r=xt(n)?n:[n,n,n,n];return[_t(t[e+"Top"],r[0]),_t(t[e+"Right"],r[1]),_t(t[e+"Bottom"],r[2]),_t(t[e+"Left"],r[3])]}},qn.prototype.callbacks=[];var Rn=yt.CenteredSeriesMixin={getCenter:function(){var e=this.options,t=this.chart,n=2*(e.slicedOffset||0),r,i=t.plotWidth-2*n,s=t.plotHeight-2*n,o=e.center,u=[_t(o[0],"50%"),_t(o[1],"50%"),e.size||"100%",e.innerSize||0],f=a(i,s),l;return sn(u,function(e,t){return l=/%$/.test(e),r=t<2||t===2&&l,(l?[i,s,f,f][t]*Et(e)/100:e)+(r?n:0)})}},Un=function(){};Un.prototype={init:function(e,t,n){var r=this,i;return r.series=e,r.applyOptions(t,n),r.pointAttr={},e.options.colorByPoint&&(i=e.options.colors||e.chart.options.colors,r.color=r.color||i[e.colorCounter++],e.colorCounter===i.length&&(e.colorCounter=0)),e.chart.pointCount++,r},applyOptions:function(t,n){var r=this,i=r.series,s=i.options.pointValKey||i.pointValKey;return t=Un.prototype.optionsToObject.call(this,t),bt(r,t),r.options=r.options?bt(r.options,t):t,s&&(r.y=r[s]),r.x===e&&i&&(r.x=n===e?i.autoIncrement():n),r},optionsToObject:function(e){var t={},n=this.series,r=n.pointArrayMap||["y"],i=r.length,s,o=0,u=0;if(typeof e=="number"||e===null)t[r[0]]=e;else if(Tt(e)){e.length>i&&(s=typeof e[0],s==="string"?t.name=e[0]:s==="number"&&(t.x=e[0]),o++);while(u<i)t[r[u++]]=e[o++]}else typeof e=="object"&&(t=e,e.dataLabels&&(n._hasPointLabels=!0),e.marker&&(n._hasPointMarkers=!0));return t},destroy:function(){var e=this,t=e.series,n=t.chart,r=n.hoverPoints,i;n.pointCount--,r&&(e.setState(),Lt(r,e),r.length||(n.hoverPoints=null)),e===n.hoverPoint&&e.onMouseOut();if(e.graphic||e.dataLabel)un(e),e.destroyElements();e.legendItem&&n.legend.destroyItem(e);for(i in e)e[i]=null},destroyElements:function(){var e=this,t=["graphic","dataLabel","dataLabelUpper","group","connector","shadowGroup"],n,r=6;while(r--)n=t[r],e[n]&&(e[n]=e[n].destroy())},getLabelConfig:function(){var e=this;return{x:e.category,y:e.y,key:e.name||e.category,series:e.series,point:e,percentage:e.percentage,total:e.total||e.stackTotal}},tooltipFormatter:function(e){var t=this.series,n=t.tooltipOptions,r=_t(n.valueDecimals,""),i=n.valuePrefix||"",s=n.valueSuffix||"";return tn(t.pointArrayMap||["y"],function(t){t="{point."+t;if(i||s)e=e.replace(t+"}",i+t+"}"+s);e=e.replace(t+"}",t+":,."+r+"f}")}),qt(e,{point:this,series:this.series})},firePointEvent:function(e,t,n){var r=this,i=this.series,s=i.options;(s.point.events[e]||r.options&&r.options.events&&r.options.events[e])&&this.importEvents(),e==="click"&&s.allowPointSelect&&(n=function(e){r.select(null,e.ctrlKey||e.metaKey||e.shiftKey)}),an(this,e,t,n)}};var zn=function(){};zn.prototype={isCartesian:!0,type:"line",pointClass:Un,sorted:!0,requireSorting:!0,pointAttrToOptions:{stroke:"lineColor","stroke-width":"lineWidth",fill:"fillColor",r:"radius"},axisTypes:["xAxis","yAxis"],colorCounter:0,parallelArrays:["x","y"],init:function(e,t){var n=this,r,i,s=e.series,o=function(e,t){return _t(e.options.index,e._i)-_t(t.options.index,t._i)};n.chart=e,n.options=t=n.setOptions(t),n.linkedSeries=[],n.bindAxes(),bt(n,{name:t.name,state:Y,pointAttr:{},visible:t.visible!==!1,selected:t.selected===!0}),T&&(t.animation=!1),i=t.events;for(r in i)on(n,r,i[r]);if(i&&i.click||t.point&&t.point.events&&t.point.events.click||t.allowPointSelect)e.runTrackerClick=!0;n.getColor(),n.getSymbol(),tn(n.parallelArrays,function(e){n[e+"Data"]=[]}),n.setData(t.data,!1),n.isCartesian&&(e.hasCartesianSeries=!0),s.push(n),n._i=s.length-1,zt(s,o),this.yAxis&&zt(this.yAxis.series,o),tn(s,function(e,t){e.index=t,e.name=e.name||"Series "+(t+1)})},bindAxes:function(){var t=this,n=t.options,r=t.chart,i;tn(t.axisTypes||[],function(s){tn(r[s],function(r){i=r.options;if(n[s]===i.index||n[s]!==e&&n[s]===i.id||n[s]===e&&i.index===0)r.series.push(t),t[s]=r,r.isDirty=!0}),!t[s]&&t.optionalAxis!==s&&H(18,!0)})},updateParallelArrays:function(e,t){var n=e.series,r=arguments,i=typeof t=="number"?function(r){var i=r==="y"&&n.toYData?n.toYData(e):e[r];n[r+"Data"][t]=i}:function(e){Array.prototype[t].apply(n[e+"Data"],Array.prototype.slice.call(r,2))};tn(n.parallelArrays,i)},autoIncrement:function(){var e=this,t=e.options,n=e.xIncrement;return n=_t(n,t.pointStart,0),e.pointInterval=_t(e.pointInterval,t.pointInterval,1),e.xIncrement=n+e.pointInterval,n},getSegments:function(){var e=this,t=-1,n=[],r,i=e.points,s=i.length;if(s)if(e.options.connectNulls){r=s;while(r--)i[r].y===null&&i.splice(r,1);i.length&&(n=[i])}else tn(i,function(e,r){e.y===null?(r>t+1&&n.push(i.slice(t+1,r)),t=r):r===s-1&&n.push(i.slice(t+1,r+1))});e.segments=n},setOptions:function(e){var t=this.chart,n=t.options,r=n.plotOptions,i=t.userOptions||{},s=i.plotOptions||{},o=r[this.type],u;return this.userOptions=e,u=wt(o,r.series,e),this.tooltipOptions=wt(O.tooltip,O.plotOptions[this.type].tooltip,i.tooltip,s.series&&s.series.tooltip,s[this.type]&&s[this.type].tooltip,e.tooltip),o.marker===null&&delete u.marker,u},getCyclic:function(e,t,n){var r,i=this.userOptions,s="_"+e+"Index",o=e+"Counter";t||(At(i[s])?r=i[s]:(i[s]=r=this.chart[o]%n.length,this.chart[o]+=1),t=n[r]),this[e]=t},getColor:function(){this.options.colorByPoint||this.getCyclic("color",this.options.color||pn[this.type].color,this.chart.options.colors)},getSymbol:function(){var e=this.options.marker;this.getCyclic("symbol",e.symbol,this.chart.options.symbols),/^url/.test(this.symbol)&&(e.radius=0)},drawLegendSymbol:In.drawLineMarker,setData:function(t,n,r,i){var s=this,o=s.points,u=o&&o.length||0,a,f=s.options,l=s.chart,c=null,h=s.xAxis,p=h&&!!h.categories,d=s.tooltipPoints,v,m=f.turboThreshold,g,y=this.xData,b=this.yData,w=s.pointArrayMap,E=w&&w.length;t=t||[],a=t.length,n=_t(n,!0);if(i!==!1&&a&&u===a&&!s.cropped&&!s.hasGroupedData)tn(t,function(e,t){o[t].update(e,!1,null,!1)});else{s.xIncrement=null,s.pointRange=p?1:f.pointRange,s.colorCounter=0,tn(this.parallelArrays,function(e){s[e+"Data"].length=0});if(m&&a>m){v=0;while(c===null&&v<a)c=t[v],v++;if(Nt(c)){var S=_t(f.pointStart,0),x=_t(f.pointInterval,1);for(v=0;v<a;v++)y[v]=S,b[v]=t[v],S+=x;s.xIncrement=S}else if(Tt(c))if(E)for(v=0;v<a;v++)g=t[v],y[v]=g[0],b[v]=g.slice(1,E+1);else for(v=0;v<a;v++)g=t[v],y[v]=g[0],b[v]=g[1];else H(12)}else for(v=0;v<a;v++)t[v]!==e&&(g={series:s},s.pointClass.prototype.applyOptions.apply(g,[t[v]]),s.updateParallelArrays(g,v),p&&g.name&&(h.names[g.x]=g.name));St(b[0])&&H(14,!0),s.data=[],s.options.data=t,v=u;while(v--)o[v]&&o[v].destroy&&o[v].destroy();d&&(d.length=0),h&&(h.minRange=h.userMinRange),s.isDirty=s.isDirtyData=l.isDirtyBox=!0,r=!1}n&&l.redraw(r)},processData:function(t){var n=this,r=n.xData,i=n.yData,s=r.length,o,u=0,a,f,l,c=n.xAxis,h,p=n.options,d=p.cropThreshold,v=0,m=n.isCartesian,g,y,b;if(m&&!n.isDirty&&!c.isDirty&&!n.yAxis.isDirty&&!t)return!1;c&&(g=c.getExtremes(),y=g.min,b=g.max);if(m&&n.sorted&&(!d||s>d||n.forceCrop))if(r[s-1]<y||r[0]>b)r=[],i=[];else if(r[0]<y||r[s-1]>b)o=this.cropData(n.xData,n.yData,y,b),r=o.xData,i=o.yData,u=o.start,a=!0,v=r.length;for(h=r.length-1;h>=0;h--)f=r[h]-r[h-1],!a&&r[h]>y&&r[h]<b&&v++,f>0&&(l===e||f<l)?l=f:f<0&&n.requireSorting&&H(15);n.cropped=a,n.cropStart=u,n.processedXData=r,n.processedYData=i,n.activePointCount=v,p.pointRange===null&&(n.pointRange=l||1),n.closestPointRange=l},cropData:function(e,t,n,r){var i=e.length,s=0,o=i,a=_t(this.cropShoulder,1),f;for(f=0;f<i;f++)if(e[f]>=n){s=u(0,f-a);break}for(;f<i;f++)if(e[f]>r){o=f+a;break}return{xData:e.slice(s,o),yData:t.slice(s,o),start:s,end:o}},generatePoints:function(){var t=this,n=t.options,r=n.data,i=t.data,s,o=t.processedXData,u=t.processedYData,a=t.pointClass,f=o.length,l=t.cropStart||0,c,h=t.hasGroupedData,p,d=[],v;if(!i&&!h){var m=[];m.length=r.length,i=t.data=m}for(v=0;v<f;v++)c=l+v,h?d[v]=(new a).init(t,[o[v]].concat(Mt(u[v]))):(i[c]?p=i[c]:r[c]!==e&&(i[c]=p=(new a).init(t,r[c],o[v])),d[v]=p),d[v].index=c;if(i&&(f!==(s=i.length)||h))for(v=0;v<s;v++)v===l&&!h&&(v+=f),i[v]&&(i[v].destroyElements(),i[v].plotX=e);t.data=i,t.points=d},getExtremes:function(t){var n=this.xAxis,r=this.yAxis,i=this.processedXData,s,o=[],u=0,a=n.getExtremes(),f=a.min,l=a.max,c,h,p,d,v,m,g,y;t=t||this.stackedYData||this.processedYData,s=t.length;for(g=0;g<s;g++){v=i[g],m=t[g],c=m!==null&&m!==e&&(!r.isLog||m.length||m>0),h=this.getExtremesFromAll||this.cropped||(i[g+1]||v)>=f&&(i[g-1]||v)<=l;if(c&&h){y=m.length;if(y)while(y--)m[y]!==null&&(o[u++]=m[y]);else o[u++]=m}}this.dataMin=_t(p,Wt(o)),this.dataMax=_t(d,Xt(o))},translate:function(){this.processedXData||this.processData(),this.generatePoints();var t=this,n=t.options,r=n.stacking,i=t.xAxis,s=i.categories,o=t.yAxis,u=t.points,a=u.length,f=!!t.modifyValue,l,c=n.pointPlacement,h=c==="between"||Nt(c),p=n.threshold;for(l=0;l<a;l++){var d=u[l],v=d.x,m=d.y,g=d.low,y=r&&o.stacks[(t.negStacks&&m<p?"-":"")+t.stackKey],b,w;o.isLog&&m<=0&&(d.y=m=null,H(10)),d.plotX=i.translate(v,0,0,0,1,c,this.type==="flags"),r&&t.visible&&y&&y[v]&&(b=y[v],w=b.points[t.index+","+l],g=w[0],m=w[1],g===0&&(g=_t(p,o.min)),o.isLog&&g<=0&&(g=null),d.total=d.stackTotal=b.total,d.percentage=b.total&&d.y/b.total*100,d.stackY=m,b.setOffset(t.pointXOffset||0,t.barW||0)),d.yBottom=At(g)?o.translate(g,0,1,0,1):null,f&&(m=t.modifyValue(m,d)),d.plotY=typeof m=="number"&&m!==Infinity?o.translate(m,0,1,0,1):e,d.clientX=h?i.translate(v,0,0,0,1):d.plotX,d.negative=d.y<(p||0),d.category=s&&s[d.x]!==e?s[d.x]:d.x}t.getSegments()},animate:function(e){var t=this,n=t.chart,r=n.renderer,i,s,o=t.options.animation,u=t.clipBox||n.clipBox,a=n.inverted,f;o&&!xt(o)&&(o=pn[t.type].animation),f=["_sharedClip",o.duration,o.easing,u.height].join(","),e?(i=n[f],s=n[f+"m"],i||(n[f]=i=r.clipRect(bt(u,{width:0})),n[f+"m"]=s=r.clipRect(-99,a?-n.plotLeft:-n.plotTop,99,a?n.chartWidth:n.chartHeight)),t.group.clip(i),t.markerGroup.clip(s),t.sharedClipKey=f):(i=n[f],i&&i.animate({width:n.plotSizeX},o),n[f+"m"]&&n[f+"m"].animate({width:n.plotSizeX+99},o),t.animate=null)},afterAnimate:function(){var e=this.chart,t=this.sharedClipKey,n=this.group,r=this.clipBox;n&&this.options.clip!==!1&&((!t||!r)&&n.clip(r?e.renderer.clipRect(r):e.clipRect),this.markerGroup.clip()),an(this,"afterAnimate"),setTimeout(function(){t&&e[t]&&(r||(e[t]=e[t].destroy()),e[t+"m"]&&(e[t+"m"]=e[t+"m"].destroy()))},100)},drawPoints:function(){var t=this,n,r=t.points,o=t.chart,u,a,f,l,c,h,p,d,v=t.options,m=v.marker,g=t.pointAttr[""],y,b,w,E,S=t.markerGroup,x=_t(m.enabled,!t.requireSorting||t.activePointCount<.5*t.xAxis.len/m.radius);if(m.enabled!==!1||t._hasPointMarkers){f=r.length;while(f--)l=r[f],u=s(l.plotX),a=l.plotY,d=l.graphic,y=l.marker||{},b=!!l.marker,w=x&&y.enabled===e||y.enabled,E=o.isInsidePlot(i(u),a,o.inverted),w&&a!==e&&!isNaN(a)&&l.y!==null?(n=l.pointAttr[l.selected?et:Y]||g,c=n.r,h=_t(y.symbol,t.symbol),p=h.indexOf("url")===0,d?d[E?"show":"hide"](!0).animate(bt({x:u-c,y:a-c},d.symbolName?{width:2*c,height:2*c}:{})):E&&(c>0||p)&&(l.graphic=d=o.renderer.symbol(h,u-c,a-c,2*c,2*c,b?y:m).attr(n).add(S))):d&&(l.graphic=d.destroy())}},convertAttribs:function(e,t,n,r){var i=this.pointAttrToOptions,s,o,u={};e=e||{},t=t||{},n=n||{},r=r||{};for(s in i)o=i[s],u[s]=_t(e[o],t[s],n[s],r[s]);return u},getAttribs:function(){var e=this,t=e.options,n=pn[e.type].marker?t.marker:t,r=n.states,i=r[Z],s,o=e.color,u={stroke:o,fill:o},a=e.points||[],f,l,c=[],h,p=e.pointAttrToOptions,d=e.hasPointSpecificOptions,v=t.negativeColor,m=n.lineColor,g=n.fillColor,y=t.turboThreshold,b,w;t.marker?(i.radius=i.radius||n.radius+i.radiusPlus,i.lineWidth=i.lineWidth||n.lineWidth+i.lineWidthPlus):i.color=i.color||En(i.color||o).brighten(i.brightness).get(),c[Y]=e.convertAttribs(n,u),tn([Z,et],function(t){c[t]=e.convertAttribs(r[t],c[Y])}),e.pointAttr=c,f=a.length;if(!y||f<y||d)while(f--){l=a[f],n=l.options&&l.options.marker||l.options,n&&n.enabled===!1&&(n.radius=0),l.negative&&v&&(l.color=l.fillColor=v),d=t.colorByPoint||l.color;if(l.options)for(w in p)At(n[p[w]])&&(d=!0);d?(n=n||{},h=[],r=n.states||{},s=r[Z]=r[Z]||{},t.marker||(s.color=s.color||!l.options.color&&i.color||En(l.color).brighten(s.brightness||i.brightness).get()),b={color:l.color},g||(b.fillColor=l.color),m||(b.lineColor=l.color),h[Y]=e.convertAttribs(bt(b,n),c[Y]),h[Z]=e.convertAttribs(r[Z],c[Z],h[Y]),h[et]=e.convertAttribs(r[et],c[et],h[Y])):h=c,l.pointAttr=h}},destroy:function(){var e=this,t=e.chart,n=/AppleWebKit\/533/.test(d),r,i,s=e.data||[],o,u,a;an(e,"destroy"),un(e),tn(e.axisTypes||[],function(t){a=e[t],a&&(Lt(a.series,e),a.isDirty=a.forceRedraw=!0)}),e.legendItem&&e.chart.legend.destroyItem(e),i=s.length;while(i--)o=s[i],o&&o.destroy&&o.destroy();e.points=null,clearTimeout(e.animationTimeout),tn(["area","graph","dataLabelsGroup","group","markerGroup","tracker","graphNeg","areaNeg","posClip","negClip"],function(t){e[t]&&(r=n&&t==="group"?"hide":"destroy",e[t][r]())}),t.hoverSeries===e&&(t.hoverSeries=null),Lt(t.series,e);for(u in e)delete e[u]},getSegmentPath:function(e){var t=this,n=[],r=t.options.step;return tn(e,function(i,s){var o=i.plotX,u=i.plotY,a;t.getPointSpline?n.push.apply(n,t.getPointSpline(e,i,s)):(n.push(s?Q:K),r&&s&&(a=e[s-1],r==="right"?n.push(a.plotX,u):r==="center"?n.push((a.plotX+o)/2,a.plotY,(a.plotX+o)/2,u):n.push(o,a.plotY)),n.push(i.plotX,i.plotY))}),n},getGraphPath:function(){var e=this,t=[],n,r=[];return tn(e.segments,function(i){n=e.getSegmentPath(i),i.length>1?t=t.concat(n):r.push(i[0])}),e.singlePoints=r,e.graphPath=t,t},drawGraph:function(){var e=this,t=this.options,n=[["graph",t.lineColor||this.color]],r=t.lineWidth,i=t.dashStyle,s=t.linecap!=="square",o=this.getGraphPath(),u=t.negativeColor;u&&n.push(["graphNeg",u]),tn(n,function(n,u){var a=n[0],f=e[a],l;f?(cn(f),f.animate({d:o})):r&&o.length&&(l={stroke:n[1],"stroke-width":r,fill:J,zIndex:1},i?l.dashstyle=i:s&&(l["stroke-linecap"]=l["stroke-linejoin"]="round"),e[a]=e.chart.renderer.path(o).attr(l).add(e.group).shadow(!u&&t.shadow))})},clipNeg:function(){var e=this.options,t=this.chart,n=t.renderer,r=e.negativeColor||e.negativeFillColor,s,o,a,f=this.graph,l=this.area,c=this.posClip,h=this.negClip,p=t.chartWidth,d=t.chartHeight,v=u(p,d),m=this.yAxis,g,y;r&&(f||l)&&(s=i(m.toPixels(e.threshold||0,!0)),s<0&&(v-=s),g={x:0,y:0,width:v,height:s},y={x:0,y:s,width:v,height:v},t.inverted&&(g.height=y.y=t.plotWidth-s,n.isVML&&(g={x:t.plotWidth-s-t.plotLeft,y:0,width:p,height:d},y={x:s+t.plotLeft-p,y:0,width:t.plotLeft+s,height:p})),m.reversed?(o=y,a=g):(o=g,a=y),c?(c.animate(o),h.animate(a)):(this.posClip=c=n.clipRect(o),this.negClip=h=n.clipRect(a),f&&this.graphNeg&&(f.clip(c),this.graphNeg.clip(h)),l&&(l.clip(c),this.areaNeg.clip(h))))},invertGroups:function(){function n(){var t={width:e.yAxis.len,height:e.xAxis.len};tn(["group","markerGroup"],function(n){e[n]&&e[n].attr(t).invert()})}var e=this,t=e.chart;if(!e.xAxis)return;on(t,"resize",n),on(e,"destroy",function(){un(t,"resize",n)}),n(),e.invertGroups=n},plotGroup:function(e,t,n,r,i){var s=this[e],o=!s;return o&&(this[e]=s=this.chart.renderer.g(t).attr({visibility:n,zIndex:r||.1}).add(i)),s[o?"attr":"animate"](this.getPlotBox()),s},getPlotBox:function(){var e=this.chart,t=this.xAxis,n=this.yAxis;return e.inverted&&(t=n,n=this.xAxis),{translateX:t?t.left:e.plotLeft,translateY:n?n.top:e.plotTop,scaleX:1,scaleY:1}},render:function(){var e=this,t=e.chart,n,r=e.options,i=r.animation,s=i&&!!e.animate&&t.renderer.isSVG&&_t(i.duration,500)||0,o=e.visible?V:W,u=r.zIndex,a=e.hasRendered,f=t.seriesGroup;n=e.plotGroup("group","series",o,u,f),e.markerGroup=e.plotGroup("markerGroup","markers",o,u,f),s&&e.animate(!0),e.getAttribs(),n.inverted=e.isCartesian?t.inverted:!1,e.drawGraph&&(e.drawGraph(),e.clipNeg()),tn(e.points,function(e){e.redraw&&e.redraw()}),e.drawDataLabels&&e.drawDataLabels(),e.visible&&e.drawPoints(),e.drawTracker&&e.options.enableMouseTracking!==!1&&e.drawTracker(),t.inverted&&e.invertGroups(),r.clip!==!1&&!e.sharedClipKey&&!a&&n.clip(t.clipRect),s&&e.animate(),a||(s?e.animationTimeout=setTimeout(function(){e.afterAnimate()},s):e.afterAnimate()),e.isDirty=e.isDirtyData=!1,e.hasRendered=!0},redraw:function(){var e=this,t=e.chart,n=e.isDirtyData,r=e.group,i=e.xAxis,s=e.yAxis;r&&(t.inverted&&r.attr({width:t.plotWidth,height:t.plotHeight}),r.animate({translateX:_t(i&&i.left,t.plotLeft),translateY:_t(s&&s.top,t.plotTop)})),e.translate(),e.setTooltipPoints&&e.setTooltipPoints(!0),e.render(),n&&an(e,"updatedData")}},Wn.prototype={destroy:function(){Vt(this,this.axis)},render:function(e){var t=this.options,n=t.format,r=n?qt(n,this):t.formatter.call(this);this.label?this.label.attr({text:r,visibility:W}):this.label=this.axis.chart.renderer.text(r,null,null,t.useHTML).css(t.style).attr({align:this.textAlign,rotation:t.rotation,visibility:W}).add(e)},setOffset:function(e,t){var n=this,r=n.axis,i=r.chart,s=i.inverted,o=this.isNegative,u=r.translate(r.usePercentage?100:this.total,0,0,0,1),a=r.translate(0),l=f(u-a),c=i.xAxis[0].translate(this.x)+e,h=i.plotHeight,p={x:s?o?u:u-l:c,y:s?h-c-t:o?h-u-l:h-u,width:s?l:t,height:s?t:l},d=this.label,v;d&&(d.align(this.alignOptions,null,p),v=d.alignAttr,d[this.options.crop===!1||i.isInsidePlot(v.x,v.y)?"show":"hide"](!0))}},On.prototype.buildStacks=function(){var e=this.series,t=_t(this.options.reversedStacks,!0),n=e.length;if(!this.isXAxis){this.usePercentage=!1;while(n--)e[t?n:e.length-n-1].setStackedPoints();if(this.usePercentage)for(n=0;n<e.length;n++)e[n].setPercentStacks()}},On.prototype.renderStackTotals=function(){var e=this,t=e.chart,n=t.renderer,r=e.stacks,i,s,o,u=e.stackTotalGroup;u||(e.stackTotalGroup=u=n.g("stack-labels").attr({visibility:V,zIndex:6}).add()),u.translate(t.plotLeft,t.plotTop);for(i in r){s=r[i];for(o in s)s[o].render(u)}},zn.prototype.setStackedPoints=function(){if(!this.options.stacking||this.visible!==!0&&this.chart.options.chart.ignoreHiddenSeries!==!1)return;var e=this,t=e.processedXData,n=e.processedYData,r=[],i=n.length,s=e.options,o=s.threshold,a=s.stack,l=s.stacking,c=e.stackKey,h="-"+c,p=e.negStacks,d=e.yAxis,v=d.stacks,m=d.oldStacks,g,y,b,w,E,S,x,T;for(S=0;S<i;S++)x=t[S],T=n[S],E=e.index+","+S,g=p&&T<o,w=g?h:c,v[w]||(v[w]={}),v[w][x]||(m[w]&&m[w][x]?(v[w][x]=m[w][x],v[w][x].total=null):v[w][x]=new Wn(d,d.options.stackLabels,g,x,a)),y=v[w][x],y.points[E]=[y.cum||0],l==="percent"?(b=g?c:h,p&&v[b]&&v[b][x]?(b=v[b][x],y.total=b.total=u(b.total,y.total)+f(T)||0):y.total=Jt(y.total+(f(T)||0))):y.total=Jt(y.total+(T||0)),y.cum=(y.cum||0)+(T||0),y.points[E].push(y.cum),r[S]=y.cum;l==="percent"&&(d.usePercentage=!0),this.stackedYData=r,d.oldStacks={}},zn.prototype.setPercentStacks=function(){var e=this,t=e.stackKey,n=e.yAxis.stacks,r=e.processedXData;tn([t,"-"+t],function(t){var i=r.length,s,o,u,a;while(i--)s=r[i],o=n[t]&&n[t][s],u=o&&o.points[e.index+","+i],u&&(a=o.total?100/o.total:0,u[0]=Jt(u[0]*a),u[1]=Jt(u[1]*a),e.stackedYData[i]=u[1])})},bt(qn.prototype,{addSeries:function(e,t,n){var r,i=this;return e&&(t=_t(t,!0),an(i,"addSeries",{options:e},function(){r=i.initSeries(e),i.isDirtyLegend=!0,i.linkSeries(),t&&i.redraw(n)})),r},addAxis:function(e,t,n,r){var i=t?"xAxis":"yAxis",s=this.options,o;o=new On(this,wt(e,{index:this[i].length,isX:t})),s[i]=Mt(s[i]||{}),s[i].push(e),_t(n,!0)&&this.redraw(r)},showLoading:function(e){var t=this,n=t.options,r=t.loadingDiv,i=n.loading,s=function(){r&&Dt(r,{left:t.plotLeft+$,top:t.plotTop+$,width:t.plotWidth+$,height:t.plotHeight+$})};r||(t.loadingDiv=r=Pt(R,{className:X+"loading"},bt(i.style,{zIndex:10,display:J}),t.container),t.loadingSpan=Pt("span",null,i.labelStyle,r),on(t,"redraw",s)),t.loadingSpan.innerHTML=e||n.lang.loading,t.loadingShown||(Dt(r,{opacity:0,display:""}),ln(r,{opacity:i.style.opacity},{duration:i.showDuration||0}),t.loadingShown=!0),s()},hideLoading:function(){var e=this.options,t=this.loadingDiv;t&&ln(t,{opacity:0},{duration:e.loading.hideDuration||100,complete:function(){Dt(t,{display:J})}}),this.loadingShown=!1}}),bt(Un.prototype,{update:function(e,t,n,r){function l(){i.applyOptions(e),xt(e)&&!Tt(e)&&(i.redraw=function(){o&&(e&&e.marker&&e.marker.symbol?i.graphic=o.destroy():o.attr(i.pointAttr[i.state||""])),e&&e.dataLabels&&i.dataLabel&&(i.dataLabel=i.dataLabel.destroy()),i.redraw=null}),u=i.index,s.updateParallelArrays(i,u),f.data[u]=i.options,s.isDirty=s.isDirtyData=!0,!s.fixedBox&&s.hasCartesianSeries&&(a.isDirtyBox=!0),f.legendType==="point"&&a.legend.destroyItem(i),t&&a.redraw(n)}var i=this,s=i.series,o=i.graphic,u,a=s.chart,f=s.options;t=_t(t,!0),r===!1?l():i.firePointEvent("update",{options:e},l)},remove:function(e,t){var n=this,r=n.series,i=r.points,s=r.chart,o,u=r.data;Kt(t,s),e=_t(e,!0),n.firePointEvent("remove",null,function(){o=en(n,u),u.length===i.length&&i.splice(o,1),u.splice(o,1),r.options.data.splice(o,1),r.updateParallelArrays(n,"splice",o,1),n.destroy(),r.isDirty=!0,r.isDirtyData=!0,e&&s.redraw()})}}),bt(zn.prototype,{addPoint:function(e,t,n,r){var i=this,s=i.options,o=i.data,u=i.graph,a=i.area,f=i.chart,l=i.xAxis&&i.xAxis.names,c=u&&u.shift||0,h=s.data,p,d,v=i.xData,m,g;Kt(r,f),n&&tn([u,a,i.graphNeg,i.areaNeg],function(e){e&&(e.shift=c+1)}),a&&(a.isArea=!0),t=_t(t,!0),p={series:i},i.pointClass.prototype.applyOptions.apply(p,[e]),m=p.x,g=v.length;if(i.requireSorting&&m<v[g-1]){d=!0;while(g&&v[g-1]>m)g--}i.updateParallelArrays(p,"splice",g,0,0),i.updateParallelArrays(p,g),l&&p.name&&(l[m]=p.name),h.splice(g,0,e),d&&(i.data.splice(g,0,null),i.processData()),s.legendType==="point"&&i.generatePoints(),n&&(o[0]&&o[0].remove?o[0].remove(!1):(o.shift(),i.updateParallelArrays(p,"shift"),h.shift())),i.isDirty=!0,i.isDirtyData=!0,t&&(i.getAttribs(),f.redraw())},remove:function(e,t){var n=this,r=n.chart;e=_t(e,!0),n.isRemoving||(n.isRemoving=!0,an(n,"remove",null,function(){n.destroy(),r.isDirtyLegend=r.isDirtyBox=!0,r.linkSeries(),e&&r.redraw(t)})),n.isRemoving=!1},update:function(t,n){var r=this,i=this.chart,s=this.userOptions,o=this.type,u=gt[o].prototype,a=["group","markerGroup","dataLabelsGroup"],f;tn(a,function(e){a[e]=r[e],delete r[e]}),t=wt(s,{animation:!1,index:this.index,pointStart:this.xData[0]},{data:this.options.data},t),this.remove(!1);for(f in u)u.hasOwnProperty(f)&&(this[f]=e);bt(this,gt[t.type||o].prototype),tn(a,function(e){r[e]=a[e]}),this.init(i,t),i.linkSeries(),_t(n,!0)&&i.redraw(!1)}}),bt(On.prototype,{update:function(t,n){var r=this.chart;t=r.options[this.coll][this.options.index]=wt(this.userOptions,t),this.destroy(!0),this._addedPlotLB=e,this.init(r,bt(t,{events:e})),r.isDirtyBox=!0,_t(n,!0)&&r.redraw()},remove:function(e){var t=this.chart,n=this.coll,r=this.series,i=r.length;while(i--)r[i]&&r[i].remove(!1);Lt(t.axes,this),Lt(t[n],this),t.options[n].splice(this.options.index,1),tn(t[n],function(e,t){e.options.index=t}),this.destroy(),t.isDirtyBox=!0,_t(e,!0)&&t.redraw()},setTitle:function(e,t){this.update({title:e},t)},setCategories:function(e,t){this.update({categories:e},t)}});var Xn=Ht(zn);gt.line=Xn,pn.area=wt(dn,{threshold:0});var Vn=Ht(zn,{type:"area",getSegments:function(){var e=this,t=[],n=[],r=[],i=this.xAxis,s=this.yAxis,o=s.stacks[this.stackKey],u={},a,f,l=this.points,c=this.options.connectNulls,h,p;if(this.options.stacking&&!this.cropped){for(h=0;h<l.length;h++)u[l[h].x]=l[h];for(p in o)o[p].total!==null&&r.push(+p);r.sort(function(e,t){return e-t}),tn(r,function(t){var r=0,l;if(c&&(!u[t]||u[t].y===null))return;if(u[t])n.push(u[t]);else{for(h=e.index;h<=s.series.length;h++){l=o[t].points[h+","+t];if(l){r=l[1];break}}a=i.translate(t),f=s.toPixels(r,!0),n.push({y:null,plotX:a,clientX:a,plotY:f,yBottom:f,onMouseOver:B})}}),n.length&&t.push(n)}else zn.prototype.getSegments.call(this),t=this.segments;this.segments=t},getSegmentPath:function(e){var t=zn.prototype.getSegmentPath.call(this,e),n=[].concat(t),r,i=this.options,s=t.length,o=this.yAxis.getThreshold(i.threshold),u;s===3&&n.push(Q,t[1],t[2]);if(i.stacking&&!this.closedStacks)for(r=e.length-1;r>=0;r--)u=_t(e[r].yBottom,o),r<e.length-1&&i.step&&n.push(e[r+1].plotX,u),n.push(e[r].plotX,u);else this.closeSegment(n,e,o);return this.areaPath=this.areaPath.concat(n),t},closeSegment:function(e,t,n){e.push(Q,t[t.length-1].plotX,n,Q,t[0].plotX,n)},drawGraph:function(){this.areaPath=[],zn.prototype.drawGraph.apply(this);var e=this,t=this.areaPath,n=this.options,r=n.negativeColor,i=n.negativeFillColor,s=[["area",this.color,n.fillColor]];(r||i)&&s.push(["areaNeg",r,i]),tn(s,function(r){var i=r[0],s=e[i];s?s.animate({d:t}):e[i]=e.chart.renderer.path(t).attr({fill:_t(r[2],En(r[1]).setOpacity(_t(n.fillOpacity,.75)).get()),zIndex:0}).add(e.group)})},drawLegendSymbol:In.drawRectangle});gt.area=Vn,pn.spline=wt(dn);var $n=Ht(zn,{type:"spline",getPointSpline:function(e,t,n){var r=1.5,i=r+1,s=t.plotX,o=t.plotY,f=e[n-1],l=e[n+1],c,h,p,d,v;if(f&&l){var m=f.plotX,g=f.plotY,y=l.plotX,b=l.plotY,w;c=(r*s+m)/i,h=(r*o+g)/i,p=(r*s+y)/i,d=(r*o+b)/i,w=(d-h)*(p-s)/(p-c)+o-d,h+=w,d+=w,h>g&&h>o?(h=u(g,o),d=2*o-h):h<g&&h<o&&(h=a(g,o),d=2*o-h),d>b&&d>o?(d=u(b,o),h=2*o-d):d<b&&d<o&&(d=a(b,o),h=2*o-d),t.rightContX=p,t.rightContY=d}return n?(v=["C",f.rightContX||f.plotX,f.rightContY||f.plotY,c||s,h||o,s,o],f.rightContX=f.rightContY=null):v=[K,s,o],v}});gt.spline=$n,pn.areaspline=wt(pn.area);var Jn=Vn.prototype,Kn=Ht($n,{type:"areaspline",closedStacks:!0,getSegmentPath:Jn.getSegmentPath,closeSegment:Jn.closeSegment,drawGraph:Jn.drawGraph,drawLegendSymbol:In.drawRectangle});gt.areaspline=Kn,pn.column=wt(dn,{borderColor:"#FFFFFF",borderRadius:0,groupPadding:.2,marker:null,pointPadding:.1,minPointLength:0,cropThreshold:50,pointRange:null,states:{hover:{brightness:.1,shadow:!1,halo:!1},select:{color:"#C0C0C0",borderColor:"#000000",shadow:!1}},dataLabels:{align:null,verticalAlign:null,y:null},stickyTracking:!1,tooltip:{distance:6},threshold:0});var Qn=Ht(zn,{type:"column",pointAttrToOptions:{stroke:"borderColor",fill:"color",r:"borderRadius"},cropShoulder:0,trackerGroups:["group","dataLabelsGroup"],negStacks:!0,init:function(){zn.prototype.init.apply(this,arguments);var e=this,t=e.chart;t.hasRendered&&tn(t.series,function(t){t.type===e.type&&(t.isDirty=!0)})},getColumnMetrics:function(){var t=this,n=t.options,r=t.xAxis,i=t.yAxis,s=r.reversed,o,u={},l,c=0;n.grouping===!1?c=1:tn(t.chart.series,function(n){var r=n.options,s=n.yAxis;n.type===t.type&&n.visible&&i.len===s.len&&i.pos===s.pos&&(r.stacking?(o=n.stackKey,u[o]===e&&(u[o]=c++),l=u[o]):r.grouping!==!1&&(l=c++),n.columnIndex=l)});var h=a(f(r.transA)*(r.ordinalSlope||n.pointRange||r.closestPointRange||r.tickInterval||1),r.len),p=h*n.groupPadding,d=h-2*p,v=d/c,m=n.pointWidth,g=At(m)?(v-m)/2:v*n.pointPadding,y=_t(m,v-2*g),b=(s?c-(t.columnIndex||0):t.columnIndex)||0,w=g+(p+b*v-h/2)*(s?-1:1);return t.columnMetrics={width:y,offset:w}},translate:function(){var e=this,t=e.chart,n=e.options,r=e.borderWidth=_t(n.borderWidth,e.activePointCount>.5*e.xAxis.len?0:1),s=e.yAxis,l=n.threshold,c=e.translatedThreshold=s.getThreshold(l),h=_t(n.minPointLength,5),p=e.getColumnMetrics(),d=p.width,v=e.barW=u(d,1+2*r),m=e.pointXOffset=p.offset,g=-(r%2?.5:0),y=r%2?.5:1;t.renderer.isVML&&t.inverted&&(y+=1),n.pointPadding&&(v=o(v)),zn.prototype.translate.apply(e),tn(e.points,function(n){var r=_t(n.yBottom,c),o=a(u(-999-r,n.plotY),s.len+999+r),l=n.plotX+m,p=v,b=a(o,r),w,E,S,x=u(o,r)-b;f(x)<h&&h&&(x=h,b=i(f(b-c)>h?r-h:c-(s.translate(n.y,0,1,0,1)<=c?h:0))),n.barX=l,n.pointWidth=d,n.tooltipPos=t.inverted?[s.len-o,e.xAxis.len-l-p/2]:[l+p/2,o+s.pos-t.plotTop],w=i(l+p)+g,l=i(l)+g,p=w-l,S=f(b)<.5,E=i(b+x)+y,b=i(b)+y,x=E-b,S&&(b-=1,x+=1),n.shapeType="rect",n.shapeArgs={x:l,y:b,width:p,height:x}})},getSymbol:B,drawLegendSymbol:In.drawRectangle,drawGraph:B,drawPoints:function(){var t=this,n=this.chart,r=t.options,i=n.renderer,s=r.animationLimit||250,o,u;tn(t.points,function(a){var f=a.plotY,l=a.graphic,c;f!==e&&!isNaN(f)&&a.y!==null?(o=a.shapeArgs,c=At(t.borderWidth)?{"stroke-width":t.borderWidth}:{},u=a.pointAttr[a.selected?et:Y]||t.pointAttr[Y],l?(cn(l),l.attr(c)[n.pointCount<s?"animate":"attr"](wt(o))):a.graphic=l=i[a.shapeType](o).attr(u).attr(c).add(t.group).shadow(r.shadow,null,r.stacking&&!r.borderRadius)):l&&(a.graphic=l.destroy())})},animate:function(e){var t=this,n=this.yAxis,r=t.options,i=this.chart.inverted,s={},o;S&&(e?(s.scaleY=.001,o=a(n.pos+n.len,u(n.pos,n.toPixels(r.threshold))),i?s.translateX=o-n.len:s.translateY=o,t.group.attr(s)):(s.scaleY=1,s[i?"translateX":"translateY"]=n.pos,t.group.animate(s,t.options.animation),t.animate=null))},remove:function(){var e=this,t=e.chart;t.hasRendered&&tn(t.series,function(t){t.type===e.type&&(t.isDirty=!0)}),zn.prototype.remove.apply(e,arguments)}});gt.column=Qn,pn.bar=wt(pn.column);var Gn=Ht(Qn,{type:"bar",inverted:!0});gt.bar=Gn,pn.scatter=wt(dn,{lineWidth:0,tooltip:{headerFormat:'<span style="color:{series.color}">●</span> <span style="font-size: 10px;"> {series.name}</span><br/>',pointFormat:"x: <b>{point.x}</b><br/>y: <b>{point.y}</b><br/>"},stickyTracking:!1});var Yn=Ht(zn,{type:"scatter",sorted:!1,requireSorting:!1,noSharedTooltip:!0,trackerGroups:["markerGroup","dataLabelsGroup"],takeOrdinalPosition:!1,singularTooltips:!0,drawGraph:function(){this.options.lineWidth&&zn.prototype.drawGraph.call(this)}});gt.scatter=Yn,pn.pie=wt(dn,{borderColor:"#FFFFFF",borderWidth:1,center:[null,null],clip:!1,colorByPoint:!0,dataLabels:{distance:30,enabled:!0,formatter:function(){return this.point.name}},ignoreHiddenPoint:!0,legendType:"point",marker:null,size:null,showInLegend:!1,slicedOffset:10,states:{hover:{brightness:.1,shadow:!1}},stickyTracking:!1,tooltip:{followPointer:!0}});var Zn=Ht(Un,{init:function(){Un.prototype.init.apply(this,arguments);var e=this,t;return e.y<0&&(e.y=null),bt(e,{visible:e.visible!==!1,name:_t(e.name,"Slice")}),t=function(t){e.slice(t.type==="select")},on(e,"select",t),on(e,"unselect",t),e},setVisible:function(t){var n=this,r=n.series,i=r.chart;n.visible=n.options.visible=t=t===e?!n.visible:t,r.options.data[en(n,r.data)]=n.options,tn(["graphic","dataLabel","connector","shadowGroup"],function(e){n[e]&&n[e][t?"show":"hide"](!0)}),n.legendItem&&i.legend.colorizeItem(n,t),!r.isDirty&&r.options.ignoreHiddenPoint&&(r.isDirty=!0,i.redraw())},slice:function(e,t,n){var r=this,i=r.series,s=i.chart,o;Kt(n,s),t=_t(t,!0),r.sliced=r.options.sliced=e=At(e)?e:!r.sliced,i.options.data[en(r,i.data)]=r.options,o=e?r.slicedTranslation:{translateX:0,translateY:0},r.graphic.animate(o),r.shadowGroup&&r.shadowGroup.animate(o)},haloPath:function(e){var t=this.shapeArgs,n=this.series.chart;return this.sliced||!this.visible?[]:this.series.chart.renderer.symbols.arc(n.plotLeft+t.x,n.plotTop+t.y,t.r+e,t.r+e,{innerR:this.shapeArgs.r,start:t.start,end:t.end})}}),er={type:"pie",isCartesian:!1,pointClass:Zn,requireSorting:!1,noSharedTooltip:!0,trackerGroups:["group","dataLabelsGroup"],axisTypes:[],pointAttrToOptions:{stroke:"borderColor","stroke-width":"borderWidth",fill:"color"},singularTooltips:!0,getColor:B,animate:function(e){var t=this,n=t.points,r=t.startAngleRad;e||(tn(n,function(e){var n=e.graphic,i=e.shapeArgs;n&&(n.attr({r:t.center[3]/2,start:r,end:r}),n.animate({r:i.r,start:i.start,end:i.end},t.options.animation))}),t.animate=null)},setData:function(e,t,n,r){zn.prototype.setData.call(this,e,!1,n,r),this.processData(),this.generatePoints(),_t(t,!0)&&this.chart.redraw(n)},generatePoints:function(){var e,t=0,n,r,i,s=this.options.ignoreHiddenPoint;zn.prototype.generatePoints.call(this),n=this.points,r=n.length;for(e=0;e<r;e++)i=n[e],t+=s&&!i.visible?0:i.y;this.total=t;for(e=0;e<r;e++)i=n[e],i.percentage=t>0?i.y/t*100:0,i.total=t},translate:function(e){this.generatePoints();var t=this,n=0,s=1e3,o=t.options,u=o.slicedOffset,f=u+o.borderWidth,p,d,v,m=o.startAngle||0,g=t.startAngleRad=h/180*(m-90),y=t.endAngleRad=h/180*(_t(o.endAngle,m+360)-90),b=y-g,w=t.points,E,S,x=o.dataLabels.distance,T=o.ignoreHiddenPoint,N,C=w.length,k;e||(t.center=e=t.getCenter()),t.getX=function(t,n){return v=r.asin(a((t-e[1])/(e[2]/2+x),1)),e[0]+(n?-1:1)*l(v)*(e[2]/2+x)};for(N=0;N<C;N++){k=w[N],p=g+n*b;if(!T||k.visible)n+=k.percentage/100;d=g+n*b,k.shapeType="arc",k.shapeArgs={x:e[0],y:e[1],r:e[2]/2,innerR:e[3]/2,start:i(p*s)/s,end:i(d*s)/s},v=(d+p)/2,v>1.5*h?v-=2*h:v<-h/2&&(v+=2*h),k.slicedTranslation={translateX:i(l(v)*u),translateY:i(c(v)*u)},E=l(v)*e[2]/2,S=c(v)*e[2]/2,k.tooltipPos=[e[0]+E*.7,e[1]+S*.7],k.half=v<-h/2||v>h/2?1:0,k.angle=v,f=a(f,x/2),k.labelPos=[e[0]+E+l(v)*x,e[1]+S+c(v)*x,e[0]+E+l(v)*f,e[1]+S+c(v)*f,e[0]+E,e[1]+S,x<0?"center":k.half?"right":"left",v]}},drawGraph:null,drawPoints:function(){var e=this,t=e.chart,n=t.renderer,r,i,s=e.options.shadow,o,u;s&&!e.shadowGroup&&(e.shadowGroup=n.g("shadow").add(e.group)),tn(e.points,function(t){i=t.graphic,u=t.shapeArgs,o=t.shadowGroup,s&&!o&&(o=t.shadowGroup=n.g("shadow").add(e.shadowGroup)),r=t.sliced?t.slicedTranslation:{translateX:0,translateY:0},o&&o.attr(r),i?i.animate(bt(u,r)):t.graphic=i=n[t.shapeType](u).setRadialReference(e.center).attr(t.pointAttr[t.selected?et:Y]).attr({"stroke-linejoin":"round"}).attr(r).add(e.group).shadow(s,o),t.visible!==undefined&&t.setVisible(t.visible)})},sortByAngle:function(e,t){e.sort(function(e,n){return e.angle!==undefined&&(n.angle-e.angle)*t})},drawLegendSymbol:In.drawRectangle,getCenter:Rn.getCenter,getSymbol:B};er=Ht(zn,er),gt.pie=er,zn.prototype.drawDataLabels=function(){var t=this,n=t.options,r=n.cursor,i=n.dataLabels,s=t.points,o,u,a=t.hasRendered||0,f,l;if(i.enabled||t._hasPointLabels)t.dlProcessOptions&&t.dlProcessOptions(i),l=t.plotGroup("dataLabelsGroup","data-labels",i.defer?W:V,i.zIndex||6),_t(i.defer,!0)&&(l.attr({opacity:+a}),a||on(t,"afterAnimate",function(){t.visible&&l.show(),l[n.animation?"animate":"attr"]({opacity:1},{duration:200})})),u=i,tn(s,function(n){var s,a=n.dataLabel,c,h,p,d,v=n.connector,m=!0;o=n.options&&n.options.dataLabels,s=_t(o&&o.enabled,u.enabled);if(a&&!s)n.dataLabel=a.destroy();else if(s){i=wt(u,o),d=i.rotation,c=n.getLabelConfig(),f=i.format?qt(i.format,c):i.formatter.call(c,i),i.style.color=_t(i.color,i.style.color,t.color,"black");if(a)At(f)?(a.attr({text:f}),m=!1):(n.dataLabel=a=a.destroy(),v&&(n.connector=v.destroy()));else if(At(f)){h={fill:i.backgroundColor,stroke:i.borderColor,"stroke-width":i.borderWidth,r:i.borderRadius||0,rotation:d,padding:i.padding,zIndex:1};for(p in h)h[p]===e&&delete h[p];a=n.dataLabel=t.chart.renderer[d?"text":"label"](f,0,-999,null,null,null,i.useHTML).attr(h).css(bt(i.style,r&&{cursor:r})).add(l).shadow(i.shadow)}a&&t.alignDataLabel(n,a,i,null,m)}})},zn.prototype.alignDataLabel=function(e,t,n,r,s){var o=this.chart,u=o.inverted,a=_t(e.plotX,-999),f=_t(e.plotY,-999),l=t.getBBox(),c=this.visible&&(e.series.forceDL||o.isInsidePlot(a,i(f),u)||r&&o.isInsidePlot(a,u?r.x+1:r.y+r.height-1,u)),h;c&&(r=bt({x:u?o.plotWidth-f:a,y:i(u?o.plotHeight-a:f),width:0,height:0},r),bt(n,{width:l.width,height:l.height}),n.rotation?t[s?"attr":"animate"]({x:r.x+n.x+r.width/2,y:r.y+n.y+r.height/2}).attr({align:n.align}):(t.align(n,null,r),h=t.alignAttr,_t(n.overflow,"justify")==="justify"?this.justifyDataLabel(t,n,h,l,r,s):_t(n.crop,!0)&&(c=o.isInsidePlot(h.x,h.y)&&o.isInsidePlot(h.x+l.width,h.y+l.height)))),c||(t.attr({y:-999}),t.placed=!1)},zn.prototype.justifyDataLabel=function(e,t,n,r,i,s){var o=this.chart,u=t.align,a=t.verticalAlign,f,l;f=n.x,f<0&&(u==="right"?t.align="left":t.x=-f,l=!0),f=n.x+r.width,f>o.plotWidth&&(u==="left"?t.align="right":t.x=o.plotWidth-f,l=!0),f=n.y,f<0&&(a==="bottom"?t.verticalAlign="top":t.y=-f,l=!0),f=n.y+r.height,f>o.plotHeight&&(a==="top"?t.verticalAlign="bottom":t.y=o.plotHeight-f,l=!0),l&&(e.placed=!s,e.align(t,null,i))},gt.pie&&(gt.pie.prototype.drawDataLabels=function(){var e=this,t=e.data,n,r=e.chart,s=e.options.dataLabels,o=_t(s.connectorPadding,10),l=_t(s.connectorWidth,1),c=r.plotWidth,h=r.plotHeight,p,d,v=_t(s.softConnector,!0),m=s.distance,g=e.center,y=g[2]/2,b=g[1],w=m>0,E,S,x,T,N=[[],[]],C,k,L,A,O,M,_=[0,0,0,0],D=function(e,t){return t.y-e.y};if(!e.visible||!s.enabled&&!e._hasPointLabels)return;zn.prototype.drawDataLabels.apply(e),tn(t,function(e){e.dataLabel&&e.visible&&N[e.half].push(e)}),O=2;while(O--){var P=[],H,B=[],j=N[O],F,I,q=j.length,R;if(!q)continue;e.sortByAngle(j,O-.5),M=T=0;while(!T&&j[M])T=j[M]&&j[M].dataLabel&&(j[M].dataLabel.getBBox().height||21),M++;if(m>0){I=a(b+y+m,r.plotHeight);for(F=u(0,b-y-m);F<=I;F+=T)P.push(F);H=P.length;if(q>H){A=[].concat(j),A.sort(D),M=q;while(M--)A[M].rank=M;M=q;while(M--)j[M].rank>=H&&j.splice(M,1);q=j.length}for(M=0;M<q;M++){n=j[M],x=n.labelPos;var U=9999,z,X;for(X=0;X<H;X++)z=f(P[X]-x[1]),z<U&&(U=z,R=X);if(R<M&&P[M]!==null)R=M;else if(H<q-M+R&&P[M]!==null){R=H-q+M;while(P[R]===null)R++}else while(P[R]===null)R++;B.push({i:R,y:P[R]}),P[R]=null}B.sort(D)}for(M=0;M<q;M++){var $,J;n=j[M],x=n.labelPos,E=n.dataLabel,L=n.visible===!1?W:V,J=x[1];if(m>0){$=B.pop(),R=$.i,k=$.y;if(J>k&&P[R+1]!==null||J<k&&P[R-1]!==null)k=a(u(0,J),r.plotHeight)}else k=J;C=s.justify?g[0]+(O?-1:1)*(y+m):e.getX(k===b-y-m||k===b+y+m?J:k,O),E._attr={visibility:L,align:x[6]},E._pos={x:C+s.x+({left:o,right:-o}[x[6]]||0),y:k+s.y-10},E.connX=C,E.connY=k,this.options.size===null&&(S=E.width,C-S<o?_[3]=u(i(S-C+o),_[3]):C+S>c-o&&(_[1]=u(i(C+S-c+o),_[1])),k-T/2<0?_[0]=u(i(-k+T/2),_[0]):k+T/2>h&&(_[2]=u(i(k+T/2-h),_[2])))}}if(Xt(_)===0||this.verifyDataLabelOverflow(_))this.placeDataLabels(),w&&l&&tn(this.points,function(t){p=t.connector,x=t.labelPos,E=t.dataLabel,E&&E._pos?(L=E._attr.visibility,C=E.connX,k=E.connY,d=v?[K,C+(x[6]==="left"?5:-5),k,"C",C,k,2*x[2]-x[4],2*x[3]-x[5],x[2],x[3],Q,x[4],x[5]]:[K,C+(x[6]==="left"?5:-5),k,Q,x[2],x[3],Q,x[4],x[5]],p?(p.animate({d:d}),p.attr("visibility",L)):t.connector=p=e.chart.renderer.path(d).attr({"stroke-width":l,stroke:s.connectorColor||t.color||"#606060",visibility:L}).add(e.dataLabelsGroup)):p&&(t.connector=p.destroy())})},gt.pie.prototype.placeDataLabels=function(){tn(this.points,function(e){var t=e.dataLabel,n;t&&(n=t._pos,n?(t.attr(t._attr),t[t.moved?"animate":"attr"](n),t.moved=!0):t&&t.attr({y:-999}))})},gt.pie.prototype.alignDataLabel=B,gt.pie.prototype.verifyDataLabelOverflow=function(e){var t=this.center,n=this.options,r=n.center,i=n.minSize||80,s=i,o;return r[0]!==null?s=u(t[2]-u(e[1],e[3]),i):(s=u(t[2]-e[1]-e[3],i),t[0]+=(e[3]-e[1])/2),r[1]!==null?s=u(a(s,t[2]-u(e[0],e[2])),i):(s=u(a(s,t[2]-e[0]-e[2]),i),t[1]+=(e[0]-e[2])/2),s<t[2]?(t[2]=s,this.translate(t),tn(this.points,function(e){e.dataLabel&&(e.dataLabel._pos=null)}),this.drawDataLabels&&this.drawDataLabels()):o=!0,o}),gt.column&&(gt.column.prototype.alignDataLabel=function(e,t,n,r,i){var s=this.chart,o=s.inverted,u=e.dlBox||e.shapeArgs,a=e.below||e.plotY>_t(this.translatedThreshold,s.plotSizeY),f=_t(n.inside,!!this.options.stacking);u&&(r=wt(u),o&&(r={x:s.plotWidth-r.y-r.height,y:s.plotHeight-r.x-r.width,width:r.height,height:r.width}),f||(o?(r.x+=a?0:r.width,r.width=0):(r.y+=a?r.height:0,r.height=0))),n.align=_t(n.align,!o||f?"center":a?"right":"left"),n.verticalAlign=_t(n.verticalAlign,o||f?"middle":a?"top":"bottom"),zn.prototype.alignDataLabel.call(this,e,t,n,r,i)});var tr=yt.TrackerMixin={drawTrackerPoint:function(){var t=this,n=t.chart,r=n.pointer,i=t.options.cursor,s=i&&{cursor:i},o=function(r){var i=r.target,s;n.hoverSeries!==t&&t.onMouseOver();while(i&&!s)s=i.point,i=i.parentNode;s!==e&&s!==n.hoverPoint&&s.onMouseOver(r)};tn(t.points,function(e){e.graphic&&(e.graphic.element.point=e),e.dataLabel&&(e.dataLabel.element.point=e)}),t._hasTracking||(tn(t.trackerGroups,function(e){t[e]&&(t[e].addClass(X+"tracker").on("mouseover",o).on("mouseout",function(e){r.onTrackerMouseOut(e)}).css(s),C&&t[e].on("touchstart",o))}),t._hasTracking=!0)},drawTrackerGraph:function(){var e=this,t=e.options,n=t.trackByArea,r=[].concat(n?e.areaPath:e.graphPath),i=r.length,s=e.chart,o=s.pointer,u=s.renderer,a=s.options.tooltip.snap,f=e.tracker,l=t.cursor,c=l&&{cursor:l},h=e.singlePoints,p,d,v=function(){s.hoverSeries!==e&&e.onMouseOver()},m="rgba(192,192,192,"+(S?1e-4:.002)+")";if(i&&!n){d=i+1;while(d--)r[d]===K&&r.splice(d+1,0,r[d+1]-a,r[d+2],Q),(d&&r[d]===K||d===i)&&r.splice(d,0,Q,r[d-2]+a,r[d-1])}for(d=0;d<h.length;d++)p=h[d],r.push(K,p.plotX-a,p.plotY,Q,p.plotX+a,p.plotY);f?f.attr({d:r}):(e.tracker=u.path(r).attr({"stroke-linejoin":"round",visibility:e.visible?V:W,stroke:m,fill:n?m:J,"stroke-width":t.lineWidth+(n?0:2*a),zIndex:2}).add(e.group),tn([e.tracker,e.markerGroup],function(e){e.addClass(X+"tracker").on("mouseover",v).on("mouseout",function(e){o.onTrackerMouseOut(e)}).css(c),C&&e.on("touchstart",v)}))}};gt.column&&(Qn.prototype.drawTracker=tr.drawTrackerPoint),gt.pie&&(gt.pie.prototype.drawTracker=tr.drawTrackerPoint),gt.scatter&&(Yn.prototype.drawTracker=tr.drawTrackerPoint),bt(Fn.prototype,{setItemEvents:function(e,t,n,r,i){var s=this;(n?t:e.legendGroup).on("mouseover",function(){e.setState(Z),t.css(s.options.itemHoverStyle)}).on("mouseout",function(){t.css(e.visible?r:i),e.setState()}).on("click",function(t){var n="legendItemClick",r=function(){e.setVisible()};t={browserEvent:t},e.firePointEvent?e.firePointEvent(n,t,r):an(e,n,t,r)})},createCheckboxForItem:function(e){var t=this;e.checkbox=Pt("input",{type:"checkbox",checked:e.selected,defaultChecked:e.selected},t.options.itemCheckboxStyle,t.chart.container),on(e.checkbox,"click",function(t){var n=t.target;an(e,"checkboxClick",{checked:n.checked},function(){e.select()})})}}),O.legend.itemStyle.cursor="pointer",bt(qn.prototype,{showResetZoom:function(){var e=this,t=O.lang,n=e.options.chart.resetZoomButton,r=n.theme,i=r.states,s=n.relativeTo==="chart"?null:"plotBox";this.resetZoomButton=e.renderer.button(t.resetZoom,null,null,function(){e.zoomOut()},r,i&&i.hover).attr({align:n.position.align,title:t.resetZoomTitle}).add().align(n.position,!1,s)},zoomOut:function(){var e=this;an(e,"selection",{resetSelection:!0},function(){e.zoom()})},zoom:function(e){var t=this,n,r=t.pointer,i=!1,s;!e||e.resetSelection?tn(t.axes,function(e){n=e.zoom()}):tn(e.xAxis.concat(e.yAxis),function(e){var t=e.axis,s=t.isXAxis;if(r[s?"zoomX":"zoomY"]||r[s?"pinchX":"pinchY"])n=t.zoom(e.min,e.max),t.displayBtn&&(i=!0)}),s=t.resetZoomButton,i&&!s?t.showResetZoom():!i&&xt(s)&&(t.resetZoomButton=s.destroy()),n&&t.redraw(_t(t.options.chart.animation,e&&e.animation,t.pointCount<100))},pan:function(e,t){var n=this,r=n.hoverPoints,i;r&&tn(r,function(e){e.setState()}),tn(t==="xy"?[1,0]:[1],function(t){var r=e[t?"chartX":"chartY"],s=n[t?"xAxis":"yAxis"][0],o=n[t?"mouseDownX":"mouseDownY"],f=(s.pointRange||0)/2,l=s.getExtremes(),c=s.toValue(o-r,!0)+f,h=s.toValue(o+n[t?"plotWidth":"plotHeight"]-r,!0)-f;s.series.length&&c>a(l.dataMin,l.min)&&h<u(l.dataMax,l.max)&&(s.setExtremes(c,h,!1,!1,{trigger:"pan"}),i=!0),n[t?"mouseDownX":"mouseDownY"]=r}),i&&n.redraw(!1),Dt(n.container,{cursor:"move"})}}),bt(Un.prototype,{select:function(e,t){var n=this,r=n.series,i=r.chart;e=_t(e,!n.selected),n.firePointEvent(e?"select":"unselect",{accumulate:t},function(){n.selected=n.options.selected=e,r.options.data[en(n,r.data)]=n.options,n.setState(e&&et),t||tn(i.getSelectedPoints(),function(e){e.selected&&e!==n&&(e.selected=e.options.selected=!1,r.options.data[en(e,r.data)]=e.options,e.setState(Y),e.firePointEvent("unselect"))})})},onMouseOver:function(e){var t=this,n=t.series,r=n.chart,i=r.tooltip,s=r.hoverPoint;s&&s!==t&&s.onMouseOut(),t.firePointEvent("mouseOver"),i&&(!i.shared||n.noSharedTooltip)&&i.refresh(t,e),t.setState(Z),r.hoverPoint=t},onMouseOut:function(){var e=this.series.chart,t=e.hoverPoints;this.firePointEvent("mouseOut");if(!t||en(this,t)===-1)this.setState(),e.hoverPoint=null},importEvents:function(){if(!this.hasImportedEvents){var e=this,t=wt(e.series.options.point,e.options),n=t.events,r;e.events=n;for(r in n)on(e,r,n[r]);this.hasImportedEvents=!0}},setState:function(e,t){var n=this,r=n.plotX,i=n.plotY,s=n.series,o=s.options.states,u=pn[s.type].marker&&s.options.marker,a=u&&!u.enabled,f=u&&u.states[e],l=f&&f.enabled===!1,c=s.stateMarkerGraphic,h=n.marker||{},p=s.chart,d,v=s.halo,m,g,y;e=e||Y,y=n.pointAttr[e]||s.pointAttr[e];if(e===n.state&&!t||n.selected&&e!==et||o[e]&&o[e].enabled===!1||e&&(l||a&&f.enabled===!1)||e&&h.states&&h.states[e]&&h.states[e].enabled===!1)return;n.graphic?(d=u&&n.graphic.symbolName&&y.r,n.graphic.attr(wt(y,d?{x:r-d,y:i-d,width:2*d,height:2*d}:{})),c&&c.hide()):(e&&f&&(d=f.radius,g=h.symbol||s.symbol,c&&c.currentSymbol!==g&&(c=c.destroy()),c?c[t?"animate":"attr"]({x:r-d,y:i-d}):g&&(s.stateMarkerGraphic=c=p.renderer.symbol(g,r-d,i-d,2*d,2*d).attr(y).add(s.markerGroup),c.currentSymbol=g)),c&&c[e&&p.isInsidePlot(r,i,p.inverted)?"show":"hide"]()),m=o[e]&&o[e].halo,m&&m.size?(v||(s.halo=v=p.renderer.path().add(s.seriesGroup)),v.attr(bt({fill:En(n.color||s.color).setOpacity(m.opacity).get()},m.attributes))[t?"animate":"attr"]({d:n.haloPath(m.size)})):v&&v.attr({d:[]}),n.state=e},haloPath:function(e){var t=this.series,n=t.chart,r=t.getPlotBox(),i=n.inverted;return n.renderer.symbols.circle(r.translateX+(i?t.yAxis.len-this.plotY:this.plotX)-e,r.translateY+(i?t.xAxis.len-this.plotX:this.plotY)-e,e*2,e*2)}}),bt(zn.prototype,{onMouseOver:function(){var e=this,t=e.chart,n=t.hoverSeries;n&&n!==e&&n.onMouseOut(),e.options.events.mouseOver&&an(e,"mouseOver"),e.setState(Z),t.hoverSeries=e},onMouseOut:function(){var e=this,t=e.options,n=e.chart,r=n.tooltip,i=n.hoverPoint;i&&i.onMouseOut(),e&&t.events.mouseOut&&an(e,"mouseOut"),r&&!t.stickyTracking&&(!r.shared||e.noSharedTooltip)&&r.hide(),e.setState(),n.hoverSeries=null},setState:function(e){var t=this,n=t.options,r=t.graph,i=t.graphNeg,s=n.states,o=n.lineWidth,u;e=e||Y;if(t.state!==e){t.state=e;if(s[e]&&s[e].enabled===!1)return;e&&(o=s[e].lineWidth||o+(s[e].lineWidthPlus||0)),r&&!r.dashstyle&&(u={"stroke-width":o},r.attr(u),i&&i.attr(u))}},setVisible:function(t,n){var r=this,i=r.chart,s=r.legendItem,o,u=i.options.chart.ignoreHiddenSeries,a=r.visible;r.visible=t=r.userOptions.visible=t===e?!a:t,o=t?"show":"hide",tn(["group","dataLabelsGroup","markerGroup","tracker"],function(e){r[e]&&r[e][o]()}),i.hoverSeries===r&&r.onMouseOut(),s&&i.legend.colorizeItem(r,t),r.isDirty=!0,r.options.stacking&&tn(i.series,function(e){e.options.stacking&&e.visible&&(e.isDirty=!0)}),tn(r.linkedSeries,function(e){e.setVisible(t,!1)}),u&&(i.isDirtyBox=!0),n!==!1&&i.redraw(),an(r,o)},setTooltipPoints:function(t){var n=this,r=[],i,o,f,l=n.xAxis,c=l&&l.getExtremes(),h=l?l.tooltipLen||l.len:n.chart.plotSizeX,p,d,v,m,g=[];if(n.options.enableMouseTracking===!1||n.singularTooltips)return;t&&(n.tooltipPoints=null),tn(n.segments||n.points,function(e){r=r.concat(e)}),l&&l.reversed&&(r=r.reverse()),n.orderTooltipPoints&&n.orderTooltipPoints(r),i=r.length;for(m=0;m<i;m++){p=r[m],d=p.x;if(d>=c.min&&d<=c.max){v=r[m+1],o=f===e?0:f+1,f=r[m+1]?a(u(0,s((p.clientX+(v?v.wrappedClientX||v.clientX:h))/2)),h):h;while(o>=0&&o<=f)g[o++]=p}}n.tooltipPoints=g},show:function(){this.setVisible(!0)},hide:function(){this.setVisible(!1)},select:function(t){var n=this;n.selected=t=t===e?!n.selected:t,n.checkbox&&(n.checkbox.checked=t),an(n,t?"select":"unselect")},drawTracker:tr.drawTrackerGraph}),Ft(zn.prototype,"init",function(e){var t=this,n;e.apply(this,Array.prototype.slice.call(arguments,1)),n=t.xAxis,n&&n.options.ordinal&&on(t,"updatedData",function(){delete n.ordinalIndex})}),Ft(On.prototype,"getTimeTicks",function(t,n,r,i,o,u,a,f){var l=0,c=0,h,p={},d,v,m,g,y=[],b=-Number.MAX_VALUE,w=this.options.tickPixelInterval;if(!this.options.ordinal||!u||u.length<3||r===e)return t.call(this,n,r,i,o);m=u.length;for(;c<m;c++){g=c&&u[c-1]>i,u[c]<r&&(l=c);if(c===m-1||u[c+1]-u[c]>a*5||g){if(u[c]>b){h=t.call(this,n,u[l],u[c],o);while(h.length&&h[0]<=b)h.shift();h.length&&(b=h[h.length-1]),y=y.concat(h)}l=c+1}if(g)break}v=h.info;if(f&&v.unitRange<=P.hour){c=y.length-1;for(l=1;l<c;l++)(new rt(y[l]-st))[ft]()!==(new rt(y[l-1]-st))[ft]()&&(p[y[l]]="day",d=!0);d&&(p[y[0]]="day"),v.higherRanks=p}y.info=v;if(f&&At(w)){var E=y.length,S=E,x,T,N=[],C,k,L,A=[];while(S--)T=this.translate(y[S]),C&&(A[S]=C-T),N[S]=C=T;A.sort(),k=A[s(A.length/2)],k<w*.6&&(k=null),S=y[E-1]>i?E-1:E,C=undefined;while(S--)T=N[S],L=C-T,C&&L<w*.8&&(k===null||L<k*.8)?(p[y[S]]&&!p[y[S+1]]?(x=S+1,C=T):x=S,y.splice(x,1)):C=T}return y}),bt(On.prototype,{beforeSetTickPositions:function(){var t=this,n,r=[],i=!1,s,o=t.getExtremes(),f=o.min,l=o.max,c,h,p,d;if(t.options.ordinal){tn(t.series,function(e,t){if(e.visible!==!1&&e.takeOrdinalPosition!==!1){r=r.concat(e.processedXData),n=r.length,r.sort(function(e,t){return e-t});if(n){t=n-1;while(t--)r[t]===r[t+1]&&r.splice(t,1)}}}),n=r.length;if(n>2){s=r[1]-r[0],d=n-1;while(d--&&!i)r[d+1]-r[d]!==s&&(i=!0);!t.options.keepOrdinalPadding&&(r[0]-f>s||l-r[r.length-1]>s)&&(i=!0)}i?(t.ordinalPositions=r,c=t.val2lin(u(f,r[0]),!0),h=u(t.val2lin(a(l,r[r.length-1]),!0),1),t.ordinalSlope=p=(l-f)/(h-c),t.ordinalOffset=f-c*p):t.ordinalPositions=t.ordinalSlope=t.ordinalOffset=e}t.groupIntervalFactor=null},val2lin:function(e,t){var n=this,r=n.ordinalPositions;if(!r)return e;var i=r.length,s,o,u;s=i;while(s--)if(r[s]===e){u=s;break}s=i-1;while(s--)if(e>r[s]||s===0){o=(e-r[s])/(r[s+1]-r[s]),u=s+o;break}return t?u:n.ordinalSlope*(u||0)+n.ordinalOffset},lin2val:function(t,n){var r=this,i=r.ordinalPositions;if(!i)return t;var o=r.ordinalSlope,u=r.ordinalOffset,a=i.length-1,f,l,c;if(n)t<0?t=i[0]:t>a?t=i[a]:(a=s(t),c=t-a);else while(a--){f=o*a+u;if(t>=f){l=o*(a+1)+u,c=(t-f)/(l-f);break}}return c!==e&&i[a]!==e?i[a]+(c?c*(i[a+1]-i[a]):0):t},getExtendedPositions:function(){var e=this,t=e.chart,n=e.series[0].currentDataGrouping,r=e.ordinalIndex,i=n?n.count+n.unitName:"raw",s=e.getExtremes(),o,u;return r||(r=e.ordinalIndex={}),r[i]||(o={series:[],getExtremes:function(){return{min:s.dataMin,max:s.dataMax}},options:{ordinal:!0},val2lin:On.prototype.val2lin},tn(e.series,function(e){u={xAxis:o,xData:e.xData,chart:t,destroyGroupedData:B},u.options={dataGrouping:n?{enabled:!0,forced:!0,approximation:"open",units:[[n.unitName,[n.count]]]}:{enabled:!1}},e.processData.apply(u),o.series.push(u)}),e.beforeSetTickPositions.apply(o),r[i]=o.ordinalPositions),r[i]},getGroupIntervalFactor:function(e,t,n){var r=0,i=n.processedXData,o=i.length,f=[],l,c=this.groupIntervalFactor;if(!c){for(;r<o-1;r++)f[r]=i[r+1]-i[r];f.sort(function(e,t){return e-t}),l=f[s(o/2)],e=u(e,i[0]),t=a(t,i[o-1]),this.groupIntervalFactor=c=o*l/(t-e)}return c},postProcessTickInterval:function(e){var t=this.ordinalSlope;return t?e/(t/this.closestPointRange):e}}),Ft(qn.prototype,"pan",function(e,t){var n=this,r=n.xAxis[0],i=t.chartX,s=!1;if(r.options.ordinal&&r.series.length){var o=n.mouseDownX,l=r.getExtremes(),c=l.dataMax,h=l.min,p=l.max,d,v=n.hoverPoints,m=r.closestPointRange,g=r.translationSlope*(r.ordinalSlope||m),y=(o-i)/g,b={ordinalPositions:r.getExtendedPositions()},w,E,S=r.lin2val,x=r.val2lin,T;b.ordinalPositions?f(y)>1&&(v&&tn(v,function(e){e.setState()}),y<0?(E=b,T=r.ordinalPositions?r:b):(E=r.ordinalPositions?r:b,T=b),w=T.ordinalPositions,c>w[w.length-1]&&w.push(c),n.fixedRange=p-h,d=r.toFixedRange(null,null,S.apply(E,[x.apply(E,[h,!0])+y,!0]),S.apply(T,[x.apply(T,[p,!0])+y,!0])),d.min>=a(l.dataMin,h)&&d.max<=u(c,p)&&r.setExtremes(d.min,d.max,!0,!1,{trigger:"pan"}),n.mouseDownX=i,Dt(n.container,{cursor:"move"})):s=!0}else s=!0;s&&e.apply(this,Array.prototype.slice.call(arguments,1))}),Ft(zn.prototype,"getSegments",function(e){var t=this,n,r=t.options.gapSize,i=t.xAxis;e.apply(this,Array.prototype.slice.call(arguments,1)),r&&(n=t.segments,tn(n,function(e,t){var s=e.length-1;while(s--)e[s+1].x-e[s].x>i.closestPointRange*r&&n.splice(t+1,0,e.splice(s+1,e.length-s))}))});var nr="dataGrouping",rr=zn.prototype,ir=Mn.prototype,sr=rr.processData,or=rr.generatePoints,ur=rr.destroy,ar=ir.tooltipHeaderFormatter,fr="number",lr={approximation:"average",groupPixelWidth:2,dateTimeLabelFormats:{millisecond:["%A, %b %e, %H:%M:%S.%L","%A, %b %e, %H:%M:%S.%L","-%H:%M:%S.%L"],second:["%A, %b %e, %H:%M:%S","%A, %b %e, %H:%M:%S","-%H:%M:%S"],minute:["%A, %b %e, %H:%M","%A, %b %e, %H:%M","-%H:%M"],hour:["%A, %b %e, %H:%M","%A, %b %e, %H:%M","-%H:%M"],day:["%A, %b %e, %Y","%A, %b %e","-%A, %b %e, %Y"],week:["Week from %A, %b %e, %Y","%A, %b %e","-%A, %b %e, %Y"],month:["%B %Y","%B","-%B %Y"],year:["%Y","%Y","-%Y"]}},cr={line:{},spline:{},area:{},areaspline:{},column:{approximation:"sum",groupPixelWidth:10},arearange:{approximation:"range"},areasplinerange:{approximation:"range"},columnrange:{approximation:"range",groupPixelWidth:10},candlestick:{approximation:"ohlc",groupPixelWidth:10},ohlc:{approximation:"ohlc",groupPixelWidth:5}},hr=[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1]],["week",[1]],["month",[1,3,6]],["year",null]],pr={sum:function(e){var t=e.length,n;if(!t&&e.hasNulls)n=null;else if(t){n=0;while(t--)n+=e[t]}return n},average:function(e){var t=e.length,n=pr.sum(e);return typeof n===fr&&t&&(n/=t),n},open:function(t){return t.length?t[0]:t.hasNulls?null:e},high:function(t){return t.length?Xt(t):t.hasNulls?null:e},low:function(t){return t.length?Wt(t):t.hasNulls?null:e},close:function(t){return t.length?t[t.length-1]:t.hasNulls?null:e},ohlc:function(e,t,n,r){e=pr.open(e),t=pr.high(t),n=pr.low(n),r=pr.close(r);if(typeof e===fr||typeof t===fr||typeof n===fr||typeof r===fr)return[e,t,n,r]},range:function(e,t){e=pr.low(e),t=pr.high(t);if(typeof e===fr||typeof t===fr)return[e,t]}};rr.groupData=function(t,n,r,i){var s=this,o=s.data,u=s.options.data,a=[],f=[],l=t.length,c,h,p,d=!!n,v=[[],[],[],[]],m=typeof i=="function"?i:pr[i],g=s.pointArrayMap,y=g&&g.length,b;for(b=0;b<=l;b++)if(t[b]>=r[0])break;for(;b<=l;b++){while(r[1]!==e&&t[b]>=r[1]||b===l){c=r.shift(),p=m.apply(0,v),p!==e&&(a.push(c),f.push(p)),v[0]=[],v[1]=[],v[2]=[],v[3]=[];if(b===l)break}if(b===l)break;if(g){var w=s.cropStart+b,E=o&&o[w]||s.pointClass.prototype.applyOptions.apply({series:s},[u[w]]),S,x;for(S=0;S<y;S++)x=E[g[S]],typeof x===fr?v[S].push(x):x===null&&(v[S].hasNulls=!0)}else h=d?n[b]:null,typeof h===fr?v[0].push(h):h===null&&(v[0].hasNulls=!0)}return[a,f]},rr.processData=function(){var e=this,t=e.chart,n=e.options,r=n[nr],i=e.allowDG!==!1&&r&&_t(r.enabled,t.options._stock),s;e.forceCrop=i,e.groupPixelWidth=null,e.hasProcessed=!0;if(sr.apply(e,arguments)===!1||!i)return;e.destroyGroupedData();var o,u=e.processedXData,a=e.processedYData,f=t.plotSizeX,l=e.xAxis,c=l.options.ordinal,h=e.groupPixelWidth=l.getGroupPixelWidth&&l.getGroupPixelWidth(),p=e.pointRange;if(h){s=!0,e.points=null;var d=l.getExtremes(),v=d.min,m=d.max,g=c&&l.getGroupIntervalFactor(v,m,e)||1,y=h*(m-v)/f*g,b=l.getTimeTicks(l.normalizeTimeTickInterval(y,r.units||hr),v,m,l.options.startOfWeek,u,e.closestPointRange),w=rr.groupData.apply(e,[u,a,b,r.approximation]),E=w[0],S=w[1];if(r.smoothed){o=E.length-1,E[o]=m;while(o--&&o>0)E[o]+=y/2;E[0]=v}e.currentDataGrouping=b.info,n.pointRange===null&&(e.pointRange=b.info.totalRange),e.closestPointRange=b.info.totalRange,At(E[0])&&E[0]<l.dataMin&&(l.dataMin=E[0]),e.processedXData=E,e.processedYData=S}else e.currentDataGrouping=null,e.pointRange=p;e.hasGroupedData=s},rr.destroyGroupedData=function(){var e=this.groupedData;tn(e||[],function(t,n){t&&(e[n]=t.destroy?t.destroy():null)}),this.groupedData=null},rr.generatePoints=function(){or.apply(this),this.destroyGroupedData(),this.groupedData=this.hasGroupedData?this.points:null},ir.tooltipHeaderFormatter=function(e){var t=this,n=e.series,r=n.options,i=n.tooltipOptions,s=r.dataGrouping,o=i.xDateFormat,u,a=n.xAxis,f,l,c,h,p,d;if(a&&a.options.type==="datetime"&&s&&Nt(e.key)){f=n.currentDataGrouping,l=s.dateTimeLabelFormats;if(f)c=l[f.unitName],f.count===1?o=c[0]:(o=c[1],u=c[2]);else if(!o&&l)for(p in P)if(P[p]>=a.closestPointRange||P[p]<=P.day&&e.key%P[p]>0){o=l[p][0];break}h=M(o,e.key),u&&(h+=M(u,e.key+f.totalRange-1)),d=i.headerFormat.replace("{point.key}",h)}else d=ar.call(t,e);return d},rr.destroy=function(){var e=this,t=e.groupedData||[],n=t.length;while(n--)t[n]&&t[n].destroy();ur.apply(e)},Ft(rr,"setOptions",function(e,t){var n=e.call(this,t),r=this.type,i=this.chart.options.plotOptions,s=pn[r].dataGrouping;return cr[r]&&(s||(s=wt(lr,cr[r])),n.dataGrouping=wt(s,i.series&&i.series.dataGrouping,i[r].dataGrouping,t.dataGrouping)),this.chart.options._stock&&(this.requireSorting=!0),n}),Ft(On.prototype,"setScale",function(e){e.call(this),tn(this.series,function(e){e.hasProcessed=!1})}),On.prototype.getGroupPixelWidth=function(){var e=this.series,t=e.length,n,r=0,i=!1,s,o;n=t;while(n--)o=e[n].options.dataGrouping,o&&(r=u(r,o.groupPixelWidth));n=t;while(n--){o=e[n].options.dataGrouping;if(o&&e[n].hasProcessed){s=(e[n].processedXData||e[n].data).length;if(e[n].groupPixelWidth||s>this.chart.plotSizeX/r||s&&o.forced)i=!0}}return i?r:0},pn.ohlc=wt(pn.column,{lineWidth:1,tooltip:{pointFormat:'<span style="color:{series.color}">●</span> <b> {series.name}</b><br/>Open: {point.open}<br/>High: {point.high}<br/>Low: {point.low}<br/>Close: {point.close}<br/>'},states:{hover:{lineWidth:3}},threshold:null});var dr=Ht(gt.column,{type:"ohlc",pointArrayMap:["open","high","low","close"],toYData:function(e){return[e.open,e.high,e.low,e.close]},pointValKey:"high",pointAttrToOptions:{stroke:"color","stroke-width":"lineWidth"},upColorProp:"stroke",getAttribs:function(){gt.column.prototype.getAttribs.apply(this,arguments);var e=this,t=e.options,n=t.states,r=t.upColor||e.color,i=wt(e.pointAttr),s=e.upColorProp;i[""][s]=r,i.hover[s]=n.hover.upColor||r,i.select[s]=n.select.upColor||r,tn(e.points,function(e){e.open<e.close&&(e.pointAttr=i)})},translate:function(){var e=this,t=e.yAxis;gt.column.prototype.translate.apply(e),tn(e.points,function(e){e.open!==null&&(e.plotOpen=t.translate(e.open,0,1,0,1)),e.close!==null&&(e.plotClose=t.translate(e.close,0,1,0,1))})},drawPoints:function(){var t=this,n=t.points,r=t.chart,s,o,u,a,f,l,c,h;tn(n,function(n){n.plotY!==e&&(c=n.graphic,s=n.pointAttr[n.selected?"selected":""]||t.pointAttr[Y],a=s["stroke-width"]%2/2,h=i(n.plotX)-a,f=i(n.shapeArgs.width/2),l=["M",h,i(n.yBottom),"L",h,i(n.plotY)],n.open!==null&&(o=i(n.plotOpen)+a,l.push("M",h,o,"L",h-f,o)),n.close!==null&&(u=i(n.plotClose)+a,l.push("M",h,u,"L",h+f,u)),c?c.animate({d:l}):n.graphic=r.renderer.path(l).attr(s).add(t.group))})},animate:null});gt.ohlc=dr,pn.candlestick=wt(pn.column,{lineColor:"black",lineWidth:1,states:{hover:{lineWidth:2}},tooltip:pn.ohlc.tooltip,threshold:null,upColor:"white"});var vr=Ht(dr,{type:"candlestick",pointAttrToOptions:{fill:"color",stroke:"lineColor","stroke-width":"lineWidth"},upColorProp:"fill",getAttribs:function(){gt.ohlc.prototype.getAttribs.apply(this,arguments);var e=this,t=e.options,n=t.states,r=t.upLineColor||t.lineColor,i=n.hover.upLineColor||r,s=n.select.upLineColor||r;tn(e.points,function(e){e.open<e.close&&(e.pointAttr[""].stroke=r,e.pointAttr.hover.stroke=i,e.pointAttr.select.stroke=s)})},drawPoints:function(){var t=this,n=t.points,s=t.chart,o,u=t.pointAttr[""],a,f,l,c,h,p,d,v,m,g,y;tn(n,function(n){m=n.graphic,n.plotY!==e&&(o=n.pointAttr[n.selected?"selected":""]||u,d=o["stroke-width"]%2/2,v=i(n.plotX)-d,a=n.plotOpen,f=n.plotClose,l=r.min(a,f),c=r.max(a,f),y=i(n.shapeArgs.width/2),h=i(l)!==i(n.plotY),p=c!==n.yBottom,l=i(l)+d,c=i(c)+d,g=["M",v-y,c,"L",v-y,l,"L",v+y,l,"L",v+y,c,"Z","M",v,l,"L",v,h?i(n.plotY):l,"M",v,c,"L",v,p?i(n.yBottom):c],m?m.animate({d:g}):n.graphic=s.renderer.path(g).attr(o).add(t.group).shadow(t.options.shadow))})}});gt.candlestick=vr;var mr=xn.prototype.symbols;pn.flags=wt(pn.column,{fillColor:"white",lineWidth:1,pointRange:0,shape:"flag",stackDistance:12,states:{hover:{lineColor:"black",fillColor:"#FCFFC5"}},style:{fontSize:"11px",fontWeight:"bold",textAlign:"center"},tooltip:{pointFormat:"{point.text}<br/>"},threshold:null,y:-30}),gt.flags=Ht(gt.column,{type:"flags",sorted:!1,noSharedTooltip:!0,allowDG:!1,takeOrdinalPosition:!1,trackerGroups:["markerGroup"],forceCrop:!0,init:zn.prototype.init,pointAttrToOptions:{fill:"fillColor",stroke:"color","stroke-width":"lineWidth",r:"radius"},translate:function(){gt.column.prototype.translate.apply(this);var t=this,n=t.options,r=t.chart,i=t.points,s=i.length-1,o,u,a=n.onSeries,f=a&&r.get(a),l=f&&f.options.step,c=f&&f.points,h=c&&c.length,p=t.xAxis,d=p.getExtremes(),v,m,g,y;if(f&&f.visible&&h){y=f.currentDataGrouping,m=c[h-1].x+(y?y.totalRange:0),i.sort(function(e,t){return e.x-t.x});while(h--&&i[s]){o=i[s],v=c[h];if(v.x<=o.x&&v.plotY!==e){o.x<=m&&(o.plotY=v.plotY,v.x<o.x&&!l&&(g=c[h+1],g&&g.plotY!==e&&(o.plotY+=(o.x-v.x)/(g.x-v.x)*(g.plotY-v.plotY)))),s--,h++;if(s<0)break}}}tn(i,function(t,n){t.plotY===e&&(t.x>=d.min&&t.x<=d.max?t.plotY=r.chartHeight-p.bottom-(p.opposite?p.height:0)+p.offset-r.plotTop:t.shapeArgs={}),u=i[n-1],u&&u.plotX===t.plotX&&(u.stackIndex===e&&(u.stackIndex=0),t.stackIndex=u.stackIndex+1)})},drawPoints:function(){var t=this,n,r=t.pointAttr[""],i=t.points,s=t.chart,o=s.renderer,u,a,f=t.options,l=f.y,c,h,p,d,v,m=f.lineWidth%2/2,g,y,b;h=i.length;while(h--)p=i[h],b=p.plotX>t.xAxis.len,u=p.plotX+(b?m:-m),v=p.stackIndex,c=p.options.shape||f.shape,a=p.plotY,a!==e&&(a=p.plotY+l+m-(v!==e&&v*f.stackDistance)),g=v?e:p.plotX+m,y=v?e:p.plotY,d=p.graphic,a!==e&&u>=0&&!b?(n=p.pointAttr[p.selected?"select":""]||r,d?d.attr({x:u,y:a,r:n.r,anchorX:g,anchorY:y}):d=p.graphic=o.label(p.options.title||f.title||"A",u,a,c,g,y,f.useHTML).css(wt(f.style,p.style)).attr(n).attr({align:c==="flag"?"left":"center",width:f.width,height:f.height}).add(t.markerGroup).shadow(f.shadow),p.tooltipPos=[u,a]):d&&(p.graphic=d.destroy())},drawTracker:function(){var e=this,t=e.points;tr.drawTrackerPoint.apply(this),tn(t,function(e){var n=e.graphic;n&&on(n.element,"mouseover",function(){e.stackIndex>0&&!e.raised&&(e._y=n.y,n.attr({y:e._y-8}),e.raised=!0),tn(t,function(t){t!==e&&t.raised&&t.graphic&&(t.graphic.attr({y:t._y}),t.raised=!1)})})})},animate:B}),mr.flag=function(e,t,n,r,i){var s=i&&i.anchorX||e,o=i&&i.anchorY||t;return["M",s,o,"L",e,t+r,e,t,e+n,t,e+n,t+r,e,t+r,"M",s,o,"Z"]},tn(["circle","square"],function(e){mr[e+"pin"]=function(t,n,r,i,s){var o=s&&s.anchorX,u=s&&s.anchorY,a=mr[e](t,n,r,i),f;return o&&u&&(f=n>u?n:n+i,a.push("M",o,f,"L",o,u)),a}}),N===yt.VMLRenderer&&tn(["flag","circlepin","squarepin"],function(e){Tn.prototype.symbols[e]=mr[e]});var gr=[].concat(hr),yr,br=function(e){return Math[e].apply(0,nn(arguments,function(e){return typeof e=="number"}))};gr[4]=["day",[1,2,3,4]],gr[5]=["week",[1,2,3]],yr=gt.areaspline===e?"line":"areaspline",bt(O,{navigator:{handles:{backgroundColor:"#ebe7e8",borderColor:"#b2b1b6"},height:40,margin:25,maskFill:"rgba(128,179,236,0.3)",maskInside:!0,outlineColor:"#b2b1b6",outlineWidth:1,series:{type:yr,color:"#4572A7",compare:null,fillOpacity:.05,dataGrouping:{approximation:"average",enabled:!0,groupPixelWidth:2,smoothed:!0,units:gr},dataLabels:{enabled:!1,zIndex:2},id:X+"navigator-series",lineColor:"#4572A7",lineWidth:1,marker:{enabled:!1},pointRange:0,shadow:!1,threshold:null},xAxis:{tickWidth:0,lineWidth:0,gridLineColor:"#EEE",gridLineWidth:1,tickPixelInterval:200,labels:{align:"left",style:{color:"#888"},x:3,y:-4},crosshair:!1},yAxis:{gridLineWidth:0,startOnTick:!1,endOnTick:!1,minPadding:.1,maxPadding:.1,labels:{enabled:!1},crosshair:!1,title:{text:null},tickWidth:0}},scrollbar:{height:w?20:14,barBackgroundColor:"#bfc8d1",barBorderRadius:0,barBorderWidth:1,barBorderColor:"#bfc8d1",buttonArrowColor:"#666",buttonBackgroundColor:"#ebe7e8",buttonBorderColor:"#bbb",buttonBorderRadius:0,buttonBorderWidth:1,minWidth:6,rifleColor:"#666",trackBackgroundColor:"#eeeeee",trackBorderColor:"#eeeeee",trackBorderWidth:1,liveRedraw:S&&!w}}),wr.prototype={drawHandle:function(e,t){var n=this,r=n.chart,i=r.renderer,s=n.elementsToDestroy,o=n.handles,u=n.navigatorOptions.handles,a={fill:u.backgroundColor,stroke:u.borderColor,"stroke-width":1},f;n.rendered||(o[t]=i.g("navigator-handle-"+["left","right"][t]).css({cursor:"e-resize"}).attr({zIndex:4-t}).add(),f=i.rect(-4.5,0,9,16,0,1).attr(a).add(o[t]),s.push(f),f=i.path(["M",-1.5,4,"L",-1.5,12,"M",.5,4,"L",.5,12]).attr(a).add(o[t]),s.push(f)),o[t][r.isResizing?"animate":"attr"]({translateX:n.scrollerLeft+n.scrollbarHeight+parseInt(e,10),translateY:n.top+n.height/2-8})},drawScrollbarButton:function(e){var t=this,n=t.chart,r=n.renderer,i=t.elementsToDestroy,s=t.scrollbarButtons,o=t.scrollbarHeight,u=t.scrollbarOptions,a;t.rendered||(s[e]=r.g().add(t.scrollbarGroup),a=r.rect(-0.5,-0.5,o+1,o+1,u.buttonBorderRadius,u.buttonBorderWidth).attr({stroke:u.buttonBorderColor,"stroke-width":u.buttonBorderWidth,fill:u.buttonBackgroundColor}).add(s[e]),i.push(a),a=r.path(["M",o/2+(e?-1:1),o/2-3,"L",o/2+(e?-1:1),o/2+3,o/2+(e?2:-2),o/2]).attr({fill:u.buttonArrowColor}).add(s[e]),i.push(a)),e&&s[e].attr({translateX:t.scrollerWidth-o})},render:function(e,t,n,r){var o=this,l=o.chart,c=l.renderer,h,p,d,v,m=o.scrollbarGroup,g=o.navigatorGroup,y=o.scrollbar,b=o.xAxis,w=o.scrollbarTrack,E=o.scrollbarHeight,S=o.scrollbarEnabled,x=o.navigatorOptions,T=o.scrollbarOptions,N=T.minWidth,C=o.height,k=o.top,L=o.navigatorEnabled,A=x.outlineWidth,O=A/2,M,_,D,P,H,B=0,j=o.outlineHeight,F=T.barBorderRadius,I,q=T.barBorderWidth,R,U=k+O,z,X;if(isNaN(e))return;o.navigatorLeft=h=_t(b.left,l.plotLeft+E),o.navigatorWidth=p=_t(b.len,l.plotWidth-2*E),o.scrollerLeft=d=h-E,o.scrollerWidth=v=v=p+2*E,b.getExtremes&&(X=o.getUnionExtremes(!0),X&&(X.dataMin!==b.min||X.dataMax!==b.max)&&b.setExtremes(X.dataMin,X.dataMax,!0,!1)),n=_t(n,b.translate(e)),r=_t(r,b.translate(t));if(isNaN(n)||f(n)===Infinity)n=0,r=v;if(b.translate(r,!0)-b.translate(n,!0)<l.xAxis[0].minRange)return;o.zoomedMax=a(u(n,r),p),o.zoomedMin=u(o.fixedWidth?o.zoomedMax-o.fixedWidth:a(n,r),0),o.range=o.zoomedMax-o.zoomedMin,_=i(o.zoomedMax),M=i(o.zoomedMin),D=_-M,o.rendered||(L&&(o.navigatorGroup=g=c.g("navigator").attr({zIndex:3}).add(),o.leftShade=c.rect().attr({fill:x.maskFill}).add(g),x.maskInside||(o.rightShade=c.rect().attr({fill:x.maskFill}).add(g)),o.outline=c.path().attr({"stroke-width":A,stroke:x.outlineColor}).add(g)),S&&(o.scrollbarGroup=m=c.g("scrollbar").add(),I=T.trackBorderWidth,o.scrollbarTrack=w=c.rect().attr({x:0,y:-I%2/2,fill:T.trackBackgroundColor,stroke:T.trackBorderColor,"stroke-width":I,r:T.trackBorderRadius||0,height:E}).add(m),o.scrollbar=y=c.rect().attr({y:-q%2/2,height:E,fill:T.barBackgroundColor,stroke:T.barBorderColor,"stroke-width":q,r:F}).add(m),o.scrollbarRifles=c.path().attr({stroke:T.rifleColor,"stroke-width":1}).add(m))),z=l.isResizing?"animate":"attr",L&&(o.leftShade[z](x.maskInside?{x:h+M,y:k,width:_-M,height:C}:{x:h,y:k,width:M,height:C}),o.rightShade&&o.rightShade[z]({x:h+_,y:k,width:p-_,height:C}),o.outline[z]({d:[K,d,U,Q,h+M+O,U,h+M+O,U+j,Q,h+_-O,U+j,Q,h+_-O,U,d+v,U].concat(x.maskInside?[K,h+M+O,U,Q,h+_-O,U]:[])}),o.drawHandle(M+O,0),o.drawHandle(_+O,1)),S&&m&&(o.drawScrollbarButton(0),o.drawScrollbarButton(1),m[z]({translateX:d,translateY:i(U+C)}),w[z]({width:v}),P=E+M,H=D-q,H<N&&(B=(N-H)/2,H=N,P-=B),o.scrollbarPad=B,y[z]({x:s(P)+q%2/2,width:H}),R=E+M+D/2-.5,o.scrollbarRifles.attr({visibility:D>12?V:W})[z]({d:[K,R-3,E/4,Q,R-3,2*E/3,K,R,E/4,Q,R,2*E/3,K,R+3,E/4,Q,R+3,2*E/3]})),o.scrollbarPad=B,o.rendered=!0},addEvents:function(){var e=this.chart.container,t=this.mouseDownHandler,n=this.mouseMoveHandler,r=this.mouseUpHandler,i;i=[[e,"mousedown",t],[e,"mousemove",n],[document,"mouseup",r]],C&&i.push([e,"touchstart",t],[e,"touchmove",n],[document,"touchend",r]),tn(i,function(e){on.apply(null,e)}),this._events=i},removeEvents:function(){tn(this._events,function(e){un.apply(null,e)}),this._events=e,this.navigatorEnabled&&this.baseSeries&&un(this.baseSeries,"updatedData",this.updatedDataHandler)},init:function(){var e=this,t=e.chart,n,i,s=e.scrollbarHeight,o=e.navigatorOptions,u=e.height,a=e.top,f,l,c=document.body.style,h,p=e.baseSeries;e.mouseDownHandler=function(i){i=t.pointer.normalize(i);var s=e.zoomedMin,o=e.zoomedMax,a=e.top,l=e.scrollbarHeight,p=e.scrollerLeft,d=e.scrollerWidth,v=e.navigatorLeft,m=e.navigatorWidth,g=e.scrollbarPad,y=e.range,b=i.chartX,E=i.chartY,S=t.xAxis[0],x,T,N=w?10:7,C,k;E>a&&E<a+u+l&&(k=!e.scrollbarEnabled||E<a+u,k&&r.abs(b-s-v)<N?(e.grabbedLeft=!0,e.otherHandlePos=o,e.fixedExtreme=S.max,t.fixedRange=null):k&&r.abs(b-o-v)<N?(e.grabbedRight=!0,e.otherHandlePos=s,e.fixedExtreme=S.min,t.fixedRange=null):b>v+s-g&&b<v+o+g?(e.grabbedCenter=b,e.fixedWidth=y,t.renderer.isSVG&&(h=c.cursor,c.cursor="ew-resize"),f=b-s):b>p&&b<p+d&&(k?C=b-v-y/2:b<v?C=s-y*.2:b>p+d-l?C=s+y*.2:C=b<v+s?s-y:o,C<0?C=0:C+y>=m&&(C=m-y,x=n.dataMax),C!==s&&(e.fixedWidth=y,T=n.toFixedRange(C,C+y,null,x),S.setExtremes(T.min,T.max,!0,!1,{trigger:"navigator"}))))},e.mouseMoveHandler=function(n){var r=e.scrollbarHeight,i=e.navigatorLeft,s=e.navigatorWidth,o=e.scrollerLeft,u=e.scrollerWidth,a=e.range,c;n.pageX!==0&&(n=t.pointer.normalize(n),c=n.chartX,c<i?c=i:c>o+u-r&&(c=o+u-r),e.grabbedLeft?(l=!0,e.render(0,0,c-i,e.otherHandlePos)):e.grabbedRight?(l=!0,e.render(0,0,e.otherHandlePos,c-i)):e.grabbedCenter&&(l=!0,c<f?c=f:c>s+f-a&&(c=s+f-a),e.render(0,0,c-f,c-f+a)),l&&e.scrollbarOptions.liveRedraw&&setTimeout(function(){e.mouseUpHandler(n)},0))},e.mouseUpHandler=function(r){var i,s,o;l&&(e.zoomedMin===e.otherHandlePos?s=e.fixedExtreme:e.zoomedMax===e.otherHandlePos&&(o=e.fixedExtreme),i=n.toFixedRange(e.zoomedMin,e.zoomedMax,s,o),t.xAxis[0].setExtremes(i.min,i.max,!0,!1,{trigger:"navigator",triggerOp:"navigator-drag",DOMEvent:r})),r.type!=="mousemove"&&(e.grabbedLeft=e.grabbedRight=e.grabbedCenter=e.fixedWidth=e.fixedExtreme=e.otherHandlePos=l=f=null,c.cursor=h||"")};var d=t.xAxis.length,v=t.yAxis.length;t.extraBottomMargin=e.outlineHeight+o.margin,e.navigatorEnabled?(e.xAxis=n=new On(t,wt({ordinal:p&&p.xAxis.options.ordinal},o.xAxis,{id:"navigator-x-axis",isX:!0,type:"datetime",index:d,height:u,offset:0,offsetLeft:s,offsetRight:-s,keepOrdinalPadding:!0,startOnTick:!1,endOnTick:!1,minPadding:0,maxPadding:0,zoomEnabled:!1})),e.yAxis=i=new On(t,wt(o.yAxis,{id:"navigator-y-axis",alignTicks:!1,height:u,offset:0,index:v,zoomEnabled:!1})),p||o.series.data?e.addBaseSeries():t.series.length===0&&Ft(t,"redraw",function(n,r){t.series.length>0&&!e.series&&(e.setBaseSeries(),t.redraw=n),n.call(t,r)})):e.xAxis=n={translate:function(e,n){var r=t.xAxis[0],i=r.getExtremes(),o=t.plotWidth-2*s,u=br("min",r.options.min,i.dataMin),a=br("max",r.options.max,i.dataMax)-u;return n?e*a/o+u:o*(e-u)/a},toFixedRange:On.prototype.toFixedRange},Ft(t,"getMargins",function(t){var r=this.legend,s=r.options;t.call(this),e.top=a=e.navigatorOptions.top||this.chartHeight-e.height-e.scrollbarHeight-this.spacing[2]-(s.verticalAlign==="bottom"&&s.enabled&&!s.floating?r.legendHeight+_t(s.margin,10):0),n&&i&&(n.options.top=i.options.top=a,n.setAxisSize(),i.setAxisSize())}),e.addEvents()},getUnionExtremes:function(e){var t=this.chart.xAxis[0],n=this.xAxis,r=n.options,i=t.options;if(!e||t.dataMin!==null)return{dataMin:br("min",r&&r.min,i.min,t.dataMin,n.dataMin),dataMax:br("max",r&&r.max,i.max,t.dataMax,n.dataMax)}},setBaseSeries:function(e){var t=this.chart;e=e||t.options.navigator.baseSeries,this.series&&this.series.remove(),this.baseSeries=t.series[e]||typeof e=="string"&&t.get(e)||t.series[0],this.xAxis&&this.addBaseSeries()},addBaseSeries:function(){var e=this.baseSeries,t=e?e.options:{},n=t.data,r,i=this.navigatorOptions.series,s;s=i.data,this.hasNavigatorData=!!s,r=wt(t,i,{enableMouseTracking:!1,group:"nav",padXAxis:!1,xAxis:"navigator-x-axis",yAxis:"navigator-y-axis",name:"Navigator",showInLegend:!1,isInternal:!0,visible:!0}),r.data=s||n,this.series=this.chart.initSeries(r),e&&this.navigatorOptions.adaptToUpdatedData!==!1&&(on(e,"updatedData",this.updatedDataHandler),e.userOptions.events=bt(e.userOptions.event,{updatedData:this.updatedDataHandler}))},updatedDataHandler:function(){var e=this.chart.scroller,t=e.baseSeries,n=t.xAxis,r=n.getExtremes(),i=r.min,s=r.max,o=r.dataMin,f=r.dataMax,l=s-i,c,h,p,d,v,m=e.series,g=m.xData,y=!!n.setExtremes;h=s>=g[g.length-1]-(this.closestPointRange||0),c=i<=o,e.hasNavigatorData||(m.options.pointStart=t.xData[0],m.setData(t.options.data,!1),v=!0),c&&(d=o,p=d+l),h&&(p=f,c||(d=u(p-l,m.xData[0]))),y&&(c||h)?isNaN(d)||n.setExtremes(d,p,!0,!1,{trigger:"updatedData"}):(v&&this.chart.redraw(!1),e.render(u(i,o),a(s,f)))},destroy:function(){var e=this;e.removeEvents(),tn([e.xAxis,e.yAxis,e.leftShade,e.rightShade,e.outline,e.scrollbarTrack,e.scrollbarRifles,e.scrollbarGroup,e.scrollbar],function(e){e&&e.destroy&&e.destroy()}),e.xAxis=e.yAxis=e.leftShade=e.rightShade=e.outline=e.scrollbarTrack=e.scrollbarRifles=e.scrollbarGroup=e.scrollbar=null,tn([e.scrollbarButtons,e.handles,e.elementsToDestroy],function(e){Vt(e)})}},yt.Scroller=wr,Ft(On.prototype,"zoom",function(t,n,r){var i=this.chart,s=i.options,o=s.chart.zoomType,u,a=s.navigator,f=s.rangeSelector,l;return this.isXAxis&&(a&&a.enabled||f&&f.enabled)&&(o==="x"?i.resetZoomButton="blocked":o==="y"?l=!1:o==="xy"&&(u=this.previousZoom,At(n)?this.previousZoom=[this.min,this.max]:u&&(n=u[0],r=u[1],delete this.previousZoom))),l!==e?l:t.call(this,n,r)}),Ft(qn.prototype,"init",function(e,t,n){on(this,"beforeRender",function(){var e=this.options;if(e.navigator.enabled||e.scrollbar.enabled)this.scroller=new wr(this)}),e.call(this,t,n)}),Ft(zn.prototype,"addPoint",function(e,t,n,r,i){var s=this.options.turboThreshold;s&&this.xData.length>s&&xt(t)&&!Tt(t)&&this.chart.scroller&&H(20,!0),e.call(this,t,n,r,i)}),bt(O,{rangeSelector:{buttonTheme:{width:28,height:18,fill:"#f7f7f7",padding:2,r:0,"stroke-width":0,style:{color:"#444",cursor:"pointer",fontWeight:"normal"},zIndex:7,states:{hover:{fill:"#e7e7e7"},select:{fill:"#e7f0f9",style:{color:"black",fontWeight:"bold"}}}},inputPosition:{align:"right"},labelStyle:{color:"#666"}}}),O.lang=wt(O.lang,{rangeSelectorZoom:"Zoom",rangeSelectorFrom:"From",rangeSelectorTo:"To"}),Er.prototype={clickButton:function(t,n){var r=this,s=r.selected,o=r.chart,f=r.buttons,l=r.buttonOptions[t],c=o.xAxis[0],h=o.scroller&&o.scroller.getUnionExtremes()||c||{},p=h.dataMin,d=h.dataMax,v,m=c&&i(a(c.max,_t(d,c.max))),g,y=new rt(m),b=l.type,w=l.count,E,S=l._range,x,T,N;if(p===null||d===null||t===r.selected)return;if(b==="month"||b==="year")N={month:"Month",year:"FullYear"}[b],y["set"+N](y["get"+N]()-w),v=y.getTime(),p=_t(p,Number.MIN_VALUE),isNaN(v)||v<p?(v=p,m=a(v+S,d)):S=m-v;else if(S)v=u(m-S,p),m=a(v+S,d);else if(b==="ytd"){if(!c){on(o,"beforeRender",function(){r.clickButton(t)});return}d===e&&(p=Number.MAX_VALUE,d=Number.MIN_VALUE,tn(o.series,function(e){var t=e.xData;p=a(t[0],p),d=u(t[t.length-1],d)}),n=!1),g=new rt(d),T=g.getFullYear(),v=x=u(p||0,rt.UTC(T,0,1)),g=g.getTime(),m=a(d||g,g)}else b==="all"&&c&&(v=p,m=d);f[s]&&f[s].setState(0),f[t]&&f[t].setState(2),o.fixedRange=S,c?(c.setExtremes(v,m,_t(n,1),0,{trigger:"rangeSelectorButton",rangeSelectorButton:l}),r.setSelected(t)):(E=o.options.xAxis,E[0]=wt(E[0],{range:S,min:x}),r.setSelected(t))},setSelected:function(e){this.selected=this.options.selected=e},defaultButtons:[{type:"month",count:1,text:"1m"},{type:"month",count:3,text:"3m"},{type:"month",count:6,text:"6m"},{type:"ytd",text:"YTD"},{type:"year",count:1,text:"1y"},{type:"all",text:"All"}],init:function(t){var n=this,r=t.options.rangeSelector,i=r.buttons||[].concat(n.defaultButtons),s=r.selected,o=n.blurInputs=function(){var e=n.minInput,t=n.maxInput;e&&e.blur&&an(e,"blur"),t&&t.blur&&an(t,"blur")};n.chart=t,n.options=r,n.buttons=[],t.extraTopMargin=35,n.buttonOptions=i,on(t.container,"mousedown",o),on(t,"resize",o),tn(i,n.computeButtonRange),s!==e&&i[s]&&this.clickButton(s,!1),on(t,"load",function(){on(t.xAxis[0],"afterSetExtremes",function(){n.updateButtonStates(!0)})})},updateButtonStates:function(e){var t=this,n=this.chart,r=n.xAxis[0],s=n.scroller&&n.scroller.getUnionExtremes()||r,o=s.dataMin,u=s.dataMax,a=t.selected,f=t.options.allButtonsEnabled,l=t.buttons;e&&n.fixedRange!==i(r.max-r.min)&&(l[a]&&l[a].setState(0),t.setSelected(null)),tn(t.buttonOptions,function(e,n){var s=e._range,c=s>u-o,h=s<r.minRange,p=e.type==="all"&&r.max-r.min>=u-o&&l[n].state!==2,d=e.type==="ytd"&&M("%Y",o)===M("%Y",u);s===i(r.max-r.min)&&n!==a?(t.setSelected(n),l[n].setState(2)):!f&&(c||h||p||d)?l[n].setState(3):l[n].state===3&&l[n].setState(0)})},computeButtonRange:function(e){var t=e.type,n=e.count||1,r={millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5};if(r[t])e._range=r[t]*n;else if(t==="month"||t==="year")e._range={month:30,year:365}[t]*24*36e5*n},setInputValue:function(e,t){var n=this.chart.options.rangeSelector;At(t)&&(this[e+"Input"].HCTime=t),this[e+"Input"].value=M(n.inputEditDateFormat||"%Y-%m-%d",this[e+"Input"].HCTime),this[e+"DateBox"].attr({text:M(n.inputDateFormat||"%b %e, %Y",this[e+"Input"].HCTime)})},drawInput:function(t){var n=this,r=n.chart,i=r.renderer.style,s=r.renderer,o=r.options.rangeSelector,u=O.lang,a=n.div,f=t==="min",l,c,h,p=this.inputGroup;this[t+"Label"]=c=s.label(u[f?"rangeSelectorFrom":"rangeSelectorTo"],this.inputGroup.offset).attr({padding:2}).css(wt(i,o.labelStyle)).add(p),p.offset+=c.width+5,this[t+"DateBox"]=h=s.label("",p.offset).attr({padding:2,width:o.inputBoxWidth||90,height:o.inputBoxHeight||17,stroke:o.inputBoxBorderColor||"silver","stroke-width":1}).css(wt({textAlign:"center",color:"#444"},i,o.inputStyle)).on("click",function(){n[t+"Input"].focus()}).add(p),p.offset+=h.width+(f?10:0),this[t+"Input"]=l=Pt("input",{name:t,className:X+"range-selector",type:"text"},bt({position:U,border:0,width:"1px",height:"1px",padding:0,textAlign:"center",fontSize:i.fontSize,fontFamily:i.fontFamily,top:r.plotTop+$},o.inputStyle),a),l.onfocus=function(){Dt(this,{left:p.translateX+h.x+$,top:p.translateY+$,width:h.width-2+$,height:h.height-2+$,border:"2px solid silver"})},l.onblur=function(){Dt(this,{border:0,width:"1px",height:"1px"}),n.setInputValue(t)},l.onchange=function(){var t=l.value,i=(o.inputDateParser||rt.parse)(t),s=r.xAxis[0],u=s.dataMin,a=s.dataMax;isNaN(i)&&(i=t.split("-"),i=rt.UTC(Et(i[0]),Et(i[1])-1,Et(i[2]))),isNaN(i)||(O.global.useUTC||(i+=(new rt).getTimezoneOffset()*60*1e3),f?i>n.maxInput.HCTime?i=e:i<u&&(i=u):i<n.minInput.HCTime?i=e:i>a&&(i=a),i!==e&&r.xAxis[0].setExtremes(f?i:s.min,f?s.max:i,e,e,{trigger:"rangeSelectorInput"}))}},render:function(e,t){var n=this,r=n.chart,i=r.renderer,s=r.container,o=r.options,u=o.exporting&&o.navigation&&o.navigation.buttonOptions,a=o.rangeSelector,f=n.buttons,l=O.lang,c=n.div,h=n.inputGroup,p=a.buttonTheme,d=a.inputEnabled!==!1,v=p&&p.states,m=r.plotLeft,g,y;n.rendered||(n.zoomText=i.text(l.rangeSelectorZoom,m,r.plotTop-20).css(a.labelStyle).add(),y=m+n.zoomText.getBBox().width+5,tn(n.buttonOptions,function(e,t){f[t]=i.button(e.text,y,r.plotTop-35,function(){n.clickButton(t),n.isActive=!0},p,v&&v.hover,v&&v.select).css({textAlign:"center"}).add(),y+=f[t].width+_t(a.buttonSpacing,5),n.selected===t&&f[t].setState(2)}),n.updateButtonStates(),d&&(n.div=c=Pt("div",null,{position:"relative",height:0,zIndex:1}),s.parentNode.insertBefore(c,s),n.inputGroup=h=i.g("input-group").add(),h.offset=0,n.drawInput("min"),n.drawInput("max"))),d&&(g=r.plotTop-45,h.align(bt({y:g,width:h.offset,x:u&&g<(u.y||0)+u.height-r.spacing[0]?-40:0},a.inputPosition),!0,r.spacingBox),n.setInputValue("min",e),n.setInputValue("max",t)),n.rendered=!0},destroy:function(){var e=this.minInput,t=this.maxInput,n=this.chart,r=this.blurInputs,i;un(n.container,"mousedown",r),un(n,"resize",r),Vt(this.buttons),e&&(e.onfocus=e.onblur=e.onchange=null),t&&(t.onfocus=t.onblur=t.onchange=null);for(i in this)this[i]&&i!=="chart"&&(this[i].destroy?this[i].destroy():this[i].nodeType&&$t(this[i])),this[i]=null}},On.prototype.toFixedRange=function(e,t,n,r){var i=this.chart&&this.chart.fixedRange,s=_t(n,this.translate(e,!0)),o=_t(r,this.translate(t,!0)),u=i&&(o-s)/i;return u>.7&&u<1.3&&(r?s=o-i:o=s+i),{min:s,max:o}},Ft(qn.prototype,"init",function(e,t,n){on(this,"init",function(){this.options.rangeSelector.enabled&&(this.rangeSelector=new Er(this))}),e.call(this,t,n)}),yt.RangeSelector=Er,qn.prototype.callbacks.push(function(e){function i(){t=e.xAxis[0].getExtremes(),n.render(t.min,t.max)}function s(){t=e.xAxis[0].getExtremes(),isNaN(t.min)||r.render(t.min,t.max)}function o(e){e.triggerOp!=="navigator-drag"&&n.render(e.min,e.max)}function u(e){r.render(e.min,e.max)}function a(){n&&un(e.xAxis[0],"afterSetExtremes",o),r&&(un(e,"resize",s),un(e.xAxis[0],"afterSetExtremes",u))}var t,n=e.scroller,r=e.rangeSelector;n&&(on(e.xAxis[0],"afterSetExtremes",o),Ft(e,"drawChartBox",function(e){var t=this.isDirtyBox;e.call(this),t&&i()}),i()),r&&(on(e.xAxis[0],"afterSetExtremes",u),on(e,"resize",s),s()),on(e,"destroy",a)}),yt.StockChart=function(e,t){var n=e.series,r,i=_t(e.navigator&&e.navigator.enabled,!0),s=i?{startOnTick:!1,endOnTick:!1}:null,o={marker:{enabled:!1,radius:2},states:{hover:{lineWidth:2}}},u={shadow:!1,borderWidth:0};return e.xAxis=sn(Mt(e.xAxis||{}),function(e){return wt({minPadding:0,maxPadding:0,ordinal:!0,title:{text:null},labels:{overflow:"justify"},showLastLabel:!0},e,{type:"datetime",categories:null},s)}),e.yAxis=sn(Mt(e.yAxis||{}),function(e){return r=_t(e.opposite,!0),wt({labels:{y:-2},opposite:r,showLastLabel:!1,title:{text:null}},e)}),e.series=null,e=wt({chart:{panning:!0,pinchType:"x"},navigator:{enabled:!0},scrollbar:{enabled:!0},rangeSelector:{enabled:!0},title:{text:null,style:{fontSize:"16px"}},tooltip:{shared:!0,crosshairs:!0},legend:{enabled:!1},plotOptions:{line:o,spline:o,area:o,areaspline:o,arearange:o,areasplinerange:o,column:u,columnrange:u,candlestick:u,ohlc:u}},e,{_stock:!0,chart:{inverted:!1}}),e.series=n,new qn(e,t)},Ft(Dn.prototype,"init",function(e,t,n){var r=n.chart.pinchType||"";e.call(this,t,n),this.pinchX=this.pinchHor=r.indexOf("x")!==-1,this.pinchY=this.pinchVert=r.indexOf("y")!==-1,this.hasZoom=this.hasZoom||this.pinchHor||this.pinchVert}),Ft(On.prototype,"autoLabelAlign",function(e){var t=this.chart,n=this.options,r=t._labelPanes=t._labelPanes||{},i,s=this.options.labels;if(this.chart.options._stock&&this.coll==="yAxis"){i=n.top+","+n.height;if(!r[i]&&s.enabled)return s.x===15&&(s.x=0),s.align===undefined&&(s.align="right"),r[i]=1,"right"}return e.call(this,[].slice.call(arguments,1))}),On.prototype.getPlotLinePath=function(e,t,n,r,s){var o=this,u=this.isLinked&&!this.series?this.linkedParent.series:this.series,a=o.chart,f=a.renderer,l=o.left,c=o.top,h,p,d,v,m=[],g,y,b;if(o.coll==="xAxis"||o.coll==="yAxis")g=o.isXAxis?At(o.options.yAxis)?[a.yAxis[o.options.yAxis]]:sn(u,function(e){return e.yAxis}):At(o.options.xAxis)?[a.xAxis[o.options.xAxis]]:sn(u,function(e){return e.xAxis});y=o.isXAxis?a.yAxis:a.xAxis,tn(y,function(e){if(At(e.options.id)?e.options.id.indexOf("navigator")===-1:!0){var t=e.isXAxis?"yAxis":"xAxis",n=At(e.options[t])?a[t][e.options[t]]:a[t][0];o===n&&g.push(e)}}),b=g.length?[]:[o],tn(g,function(e){en(e,b)===-1&&b.push(e)}),s=_t(s,o.translate(e,null,null,n)),isNaN(s)||(o.horiz?tn(b,function(e){p=e.top,v=p+e.len,h=d=i(s+o.transB),(h>=l&&h<=l+o.width||r)&&m.push("M",h,p,"L",d,v)}):tn(b,function(e){h=e.left,d=h+e.width,p=v=i(c+o.height-s),(p>=c&&p<=c+o.height||r)&&m.push("M",h,p,"L",d,v)}));if(m.length>0)return f.crispPolyLine(m,t||1)},On.prototype.getPlotBandPath=function(e,t){var n=this.getPlotLinePath(t),r=this.getPlotLinePath(e),i=[],s;if(r&&n)for(s=0;s<r.length;s+=6)i.push("M",r[s+1],r[s+2],"L",r[s+4],r[s+5],n[s+4],n[s+5],n[s+1],n[s+2]);else i=null;return i},xn.prototype.crispPolyLine=function(e,t){var n;for(n=0;n<e.length;n+=6)e[n+1]===e[n+4]&&(e[n+1]=e[n+4]=i(e[n+1])-t%2/2),e[n+2]===e[n+5]&&(e[n+2]=e[n+5]=i(e[n+2])+t%2/2);return e},N===yt.VMLRenderer&&(Tn.prototype.crispPolyLine=xn.prototype.crispPolyLine),Ft(On.prototype,"hideCrosshair",function(e,t){e.call(this,t);if(!At(this.crossLabelArray))return;At(t)?this.crossLabelArray[t]&&this.crossLabelArray[t].hide():tn(this.crossLabelArray,function(e){e.hide()})}),Ft(On.prototype,"drawCrosshair",function(t,n,r){t.call(this,n,r);if(!At(this.crosshair.label)||!this.crosshair.label.enabled||!At(r))return;var i=this.chart,s=this.options.crosshair.label,o=this.isXAxis?"x":"y",u=this.horiz,a=this.opposite,f=this.left,l=this.top,c=this.crossLabel,h,p,d,v=s.format,m="",g;c||(c=this.crossLabel=i.renderer.label().attr({align:s.align||(u?"center":a?this.labelAlign==="right"?"right":"left":this.labelAlign==="left"?"left":"center"),zIndex:12,height:u?16:e,fill:s.backgroundColor||this.series[0]&&this.series[0].color||"gray",padding:_t(s.padding,2),stroke:s.borderColor||null,"stroke-width":s.borderWidth||0}).css(bt({color:"white",fontWeight:"normal",fontSize:"11px",textAlign:"center"},s.style)).add()),u?(h=r.plotX+f,p=l+(a?0:this.height)):(h=a?this.width+f:0,p=r.plotY+l);if(p<l||p>l+this.height){this.hideCrosshair();return}!v&&!s.formatter&&(this.isDatetimeAxis&&(m="%b %d, %Y"),v="{value"+(m?":"+m:"")+"}"),c.attr({text:v?qt(v,{value:r[o]}):s.formatter.call(this,r[o]),x:h,y:p,visibility:V}),d=c.getBBox();if(u){if(this.options.tickPosition==="inside"&&!a||this.options.tickPosition!=="inside"&&a)p=c.y-d.height}else p=c.y-d.height/2;u?g={left:f-d.x,right:f+this.width-d.x}:g={left:this.labelAlign==="left"?f:0,right:this.labelAlign==="right"?f+this.width:i.chartWidth},c.translateX<g.left&&(h+=g.left-c.translateX),c.translateX+d.width>=g.right&&(h-=c.translateX+d.width-g.right),c.attr({x:h,y:p,visibility:V})});var Sr=rr.init,xr=rr.processData,Tr=Un.prototype.tooltipFormatter;rr.init=function(){Sr.apply(this,arguments),this.setCompare(this.options.compare)},rr.setCompare=function(t){this.modifyValue=t==="value"||t==="percent"?function(n,r){var i=this.compareValue;return n!==e&&(n=t==="value"?n-i:n=100*(n/i)-100,r&&(r.change=n)),n}:null,this.chart.hasRendered&&(this.isDirty=!0)},rr.processData=function(){var e=this,t=0,n,r,i;xr.apply(this,arguments);if(e.xAxis&&e.processedYData){n=e.processedXData,r=e.processedYData,i=r.length;for(;t<i;t++)if(typeof r[t]===fr&&n[t]>=e.xAxis.min){e.compareValue=r[t];break}}},Ft(rr,"getExtremes",function(e){e.apply(this,[].slice.call(arguments,1)),this.modifyValue&&(this.dataMax=this.modifyValue(this.dataMax),this.dataMin=this.modifyValue(this.dataMin))}),On.prototype.setCompare=function(e,t){this.isXAxis||(tn(this.series,function(t){t.setCompare(e)}),_t(t,!0)&&this.chart.redraw())},Un.prototype.tooltipFormatter=function(e){var t=this;return e=e.replace("{point.change}",(t.change>0?"+":"")+Bt(t.change,_t(t.series.tooltipOptions.changeDecimals,2))),Tr.apply(this,[e])},Ft(zn.prototype,"render",function(e){this.chart.options._stock&&(!this.clipBox&&this.animate&&this.animate.toString().indexOf("sharedClip")!==-1?(this.clipBox=wt(this.chart.clipBox),this.clipBox.width=this.xAxis.len,this.clipBox.height=this.yAxis.len):this.chart[this.sharedClipKey]&&this.chart[this.sharedClipKey].attr({width:this.xAxis.len,height:this.yAxis.len})),e.call(this)}),bt(yt,{Axis:On,Chart:qn,Color:En,Point:Un,Tick:An,Renderer:N,Series:zn,SVGElement:Sn,SVGRenderer:xn,arrayMin:Wt,arrayMax:Xt,charts:j,dateFormat:M,format:qt,pathAnim:D,getOptions:gn,hasBidiBug:x,isTouchDevice:w,numberFormat:Bt,seriesTypes:gt,setOptions:mn,addEvent:on,removeEvent:un,createElement:Pt,discardElement:$t,css:Dt,each:tn,extend:bt,map:sn,merge:wt,pick:_t,splat:Mt,extendClass:Ht,pInt:Et,wrap:Ft,svg:S,canvas:T,vml:!S&&!T,product:I,version:q})})();